{"version":3,"sources":["../external \"React\"","../external \"ReactDOM\"","components/SubAppDrawer/styles.module.css","styles/common.module.css","configs/before-init/obRuntimeInsert.js","utils/object.js","configs/constant/page.js","configs/constant/index.js","configs/constant/ccModule.js","services/common.js","models/portal/state.js","services/message.js","configs/constant/errCode.js","services/http.js","utils/sign.js","services/shared/sign.js","services/subApp.js","services/event.js","services/concent.js","services/c2HookDemos.js","utils/fn.js","services/classInfo.js","services/shared/appPath.js","utils/array.js","utils/url.js","models/portal/reducer.js","configs/constant/event.js","models/portal/computed.js","models/portal/index.js","services/subAppTool.js","utils/num.js","utils/str.js","utils/regs.js","models/app-store/reducer.js","models/app-store/watch.js","models/app-store/index.js","models/app-store/state.js","models/version-list/state.js","components/GeneralTable/model/state.js","components/GeneralTable/model/reducer.js","components/GeneralTable/model/index.js","components/GeneralTable/styled.js","components/GeneralTable/index.js","models/version-list/reducer.js","services/subAppVersion.js","services/serverMod.js","models/server-mod-list/reducer.js","models/server-mod-list/index.js","models/index.js","models/version-list/index.js","models/server-mod-list/state.js","configs/before-init/listenHubAppEvent.js","configs/before-init/runConcent.js","configs/before-init/listenUrlChange.js","components/dumb/Blank.js","pages/Welcome/demoCode.js","pages/Welcome/User.js","pages/Welcome/index.js","utils/date.js","utils/hel.js","utils/common.js","components/SubApp/styled.js","components/SubApp/AppTitle.js","components/SubApp/index.js","pages/LatestVisit/index.js","pages/StarList/index.js","pages/CreatedList/index.js","services/staff.js","components/RtxNameDropdownSelect/index.js","components/ClassIdDropdownSelect/util.js","components/ClassIdDropdownSelect/ClassItemUpdateLayer.js","components/ClassIdDropdownSelect/ClassTokenPreviewLayer.js","components/ClassIdDropdownSelect/index.js","pages/AppStore/index.js","pages/Top/index.js","components/EasyForm/Blank.js","components/EasyForm/_util.js","components/EasyForm/Form.js","components/EasyForm/index.js","configs/constant/formTip.js","configs/constant/share.js","components/SubAppCreateForm/fieldConf.js","components/SubAppCreateForm/index.js","pages/NewApp/index.js","pages/NotFound/index.js","pages/SyncStaff/index.js","pages/SyncAllowedApps/index.js","services/allowedApp.js","pages/ClassManagement/index.js","components/Routes.js","components/LeaveSubAppModal/styled.js","components/LeaveSubAppModal/index.js","configs/constant/nodeSelector.js","components/SubAppDrawer/components/TokenViewer.js","components/SubAppDrawer/fieldConf.js","components/SubAppDrawer/components/MarkInfoModal.js","components/SubAppDrawer/components/MetaDataDrawer.js","components/SubAppDrawer/components/ResetVerModal.js","components/SubAppDrawer/logic/helper.js","components/SubAppDrawer/AppVersionList.js","components/SubAppDrawer/ServerModList.js","components/SubAppDrawer/Setting.js","components/SubAppDrawer/ProjVerMap/SelectVersionLayer.js","components/SubAppDrawer/ProjVerMap/index.js","components/SubAppDrawer/index.js","components/SubAppCopyLayer/index.js","components/AppRoot/Header.js","components/icon/LatestVisit.js","components/icon/Star.js","components/icon/Home.js","components/util/Condition.js","components/AppRoot/_dumb/Logo.js","components/AppRoot/SiderBar/styled.js","components/AppRoot/SiderBar/BarItem.js","components/icon/Discover.js","components/AppRoot/SiderBar/NoAppFoundTip.js","components/AppRoot/SiderBar/index.js","components/AppRoot/Footer.js","components/AppRoot/ConfirmVisitAppModal.js","components/AppRoot/index.js","index.js"],"names":["module","exports","React","ReactDOM","adaptLegacyVueExternal","src","endsWith","VueMod","window","Vue","LEAH_Vue","mod","Object","keys","length","default","defaultRef","assign","err","console","error","ensureModShape","MutationObserver","WebKitMutationObserver","MozMutationObserver","mutations","forEach","mutation","addedNodes","len","i","observe","document","childList","obRuntimeInsert","okeys","map","clone","obj","JSON","parse","stringify","Error","safeAssign","to","from","newObj","_objectSpread","key","value","undefined","safeParse","jsonStr","defaultValue","arguments","isNull","nullDef","nullValues","emptyObjIsNull","emptyArrIsNull","inNullValues","includes","Array","isArray","hasProperty","property","prototype","hasOwnProperty","call","purify","isValueInvalid","_isInvalid","pureObj","noDupPush","arr","item","push","ensureArr","LATEST_VISIT","STAR","CREATED","STORE","NEW_APP","CLASS_MGR","SYNC_STAFF","SYNC_ALLOWED_APPS","NEW_PLATFORM_APP","TOP","INTRO","WELCOME","OUT_URL_PREFIX","OUT_URL_PREFIX_V2","HEL_CHARGER","HEL_ADMINS","__HELPACK_ADMINS__","LS_HUB_PORTAL_STATE","IMG_TNEWS_SPLASH_SCREEN","DEFAULT_LOGO","ICON_HEL","ICON_PIPELINE","ICON_GITCODE","ICON_STAR_NO","ICON_STAR","ICON_DEL","HEL_ARCH","HEL_BANNER","HEL_LABEL_LOGO","HEL_REMOTE_LIB_CASE","HEL_REMOTE_REACT_CASE","HEL_REMOTE_VUE_CASE","DEMO_EDITOR_BG","APP_CARD_GRAY","localSec","encrypedStr","__HELPACK_SECSTR__","plaintext","replace","options","mode","cryptojs","ECB","padding","pad","Pkcs7","AES","decrypt","toString","enc","Utf8","SEC_STR","path2Module","page","lsKeys","LIST_MODE","getUrlAppName","pathname","top","location","str","substring","startsWith","getRouteRelativePath","routerHistory","history","getRouterHistory","hash","substr","latestPushPath","path","computeDefaultLatestPushPath","historyPush","refresh","loadAppWithForceRefresh","concat","origin","fullPath","href","port","message","warn","portalState","getState","persistTime","Date","now","justLoadByHrefRefresh","localStorage","setItem","cst","persistPortalModule","getAppPipelineProjSpace","appVersion","project_name","getAppPipelineBuildUrl","pipeline_id","build_id","plugin_ver","getUserAvatarUrl","name","log","getInitialState","toMerge","persistedState","getItem","userInfo","starAppNames","name2SubApp","visitAppNames","basicDataReady","activeApp","sideBarVisible","initialState","delayRemoveStyle","loading","ballVisible","contentVisible","user","icon","userMarkedList","appVerId2detail","moduleLoadtime","objUtil","key2tipTimer","validMethods","_callMessageMethod","method","cb","content","displayDuration","noDupDuration","setTimeout","info","Promise","resolve","success","warning","cute","setConfig","retryCount","timeout","generalOptions","headers","withCredentials","checkCode","axiosReply","url","checkOptions","returnLogicData","check","statusCode","httpResponse","data","status","response","code","msg","String","attachPrefixAndData","pureUrl","prefixedUrl","qs","attachReqTime","time","handleError","errCode","messageService","async","sendRequest","mergedOpt","reply","reqUrl","post","body","http","checkFn","_ref","_objectWithoutProperties","_excluded","reqwest","type","params","axios","get","put","xFormPost","xFormOptions","postE","postFromData","formData","FormData","k","append","instance","create","reject","then","res","multiGet","urls","_urls","failStrategy","const","KEEP_ALL_BEEN_EXECUTED","r","idx","multiPost","items","signMD5","crypto","MD5","signUrlByName","timestamp","nonce","signUrl","attachNameToUrl","concatSymbol","seg","ensureCommittedSubAppProperties","subApp","copy","gray_users","owners","querySubApps","queryOptions","_queryOptions","size","ret","getSubApp","appName","createSubApp","toCreate","updateSubApp","toUpdate","id","getSubAppVersion","versionTag","isFull","ev2cbs","on","evName","cbs","emit","_len","args","_key","moduleName","noop","priBuildCallParams","connect","targetOptions","setup","tag","extra","staticExtra","cuDesc","passCuDesc","props","ccClassKey","regOpt","useC2Mod","useConcent","useSetup","mergedOptions","MODULE_DEFAULT","settings","typeCtxM","ctx","typeCtxDe","getModelState","getModelComputed","getComputed","getRootState","ccReducer","reducer","c2","getNonceData","getClassInfoList","getBackendRenderPath","removeIfExist","strItem","arrCopy","slice","indexOf","splice","getSearchObj","search","split","cacheLinkHelper","openNewTab","topWindow","link","createElement","target","rel","click","parentNode","removeChild","getPrefixAndVersionQuery","isOut","isV2","version","versionQuery","prefix","getMetaApiUrl","getNoHtmlContentMetaApiUrl","setLoading","moduleState","redirectTo","p","m","ac","replaceState","setState","loadSubApp","stopLoad","prevActiveApp","targetSubApp","subAppService","is_local_render","render_app_host","trace","urlUtil","splash_screen","online_version","build_version","enable_gray","is_in_gray","versionId","ignoreQueryPrefix","_appv","commonService","subAppVersion","targetName","is_back_render","openBackRenderApp","open","Modal","confirm","title","onOk","onCancel","cookie","save","prevActiveAppInfo","hrefRefresh","is_rich","sub_app_name","sub_app_version","versionIndex","version_tag","vtag","render_mode","html_content","fullVersion","write","renderSubApp","dispatch","initUserExtendData","payload","markedInfo","markedList","login","updateUserVisitApp","subAppName","latestVisit","needRefresh","changeSubApp","isLocalRender","noNewTab","renderAppPath","targetIsLocalRender","targetRenderPath","rootState","appStore","cachedSubApp","reload","checkPageUrl","urlAppName","updateStarApps","_star","mergeSubAppMap","inputName2SubApp","delVisitApp","arrUtil","delStarApp","initClassInfoList","allClassInfoList","displaySubAppWithSideBar","n","displaySubAppOnly","isCurActiveAppRich","targetApp","isAdmin","state","computed","lifecycle","loaded","formatSubApp","logo","_loading","formatSubApps","subApps","$name2SubApp","v","makeQueryOptions","inputOptions","appNames","isTop","where","is_top","create_by","randomNumber","lessThan","seed","Math","random","parseInt","cache","letters","letterCount","buildStrSorter","getStr","o1","o2","str1","str2","canFetch","syncAppMapToPortalSilently","portal","silent","initPage","forceInit","app","toSet","searchStr","listMode","openver","isVerTabOpen","fetchDataList","initStarList","subAppTool","initCreatedList","initVisitList","initTop","initAllPage","curPathname","path2Reducer","restPathnames","needRefreshReducer","changePageAndLoading","classKey","searchType","searchUser","is_test","pureStr","class_key","apps","fetchedSubApps","total","new_name2SubApp","msgService","sort","strUtil","o","app_group_name","toOpenSubApp","find","handleStarIconClick","_ref2","needDel","starIt","delSubAppInView","handleOtherPages","handleDelIconClick","findIndex","toUpdatePartial","updateSubAppViewModel","_ref3","rest","regs","test","class_name","searchApp","refreshCurPage","refreshStoreApp","appInfo","oldData","resetAppInfoCache","btnLoading","watch","globalMarkedList","pageList","markTotal","buildTotal","showInput","changeMode","inputVersion","updateLoading","grayBtnLoading","projVerAreaLoading","getInitMetaData","hasMoreMode","pageSize","lockId","hasMore","current","list","getTableMeta","meta","tableId","modTableMeta","toMod","tableMeta","handlePageCurrentChange","_","fetchFn","fetchTableData","handleNextPage","_ref4","handlePageSizeChange","_ref5","clearTable","_ref6","_ref7","oldList","page_list","start","__seq","targetList","configure","NoHeadTable","styled","Table","_templateObject","_taggedTemplateLiteral","evNames","tid","fetchAfterMounted","propsFetchFn","pageSizeOptions","ccUniqueKey","_fetchFn","mr","effect","handelPageSizeChange","memo","columns","rowKey","scroll","x","disableBtnWhenNoMore","hasTopPagination","getColumns","noTableHead","uiPagination","Pagination","onShowSizeChange","onChange","showSizeChanger","style","paddingRight","float","columnsVar","TableComp","Fragment","dataSource","pagination","height","width","Button","disabled","onClick","inner","refreshTableCurPage","refreshTable","freshSubApp","subAppSrv","freshSubAppGlobalMarkInfo","globalData","mark_info","freshSubAppAssociate","all","freshSubAppAssociateAndTable","fetchVersionList","countData","subAppVersionSrv","verList","pushToVerList","ver","filter","tableTotal","finalPage","$uiType","updateAppVersion","pureVersion","msgSrv","versionData","clickUpdateVersionBtn","clear","showChangeOnlineInput","showChangeGrayInput","agreeGray","clickAgreeGrayBtn","delAppUserMark","delAppGlobalMark","changeListMode","updateProjVer","dataList","proj_ver","utime","onlineVerId","b","buildVerId","resetVerCache","verAppName","verID","getSignedUrl","apiKey","count","serverModSrv","setAppNodeDisplay","display","node","querySelector","cc","bindCcToWindow","run","models","middlewares","stateInfo","next","addEventListener","p1","p2","bgImg","bodyStyle","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","Blank","children","mergedStyle","NormalBlank","VerticalBlank","NormalSpanBlank","remoteLib","remoteLibLazy","remoteReact","remoteVue","stDot","borderRadius","backgroundColor","margin","MoreUser","align","User","site","label","monaco","languages","typescript","typescriptDefaults","setDiagnosticsOptions","noSemanticValidation","noSyntaxValidation","Banner","div","BannerLogo","_templateObject2","BannerVersion","_templateObject3","BannerHelLabelWrap","span","_templateObject4","MyRow","_templateObject5","_templateObject6","RowTitle","_templateObject7","stIntroWrap","position","fontSize","color","textAlign","stHelMicro","stEditorWrap","paddingTop","paddingLeft","CodeDemo","demoType","setDemoType","useState","marginBottom","Radio","Group","e","MonacoEditor","language","theme","demoCode","selectOnLineNumbers","Welcome","gotoPage","uiBtnGroup","PlusOutlined","AppstoreOutlined","ApartmentOutlined","VideoCameraOutlined","className","Col","Alert","showIcon","description","formatISODateStr","toLocaleString","formatLocaleString","keyword","lep","ch","leftPad","left","right","year","month","day","h","s","tryGetLocaleStrOfISOStr","isoStr","replaceSlash","hour12","appProps","helContext","renderByHelMicro","setMicroAppProps","microAppProps","isRenderByHelMicro","isEnsured","getShadowContainer","shawRoot","ensureDropdownListVisible","getAppBodyContainer","idOrTriggerNode","getElementById","delay","ms","ste","preventDefault","stopPropagation","DescWrap","AppTitleWrap","AvatarWrap","MyCard","Card","stHighLight","stpdr","stName","stNameVar","showIcons","onTitleClick","Tooltip","LinkOutlined","CopyOutlined","validModuleList","Meta","stTagsWrap","zIndex","stClassWrap","stCard","borderBottom","stCardRed","responsiveColProps","xs","sm","md","lg","xl","cpath","stClip","WebkitClipPath","clipPath","c","currentTarget","dataset","renderKey","handleEditIconClick","jumpTo","gitRepoUrl","git","handleCardClick","getStClassWrap","0","1","2","3","getCardStyle","appData","enable_pipeline","enablePipeline","isInGray","st","setShowIcons","openCopySubAppLayer","UIIcon","actions","Tag","create_at","update_at","getTooltipContainer","helUtil","Avatar","data-name","data-git","git_repo_url","delVisit","Popover","EllipsisOutlined","HeartOutlined","BugOutlined","ExclamationCircleOutlined","Spin","spinning","hoverable","onMouseEnter","onMouseLeave","AppTitle","desc","gotoStorePage","Empty","image","imageStyle","Row","gutter","SubApp","gotoNewAppPage","getStaffList","_arrusers","isInitCalled","isDataReady","getIsDataReady","searchUsers","toMatchStr","staffList","matchedList","full","debounce","ins","initState","matchedUserList","staffSrv","cu","matchedUserOptions","en","LoadingOutlined","initStaffState","searchMonitor","toMatch","getUsers","users","users1","users2","users3","users4","allowClear","placeholder","targetMode","Select","onSearch","showSearch","getPopupContainer","filterOption","input","option","toLowerCase","classInfoList","originalLabel","inputStr","getList","myClassItems","visibleClassItems","allClassItems","ClassItemUpdateLayer","syncer","visible","modalVisible","modify","closeModal","okText","cancelText","confirmLoading","updateBtnLoading","Input","selectedClassInfo","editName","stCopy","ClassTokenPreviewLayer","classToken","classTokenLoading","classTokenModalVisible","footer","closeClassTokenModal","class_label","stTitle","stNewClassInfoWrap","border","stFont","newKey","newName","newBtnLoading","showNewClassInfo","formatMsg","replaceMsg","cancelNewClassInfo","gotoClassMgr","letterOrNum","newClassInfo","isCreatedSuccess","openModal","fullData","getFullClassInfoById","class_token","updateClassInfo","ClassIdCreatorUI","marginLeft","ClassItem","showTokenBtn","ctime","EditOutlined","EyeOutlined","openClassTokenModal","renderOptions","allowEdit","MyClassIdMgr","isPage","ClassIdDropdownSelect","dropdownRender","menu","Divider","Space","optionLabelProp","stTestBadge","stLatestSearchBtn","transform","verticalAlign","modelVisible","newState","oldState","getLatestSearch","fetchMore","handleNameClick","unshift","setLatestSearch","searchAppByClassKey","renderLatestSearchMenu","Menu","maxHeight","overflowY","Item","showTotal","searchOptions","uiSearchType","dropdownStyle","minWidth","Search","enterButton","addonBefore","RtxNameDropdownSelect","Dropdown","overlay","FileSearchOutlined","ReloadOutlined","justify","centered","Option","fieldKey","fKey","ensureOptions","_options","makeOneFieldMultiInputView","fieldName","itemName","placeHolder","itemView","rules","d","InputNumber","render","namePath","Form","noStyle","makeGroupButtonView","initValue","_excluded2","_initValue","view","makeRadioGroupView","_excluded3","makeInputView","_excluded4","makeSelectView","_excluded5","makeInputGroupView","formItemsView","compact","makeInputMultiView","makeInputNumberView","_excluded6","makeSwitchView","_ref8","_excluded7","Switch","makeCustomizeView","_ref9","_excluded8","fieldTypeMakerMap","switch","select","inputGroup","inputMulti","inputNumber","groupButton","radioGroup","customize","getFieldTypeMaker","maker","FormItem","RadioGroup","RadioButton","util","formItemLayout","formLayout","labelCol","wrapperCol","buttonItemLayout","offset","layout","formValues","form","setFieldsValue","_form","effectProps","fillValues","fillValuesCopy","immediate","onLayoutChange","renderLayoutControl","dynamicLayout","layoutFieldLabel","UIFields","fields","f","makeFn","resetBtn","UIResetBtn","onReset","resetFields","btnLabel","htmlType","UIFillBtn","fillBtn","onFill","alert","fillBtnLabel","onValuesChange","changed","onFinish","values","useForm","refComputed","UIExtraBtns","extraBtns","initialValues","showSelfBtn","submitBtnLabel","locationOrigin","appNameTip","appTokenTip","appGroupNameTip","appRenderHostTip","APP_NAME_RULE","pattern","tokenRules","required","max","appNameRules","defaultValues","token","cnname","api_host","ui_framework","getNewToken","hostname","genNonceStr","fieldToken","QuestionCircleOutlined","fieldAppGroupName","fieldAppName","fieldAppCnName","fieldAppDesc","fieldAppOwners","optionsWithoutRender","fieldClassId","fieldAppEnableGray","fieldAppEnablePipeline","fieldAppGrayUsers","fieldAppIsLocalRender","fieldAppRenderHost","fieldAppGitRepoUrl","fieldIsTest","simpleFieldConf","detailFieldConf","stDemoLink","formUiTypeOptions","SmallCircle","getFormDefaultValues","demoValues","getDefaultValues","hasAct","formCreateMode","toCommitValues","actKey","formUiType","confirmCreateModalVisible","cancelFormBtnLoading","isTokenNeedRefresh","insState","getFieldsValue","onFormFinish","chars","atIdx","slashIdx","lastIdx","slashCount","atCount","getUiTitle","data-key","selAct","getFieldConf","valuesCopy","createOne","testApp","closeConfirmModal","getModalTitle","getModalFooter","createApp","getModalContent","EasyForm","SubAppCreateForm","stPath","NotFound","syncType","inputRef","createRef","inputIns","staffStr","resizableTextArea","textArea","syncStaff","TextArea","rows","ref","submit","Result","wrapLoading","initAllowedApps","allowedAppSrv","join","copyJson","marginTop","tipLabelWrap","Routes","Route","exact","component","StarList","CreatedList","AppStore","Top","NewApp","LatestVisit","SyncStaff","SyncAllowedApps","ClassManagement","Mask","ModalWrap","ModalHead","ModalBody","ModalFoot","ModalBtn","button","css","primary","_templateObject8","_templateObject9","show","set","handleOk","ModalContent","ModalContainer","Component","constructor","super","mountNode","this","componentDidMount","appendChild","componentWillUnmount","createPortal","tryGetToken","appToken","getSubAppToken","se","commonRules","stTooltip","TokenViewer","disabledFields","alertDesc","appVerData","markData","close","verTag","VersionList","dataStr","verIndex","getInterfaceUrl","getInterfaceUrlNoHC","copyUrl","copyUrlNoHC","copyOutUrl","copyOutUrlNoHC","MetaDataDrawer","Drawer","onClose","tipPluginOld","stHashWrap","marginRight","cardBgColors","tagColors","OnlineVersionCard","GrayVersionCard","GlobalMarkCard","UserMarkCard","stPopBtn","buildSwitchTip","toChangeListMode","toChangeLabel","curLabel","clickTopTip","fontWeight","buildConnerAndStCard","record","stCol","CardComp","isGrayVer","isOnlineVer","globalMarkedData","userMarkedData","uiConnerOnlineTag","uiConnerGrayTag","uiConnerGlobalMarkTag","uiConnerUserMarkTag","uiGlobalMarkDesc","uiUserMarkDesc","stTime","userName","stColGlobal","dateUtil","stColUserMark","wordBreak","uiConner","buildCardActions","setCardLoading","titleUiMode","validUsers","buildUrl","stRed","recordVer","isAppOwner","disableGlobalMark","globalMarkWarnTip","resetVerTip","disableResetVer","disableMarkUser","markUserWarnTip","isUserMarked","isGlobalMarked","uiVisitBuildDetailLink","uiVisitGitLink","appRenderHref","switchVer","switchToOnline","switchToGray","delUserMark","delGlobalMark","WindowsOutlined","selectAsProjVer","selectAsProjVer2","selectAsProjVer3","BranchesOutlined","placement","SettingOutlined","buildUiGitHashLinks","uiGitHashLinks","pureGitRepoUrl","gitHashList","git_hashes","contentAll","seeAllHash","getContainer","cancelButtonProps","gitCheckoutStr","copyGitCheckoutCmd","GithubOutlined","buildSwitchMarkTip","buildSwitchAllTip","buildHelModCreationTutorialTip","minHeight","listModeOptions","Label","Title","sync","inputTitle","uiGrayEnabled","CheckCircleOutlined","CloseCircleOutlined","uiGrayStatus","uiGrayUsers","SmileOutlined","wordWrap","uiChangeGrayVerBtn","danger","uiAgreeGray","helper","renderVersion","tableCtx","cardLoading","verStr","copyVersion","copyGitBranch","git_branch","ArrowRightOutlined","val","getNoTitleColumns","pFetchSubAppEnd","AppVersionList","getColumnsFn","GeneralTable","displayName","MyCol","colStyle","titleStyle","Head","getCardColumns","renderCard","loadAt","load_at","styles","srvModCardWrap","srvModJsLogo","mod_version","env_name","container_name","container_ip","pod_name","img_version","city","dataIndex","ServerModList","isCard","allowedOptions","pSubApp","pResetAppInfoBtnLoading","pAllowOutAccessBtnLoading","pAllowOutAccessCardLoading","isAllowed","isAllowedOri","getName","initAllowedData","isUserAdmin","getCanNotEditTip","createBy","allOwners","canEdit","onAllowedChanged","Setting","resetAppInfo","changeAllowed","SelectVersionLayer","getLineId","IdInput","curLenColor","valueLen","VersionInput","allowManualInput","copyToRow","uiId","copyToCol","verKey","copyToAll","delCellVer","OpLine","onlineVerIdSyncer","buildVerIdSyncer","inputStyle","selectVersion","addItem","delItem","getDataList","pLineDataList","mapBackup","pAllowManualInput","gerProjVerMap","selVersion","selType","lineNo","tipNoId","recover","nameList","hasEmptyId","hasEmptyVersionId","idInvalidTip","idTooLongTip","checkTip","tmpCheckTip","oriList","toPush","initial","ProjVerMap","controlLine","controlArea","ExclamationOutlined","checkedChildren","unCheckedChildren","checked","controlItem","borderRight","FileSyncOutlined","CheckOutlined","disableEdit","selTab","createUser","subAppCopy","switchTab","catch","finally","fieldConf","getUiExtraBtns","DatabaseOutlined","CloudServerOutlined","UIDrawerContent","closable","MarkInfoModal","ResetVerModal","getTitle","pagePaths","path2conf","FileAddOutlined","FileOutlined","getBtnKey","radioBtnKey","dropBtnKey","subMenuKey","stLine","Line","getUrlChangedEvName","action","handleRadioBtnClick","handleDropBtnClick","clickSubMenu","renderMenu","QuestionOutlined","buttonStyle","CloudOutlined","PlusSquareOutlined","LikeOutlined","ThunderboltOutlined","StarOutlined","FileTextOutlined","viewBox","focusable","data-icon","fill","aria-hidden","Star","Home","setIf","t","Logo","witdh","alt","Wrap","MenuBox","MenuItem","MenuText","IconWrap","BarItem","Discover","xmlns","p-id","stBox","stKeyword","stBtnBox","lineHeight","stBtnLabel","gotoWelcomePage","showLatestVisitMenu","showStarMenu","showHomeMenu","handleLeave","clientY","nativeEvent","y","getBoundingClientRect","handleItemClick","SiderBarConcent","hideSideBar","IconLatestVisit","Condition","NoAppFoundTip","data-path","IconStar","IconHome","stFooter","Footer","getFullYear","cancel","ok","seeVersion","seeApp","Boolean","StLayout","Layout","App","resetSubAppMargin","mcu","moduleComputed","subAppContainer","renderFullPage","renderContent","Sider","collapsed","collapsedWidth","renderSideBar","SiderBar","Content","Header","ConfirmVisitAppModal","SubAppDrawer","SubAppCopyLayer","renderAppHub","renderMainContent","componentDidUpdate","$$setup","doJump","process","BrowserRouter","basename","ConnectRouter","LeaveSubAppModal","AppWrap","register","shadowRoot","getShadowAppRoot","styleContainer","StyleSheetManager","config","duration","AppRoot","main"],"mappings":"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","file":"static/js/main.c76b6308.chunk.js","sourcesContent":["module.exports = React;","module.exports = ReactDOM;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlLine\":\"styles_controlLine__3RCfz\",\"controlArea\":\"styles_controlArea__1ZAr3\",\"controlItem\":\"styles_controlItem__3NGUm\",\"srvModCardWrap\":\"styles_srvModCardWrap__2y3mU\",\"srvModJsLogo\":\"styles_srvModJsLogo__1kp78\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tipLabelWrap\":\"common_tipLabelWrap__20S-c\"};","\n\nfunction ensureModShape(mod) {\n  try {\n    if (Object.keys(mod).length > 2) {\n      if (!mod.default) mod.default = mod;\n      return;\n    }\n    // ['__esModule', 'default']\n    const defaultRef = mod.default;\n    if (defaultRef) {\n      Object.assign(mod, defaultRef);\n    }\n  } catch (err) {\n    console.error('ensureModShape err:', err);\n  }\n}\n\nfunction adaptLegacyVueExternal(src) {\n  if (!src.endsWith('vue.js')) return;\n  const VueMod = window.Vue || window.LEAH_Vue;\n  ensureModShape(VueMod);\n  window.Vue = VueMod;\n  window.LEAH_Vue = VueMod;\n}\n\nfunction obRuntimeInsert() {\n  const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n  if (!MutationObserver) return;\n  const observer = new MutationObserver(function (mutations) {\n    mutations.forEach(function (mutation) {\n      const { addedNodes } = mutation;\n      const len = addedNodes.length;\n      for (let i = 0; i < len; i++) {\n        // https://tnfe.gtimg.com/hel-runtime/level1/v1-2.6.14-vue.js\n        const node = addedNodes[i];\n        const src = node.src || '';\n        if (!src) continue;\n        adaptLegacyVueExternal(src);\n      }\n    });\n  });\n  observer.observe(document, { childList: true });\n}\n\nobRuntimeInsert();\n","/* eslint-disable */\n\nexport function okeys(map) {\n  return Object.keys(map);\n}\n\nexport function isValidVal(val) {\n  return val !== undefined && val !== null && val !== '';\n}\n\n/**\n * 判断是否是对象 {} []\n * @param {*} val \n */\nexport function isObject(val, allowArr = true) {\n  // 防止 typeof null === 'object' 成立\n  if (!val) return false;\n  if (allowArr) {\n    return typeof val === 'object';\n  }\n  return typeof val === 'object' && !Array.isArray(val);\n}\n\nexport function clone(obj) {\n  if (obj) return JSON.parse(JSON.stringify(obj));\n  else {\n    throw new Error('empty object');\n  };\n}\n\nexport function safeGetItemFromArray(arr, idx, defaultValue) {\n  let item = arr[idx];\n  if (!item) {\n    item = arr[idx] = defaultValue;\n  }\n  return item;\n}\n\nexport function safeGet(obj, key, defaultValue) {\n  let item = obj[key];\n  if (!item) {\n    item = obj[key] = defaultValue;\n  }\n  return item;\n}\n\nexport function safeAssign(to, from) {\n  const newObj = { ...to };\n  if (!from) return newObj;\n  Object.keys(from).forEach((key) => {\n    const value = from[key];\n    if (value !== undefined && value !== null) {\n      newObj[key] = value;\n    }\n  });\n  return newObj;\n}\n\nexport function safeParse(jsonStr, defaultValue = null) {\n  if (!jsonStr) {\n    return defaultValue || jsonStr;\n  }\n  try {\n    return JSON.parse(jsonStr);\n  } catch (err) {\n    // 可能本身jsonStr已经是一个对象\n    return defaultValue || jsonStr;\n  }\n}\n\n/**\n * \n * @param value \n * @param nullDef \n */\nexport function isNull(value, nullDef = {}) {\n  const { nullValues = [null, undefined, ''], emptyObjIsNull = true, emptyArrIsNull = true } = nullDef;\n\n  const inNullValues = nullValues.includes(value);\n  if (inNullValues) {\n    return true;\n  }\n\n  if (Array.isArray(value)) {\n    if (emptyArrIsNull) return value.length === 0;\n    else return false;\n  }\n\n  if (typeof value === 'object') {\n    if (emptyObjIsNull) return Object.keys(value).length === 0;\n    else return false;\n  }\n\n  return false;\n}\n\nexport function reverseMap(originalMap) {\n  return Object.keys(originalMap).reduce((map, key) => {\n    const value = originalMap[key];\n    map[value] = key;\n    return map;\n  }, {});\n}\n\n/**\n * 后端有些接口返回空map的格式是数组 [],\n * 但其实期望的是 {},\n * 为了保证上传业务逻辑消费数据的格式一致性，使用此函数做修正\n */\nexport function ensureMap(obj, key) {\n  if (Array.isArray(obj[key])) {\n    obj[key] = {};\n  }\n}\n\nexport function transformMap(map, getValue, getKey) {\n  const newMap = {};\n  const _getKey = getKey || (key => key);\n\n  okeys(map).forEach(key => {\n    const value = map[key];\n    const mapKey = _getKey(key, value);\n    newMap[mapKey] = getValue ? getValue(value, key) : value;\n  });\n  return newMap;\n}\n\n/**\n *\n * @param {*} list\n * @param {string} keyName 选择哪个key的值作为map的key，也可以是一个动态生成key的函数\n * @param {*} getValue \n */\nexport function toMap(list, keyNameOrFn, getValue) {\n  const map = {};\n  if (!list) return map;\n  list.forEach(v => {\n    let mapKey;\n    if (typeof keyNameOrFn === 'function') mapKey = keyNameOrFn(v);\n    else mapKey = v[keyNameOrFn];\n\n    if (getValue) map[mapKey] = getValue(v);\n    else map[mapKey] = v;\n  });\n  return map;\n}\n\n/**\n * map 转为 list\n * @param map \n * @param keyName\n * @param valueName\n */\nexport function toList(map, getItem = (key, value) => value) {\n  const list = [];\n  okeys(map).forEach(key => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  })\n  return list;\n}\n\n// export function toList(map, keyName, valueName = 'value') {\n//   const list = [];\n//   Object.keys(map).forEach(key => {\n//     list.push({ [keyName]: key, [valueName]: map[key] });\n//   })\n//   return list;\n// }\n\nexport function filterList(list, filterCb, getValCb) {\n  const newList = [];\n  list.forEach(item => {\n    if (filterCb(item)) newList.push(getValCb(item));\n  });\n  return newList;\n};\n\n/**\n  * 对比新老对象，提取出新对象里发生变化的部分并单独返回\n  * 注意此函数只做浅比较\n  * @param {object} oldObj\n  * @param {object} newObj\n  * @param {string} [fixedKeys=[]] - 必定要包含的key\n  */\nexport function extractChangedPart(oldObj, newObj, fixedKeys = []) {\n  const changed = {};\n  const oldObjKeys = okeys(oldObj);\n  const newObjKeys = okeys(newObj);\n  const traversalKeys = newObjKeys.length > oldObjKeys.length ? newObjKeys : oldObjKeys;\n\n  traversalKeys.forEach(key => {\n    const newVal = newObj[key];\n    if (fixedKeys.includes(key)) {\n      changed[key] = newVal;\n      return;\n    }\n    if (newVal === undefined) return;\n    if (oldObj[key] !== newVal) changed[key] = newVal;\n  });\n  return changed;\n}\n\nexport function hasProperty(obj, property) {\n  return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\nexport function replaceMapKey(map, keyMapOrKeyConvertor) {\n  const newMap = {};\n  const getKey = typeof keyMapOrKeyConvertor === 'function'\n    ? key => keyMapOrKeyConvertor(key)\n    : key => keyMapOrKeyConvertor[key];\n\n  okeys(map).forEach(key => {\n    const mapKey = getKey(key) || key;\n    newMap[mapKey] = map[key];\n  });\n  return newMap;\n}\n\nexport function purify(obj, isValueInvalid) {\n  // isValidVal or isNull\n  const _isInvalid = isValueInvalid || (value => !isNull(value));\n  const pureObj = {};\n  okeys(obj).forEach(key => {\n    if (_isInvalid(obj[key])) pureObj[key] = obj[key];\n  });\n  return pureObj;\n}\n\nexport function noDupPush(arr, item) {\n  if (!arr.includes(item)) arr.push(item);\n}\n\nexport function ensureArr(obj, key) {\n  if (!Array.isArray(obj[key])) obj[key] = [obj[key]];\n}\n","\nexport const LATEST_VISIT = '/latest-visit';\n\nexport const STAR = '/star';\n\nexport const CREATED = '/created';\n\nexport const STORE = '/store';\n\nexport const NEW_APP = '/new-app';\n\nexport const CLASS_MGR = '/class-management';\n\nexport const SYNC_STAFF = '/sync-staff';\n\nexport const SYNC_ALLOWED_APPS = '/sync-allowed-apps';\n\n/**\n * 这是一个隐藏的路由\n */\nexport const NEW_PLATFORM_APP = '/new-app2';\n\nexport const TOP = '/top';\n\nexport const INTRO = '/intro';\n\nexport const WELCOME = '/welcome';\n","import cryptojs from 'crypto-js';\nimport * as page from './page';\nimport * as ccModule from './ccModule';\n\nexport const OUT_URL_PREFIX = 'https://footprint.qq.com/hel';\n\n/** 此域名支持海外访问，是推荐的域名 */\nexport const OUT_URL_PREFIX_V2 = 'https://helmicro.com';\n\n/** hel负责人 */\nexport const HEL_CHARGER = 'fantasticsoul';\n\n/** @type string[] */\nexport const HEL_ADMINS = window.__HELPACK_ADMINS__ || [HEL_CHARGER];\n\n/** 配合fast load */\nexport const LS_HUB_PORTAL_STATE = 'hub.portalState';\n\nexport const IMG_TNEWS_SPLASH_SCREEN = 'https://mat1.gtimg.com/news/js/tnfe/imgs/leah4/t-fetching.png';\n\nexport const DEFAULT_LOGO = 'https://tnfe.gtimg.com/hel-img/tnew-logo.png';\n\nexport const ICON_HEL = 'https://tnfe.gtimg.com/hel-img/hel-logo-64.png';\n\nexport const ICON_PIPELINE = 'https://tnfe.gtimg.com/image/k7ajm4boap_1623656062511.png';\n\nexport const ICON_GITCODE = 'https://tnfe.gtimg.com/hel-img/gitcode-logo-v2.png';\n\nexport const ICON_STAR_NO = 'https://tnfe.gtimg.com/hel-img/star-no-v3.png';\n\nexport const ICON_STAR = 'https://tnfe.gtimg.com/hel-img/star.png';\n\nexport const ICON_DEL = 'https://tnfe.gtimg.com/hel-img/icon-del.png';\n\nexport const HEL_ARCH = 'https://tnfe.gtimg.com/image/f13q7cuzxt_1652895450360.png';\n\n// old http://mat1.gtimg.com/news/js/tnfe/imgs/leah4/helbg1.jpg\nexport const HEL_BANNER = 'https://tnfe.gtimg.com/image/eai2tlcqqm_1641021424949.jpg';\n\nexport const HEL_LABEL_LOGO = 'https://tnfe.gtimg.com/image/cr34f76naf_1641028409205.png';\n\nexport const HEL_REMOTE_LIB_CASE = 'https://tnfe.gtimg.com/image/7bljnu12is_1652903733496.png';\n\nexport const HEL_REMOTE_REACT_CASE = 'https://tnfe.gtimg.com/image/as5esz5jel_1652903738582.png';\n\nexport const HEL_REMOTE_VUE_CASE = 'https://tnfe.gtimg.com/image/snddrqs0o9_1652903744537.png';\n\nexport const DEMO_EDITOR_BG = 'https://tnfe.gtimg.com/image/li4ag50scc_1653811070745.png';\n\nexport const APP_CARD_GRAY = 'TODO:app-card-gray-demo-image';\n\nconst localSec = 'xc_is_cool_bilibalaweiwei';\n// 定义密文和密钥\nconst encrypedStr = window.__HELPACK_SECSTR__ || localSec;\nlet plaintext = '';\n\nif (encrypedStr === localSec) {\n  plaintext = localSec;\n} else {\n  const mixedKey = 'ayxfbrysVczsIVjsgo';\n  const key = mixedKey.replace('x', '').replace('y', '').replace('z', '');\n  // 设置解密选项\n  const options = {\n    mode: cryptojs.mode.ECB, // 使用ECB模式\n    padding: cryptojs.pad.Pkcs7, // 使用Pkcs7填充方式\n  };\n  // 执行解密操作\n  const decrypted = cryptojs.AES.decrypt(encrypedStr, key, options);\n  // 获取解密后的明文\n  plaintext = decrypted.toString(cryptojs.enc.Utf8);\n}\n\n// 不在 query 或 body 里出现的秘串，加大破解签名方式难度，改串仅客户端和服务器端知道\nexport const SEC_STR = plaintext;\n\nexport const path2Module = {\n  [page.LATEST_VISIT]: ccModule.LATEST_VISIT,\n  [page.STAR]: ccModule.STAR_LIST,\n  [page.STORE]: ccModule.APP_STORE,\n  [page.TOP]: ccModule.TOP,\n  [page.CREATED]: ccModule.CREATED_LIST,\n};\n\nexport const lsKeys = {\n  APP_CARD_GRAY: 'helpack.appCard.bgGray',\n  LIST_MODE: 'helpack.appStore.listMode',\n};\n","\nexport const PORTAL = 'portal';\n\n/** @type {'latestVisit'} */\nexport const LATEST_VISIT = 'latestVisit';\n\n/** @type {'starList'} */\nexport const STAR_LIST = 'starList';\n\n/** @type {'createdList'} */\nexport const CREATED_LIST = 'createdList';\n\n/** @type {'appStore'} */\nexport const APP_STORE = 'appStore';\n\nexport const TOP = 'top';\n\nexport const VERSION_LIST = 'VersionList';\n\nexport const SERVER_MOD_LIST = 'ServerModList';\n","/* eslint-disable camelcase */\n/** @typedef {import('types/store').TPortalState} TPortalState */\n/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport { message } from 'antd';\nimport { history } from 'react-router-concent';\nimport { getState } from 'concent';\nimport * as page from 'configs/constant/page';\nimport * as ccModule from 'configs/constant/ccModule';\nimport * as cst from 'configs/constant';\nimport qs from 'qs';\n\nconst { LATEST_VISIT, STAR, STORE, INTRO } = page;\n\nfunction computeDefaultLatestPushPath() {\n  // #/xxxx ---> /xxx\n  const path = window.top.location.hash.substr(1);\n  if ([LATEST_VISIT, STAR, STORE, INTRO, '/'].includes(path)) {\n    return path;\n  }\n  return '/';\n}\n\nfunction persistPortalModule() {\n  /** @type TPortalState */\n  const portalState = getState(ccModule.PORTAL);\n  portalState.persistTime = Date.now();\n  portalState.justLoadByHrefRefresh = true;// 设置为true，给protal reducer 再次读取时判断是不是刚刚强刷进来\n  try {\n    localStorage.setItem(cst.LS_HUB_PORTAL_STATE, JSON.stringify(portalState));\n  } catch (err) {\n    // pass\n  }\n}\n\nexport function getTitle() {\n  return '海拉模块管控';\n}\n\nexport function getUrlAppName() {\n  const { pathname } = window.top.location;\n  // 形如 xxxx, @hel-demo/hub-test,\n  const str = pathname.substring(1);\n  // 约定了 page/xxx 是访问对应页面的原始 html，需再提取一下名字\n  // 此情况只会出现在本地，线上运行时，page/xxx 命中的页面已经是应用自己的 html\n  if (str.startsWith('page/')) {\n    return str.substring(5);\n  }\n  return str;\n}\n\n// /store, /star, /latest-visit, /\nexport function getRouteRelativePath() {\n  const routerHistory = history.getRouterHistory();\n  if (!routerHistory) {\n    // 还未挂载好history\n    // #/xxx ---> /xxx\n    return window.top.location.hash.substr(1);\n  }\n  const { pathname } = routerHistory.location;\n  return pathname;\n}\n\nexport function getCurrentPage() {\n  const pathanme = getRouteRelativePath();\n  return pathanme.split('/')[1];\n}\n\nlet latestPushPath = computeDefaultLatestPushPath();\n\n/**\n * 母应用内部各个页面之间跳转时需要调用的路由跳转函数\n */\nexport function historyPush(path, refresh = false) {\n  if (refresh) {\n    // 使用强刷新策略载入母应用自己，如 /#/welcome\n    loadAppWithForceRefresh(`${window.top.location.origin}/#${path}`);\n    return;\n  }\n  latestPushPath = path;\n  history.push(path);\n}\n\nexport function getLatestPushPath() {\n  return latestPushPath;\n}\n\nexport function loadAppWithForceRefresh(/** @type string*/fullPath) {\n  let href = fullPath;\n  if (fullPath.endsWith('#/')) {\n    href = fullPath.substr(0, fullPath.length - 2);\n  }\n  const { port } = window.location;\n  if (port && href.includes(`${port}/page/`)) {\n    return message.warn(`不支持在本地开发时访问 ${href}`);\n  }\n\n  persistPortalModule();\n  window.top.location.href = href;\n}\n\nexport function getAppVersionInUrl() {\n  const search = window.top.location.search;\n  if (!search) return '';\n  const searchObj = qs.parse(search, { ignoreQueryPrefix: true });\n  return searchObj._appv || '';\n}\n\n/**\n * 获取应用的流水线所属项目空间\n * @param {SubAppVersion} appVersion\n * @returns\n */\nexport function getAppPipelineProjSpace(appVersion) {\n  const { project_name } = appVersion;\n  return `https://some-devops/pipeline/${project_name}`;\n}\n\n/**\n * @param {SubAppVersion} appVersion\n * @returns {string}\n */\nexport function getAppPipelineBuildUrl(appVersion) {\n  const { project_name, pipeline_id, build_id, plugin_ver } = appVersion;\n  if (!plugin_ver) return '';\n  return `https://some-devops/console/pipeline/${project_name}/${pipeline_id}/detail/${build_id}`;\n}\n\nexport function getUserAvatarUrl(name) {\n  // TODO\n  console.log(`get avatar for name ${name}`);\n  return 'https://avatars.githubusercontent.com/u/7334950?v=4&size=64';\n}\n","/** @typedef {import('types/domain').User} User*/\n/** @typedef {import('hel-types').ISubApp} ISubApp*/\n/** @typedef {import('hel-types').ISubAppVersion} ISubAppVersion*/\nimport * as objUtil from 'utils/object';\nimport * as cst from 'configs/constant';\nimport { getUrlAppName } from 'services/common';\n\nexport function getInitialState() {\n  let toMerge = {};\n  try {\n    const persistedState = JSON.parse(localStorage.getItem(cst.LS_HUB_PORTAL_STATE));\n    const {\n      userInfo, starAppNames, name2SubApp,\n      visitAppNames, justLoadByHrefRefresh, persistTime, basicDataReady,\n    } = persistedState;\n\n    const timeDiff = Date.now() - persistTime;\n    if (timeDiff > 3000) {\n      // 浏览器直接访问携带应用名的url，限定取3秒之类的storage数据并入store，防止并入过期数据\n      toMerge = { persistTime };\n    } else {\n      // 先访问hel主页面，然后再点击具体的应用名跳转到直应用，无论走commonServ.historyPush，还是走commonServ.loadAppWithForceRefresh\n      // 都会持久化portalState并写入persistTime，\n      // refresh模式时，会重新解析整个hel应用，此时timeDiff通常都会小于3秒，就会进入此段逻辑了\n      toMerge = {\n        userInfo, starAppNames, name2SubApp, visitAppNames, justLoadByHrefRefresh,\n        persistTime, basicDataReady,\n      };\n    }\n  } catch (err) {\n    // pass\n  }\n\n  let activeApp = getUrlAppName();\n  // __hub是hel的内置basename，不作为应用名\n  if (activeApp.startsWith('__hub')) {\n    activeApp = '';\n  }\n\n  // 无激活应用时才展示边栏\n  const sideBarVisible = !activeApp;\n\n  let initialState = {\n    delayRemoveStyle: 0,\n    /** 全局loading，在renderFullPage时有效 */\n    loading: false,\n    /** 基座边栏是否显示，当打开具体的子应用时，会隐藏为浮球 */\n    sideBarVisible,\n    /** 小球的显示和边栏互斥 */\n    ballVisible: !sideBarVisible,\n    /** 基座自己的主内容区是否显示，当打开具体的子应用时，会消失 */\n    contentVisible: sideBarVisible,\n    basicDataReady: false,\n    /** @type {User} - 用户信息 */\n    userInfo: { user: '', icon: '' },\n    /** @type {string[]} - 用户收藏的应用列表 */\n    starAppNames: [],\n    /** @type {string[]} - 用户最近访问的应用列表 */\n    visitAppNames: [],\n    /** @type {{ name: string, ver: string, desc: string, time: number }[]} - 用户对应用的标记信息 */\n    userMarkedList: [],\n    activeApp, // 当前子应用名称\n    /** @type {Record<string, ISubAppVersion>} 版本id 版本详情 map */\n    appVerId2detail: {},\n    /** @type {Record<string, ISubApp>} - 子应用列表map */\n    name2SubApp: {},\n    persistTime: 0,\n    moduleLoadtime: Date.now(),\n    /** 标记是否刚刚才利用location.href赋值刷新了页面，防止自己跳自己无限刷新 */\n    justLoadByHrefRefresh: false,\n  };\n\n  initialState = objUtil.safeAssign(initialState, toMerge);\n  return initialState;\n}\n\nexport default getInitialState;\n","/* eslint-disable camelcase,no-underscore-dangle */\nimport { message } from 'antd';\n\n/**\n * key: ${method}_${content}\n * 缓存对应方法的提示回调\n */\nconst key2tipTimer = {};\nconst validMethods = ['info', 'error', 'success', 'warn', 'warning'];\nconst NO_DUP_DURATION = 1200;\n\nfunction _callMessageMethod(method, cb, content, displayDuration, noDupDuration) {\n  if (!validMethods.includes(method)) {\n    console.error(`messageService call invalid method[${method}]`);\n    return cb('ignored');\n  }\n\n  // 直接提示，无重复校验规则\n  if (noDupDuration < 0) {\n    return cb(message[method](content, displayDuration));\n  }\n\n  const key = `${method}_${content}`;\n  const tipTimer = key2tipTimer[key];\n  if (tipTimer) {\n    // 忽略本次提示\n    return cb('ignored');\n  }\n\n  key2tipTimer[key] = setTimeout(() => {\n    delete key2tipTimer[key];\n  }, noDupDuration);\n\n  cb(message[method](content, displayDuration));\n}\n\n/**\n * 通用的提示方式，动态传参决定提示类型\n * @param {'info'|'error'|'success'|'warn'|'warning'} method\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function call(method, content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod(method, resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 普通提示\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function info(content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('info', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 错误提示\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function error(content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('error', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function success(content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('success', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 警告提示\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function warn(content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('warn', resolve, content, displayDuration, noDupDuration);\n  });\n}\n\n/**\n * 警告提示\n * @param {React.ReactNode} content\n * @param {number} [displayDuration=2] - 单位：s，提示展现多少s后消失\n * @param {number} [noDupDuration=120] - 单位：ms, 该指定毫秒时间内出现的重复提示会被忽略掉，小于0时无该规则\n * @return {Promise<import('antd/lib/message').MessageType | 'ignored'>}\n */\nexport function warning(content, displayDuration = 2, noDupDuration = NO_DUP_DURATION) {\n  return new Promise((resolve) => {\n    _callMessageMethod('warning', resolve, content, displayDuration, noDupDuration);\n  });\n}\n","\nexport default {\n  HEL_ERR_TIME_EXPIRED: 'hel_1000',\n  HEL_ERR_NONCE_INVALID: 'hel_2000',\n};\n","/* eslint-disable */\n/** @typedef {import('./httpt').IReqOptions} IReqOptions*/\nimport cute from 'cute-http';\nimport qs from 'qs';\nimport axios from 'axios';\nimport reqwest from 'reqwest';\nimport * as messageService from 'services/message';\nimport errCode from 'configs/constant/errCode';\n// import resData from 'assets/response-data';\n\ncute.setConfig({\n  retryCount: 3, // 重试次数\n  timeout: 20000, // 超时时间\n  // debug: true, // 打开debug模式\n});\n\nconst getXFormOptions = () => ({\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n  },\n  withCredentials: true,\n});\nconst generalOptions = {\n  headers: { 'Content-Type': 'application/json' },\n  withCredentials: true,\n\n  // replyReceived: (reply, m) => {\n  //   // console.log('reply.config.url', reply.config.url);\n  //   cute.post('/collectData', { data: reply.data, method: m, url: reply.config.url }, {\n  //     headers: { 'Content-Type': 'application/json' },\n  //     withCredentials: true,\n  //   });\n  // }\n};\n\n\nconst checkCode = (axiosReply, url = '', checkOptions = {}) => {\n  const { returnLogicData = true, check = true } = checkOptions;\n\n  const { statusCode = 0 } = axiosReply;\n  const httpResponse = axiosReply.data || axiosReply;\n\n  if (statusCode >= 400) throw new Error(`服务器内部错误${statusCode}`);\n  const { status = '0', message = '接口格式错误', response, code, data, msg } = httpResponse;\n\n  // 这里 status 和 code 都要判断......\n  if (check && status !== undefined) {\n    if (status !== '0') {\n      const err = new Error(message);\n      err.status = status;\n      err.url = url;\n      throw err;\n    }\n  }\n\n  if (check && code !== undefined) {\n    if (String(code) !== '0') {\n      const err = new Error(`url: ${url} ${msg || message}`);\n      err.code = code;\n      throw err;\n    }\n  }\n\n  // 直接返回 axiosReply.data, 即服务器返回的原始数据\n  if (!returnLogicData) {\n    return httpResponse;\n  }\n\n  // 服务端返回的业务相关的数据\n  return data !== undefined ? data : response;\n};\n\nexport const attachPrefixAndData = (/** @type string */url, data) => {\n  const pureUrl = url.replace(/ /g, '');\n  let prefixedUrl = `${pureUrl}`;\n\n  if (data) {\n    if (pureUrl.includes('?')) return `${prefixedUrl}&${qs.stringify(data)}`;\n    return `${prefixedUrl}?${qs.stringify(data)}`;\n  }\n\n  if (!url.startsWith('http')) {\n    prefixedUrl = `${window.top.location.origin}${prefixedUrl}`;\n  }\n\n  return prefixedUrl;\n};\n\nconst attachReqTime = (url) => {\n  const time = Date.now();\n  if (url.includes('?')) return `${url}&_rt=${time}`;\n  return `${url}?_rt=${time}`;\n}\n\nfunction handleError(error, defaultValue) {\n  if (!defaultValue) {\n    const code = error.code;\n    if (code === errCode.HEL_ERR_TIME_EXPIRED) {\n      messageService.error('你的当前系统时间不正确，请校正后再尝试');\n    }\n    throw error;\n  } else {\n    if (error && error.response && error.response.status >= 400) {\n      messageService.error(`服务器内部错误 ${error.response.status}`);\n    }\n  }\n\n  // 返回默认值\n  return defaultValue;\n}\n\nasync function sendRequest(method, url, data, options = {}) {\n  const { returnLogicData, defaultValue = '', check = true } = options;\n  try {\n    delete options.returnLogicData;\n    delete options.check;\n    const mergedOpt = { ...generalOptions, ...options };\n\n    let reply;\n    if (method === 'get') {\n      // 防止get接口被浏览器缓存\n      const reqUrl = attachReqTime(attachPrefixAndData(url, data));\n      reply = await cute[method](reqUrl, '', mergedOpt);\n    } else {\n      reply = await cute[method](attachPrefixAndData(url, ''), data, mergedOpt);\n    }\n\n    const checkOptions = { returnLogicData, check };\n    return checkCode(reply, url, checkOptions);\n  } catch (err) {\n    return handleError(err, defaultValue);\n  }\n}\n\n/**\n * @param {string} url\n * @param {object} data\n * @param {IReqOptions} options\n */\nasync function get(url, data, options) {\n  return sendRequest('get', url, data, options);\n}\n\n/**\n * @param {string} url\n * @param {object} data\n * @param {IReqOptions} options\n */\nasync function post(url, body, options) {\n  return sendRequest('post', url, body, options);\n}\n\n/**\n * @param {string} url\n * @param {object} data\n * @param {IReqOptions} options\n */\nasync function put(url, body, options) {\n  return sendRequest('put', url, body, options);\n}\n\nasync function xFormPost(url, data, options = {}) {\n  const { returnLogicData, defaultValue = '' } = options;\n  try {\n    delete options.returnLogicData;\n    const xFormOptions = getXFormOptions();\n    const reply = await cute.post(attachPrefixAndData(url, data), {}, xFormOptions);\n    return checkCode(reply, url, returnLogicData);\n  } catch (err) {\n    return handleError(err, defaultValue);\n  }\n}\n\nasync function postE(url, body, options = {}) {\n  try {\n    return post(url, body, options);\n  } catch (err) {\n    messageService.warning(err.message);\n    return handleError(err, options.defaultValue);\n  }\n}\n\nasync function multiGet(urls, options = {}) {\n  const { returnLogicData, defaultValue = '' } = options;\n  try {\n    delete options.returnLogicData;\n    const _urls = urls.map(url => attachPrefixAndData(url, ''));\n    const failStrategy = options.failStrategy !== undefined ? options.failStrategy : cute.const.KEEP_ALL_BEEN_EXECUTED;\n    const replyList = await cute.multiGet(_urls, { ...generalOptions, ...{ failStrategy } });\n    return replyList.map((r, idx) => checkCode(r, _urls[idx], returnLogicData));\n  } catch (err) {\n    return handleError(err, defaultValue);\n  }\n}\n\nasync function multiPost(items, options = {}) {\n  const { returnLogicData, defaultValue = '' } = options;\n\n  try {\n    delete options.returnLogicData;\n    items.forEach(item => item.url = attachPrefixAndData(item.url, ''));\n    const failStrategy = options.failStrategy !== undefined ? options.failStrategy : cute.const.KEEP_ALL_BEEN_EXECUTED;\n    const replyList = await cute.multiPost(items, { ...generalOptions, ...{ failStrategy } });\n    return replyList.map((r, idx) => checkCode(r, items[idx].url, returnLogicData));\n  } catch (err) {\n    return handleError(err, defaultValue);\n  }\n}\n\nasync function postFromData(url, data) {\n  const formData = new FormData();\n  Object.keys(data).forEach((k) => {\n    formData.append(k, data[k]);\n  });\n\n  const instance = axios.create({\n    withCredentials: true,\n  });\n\n  return new Promise((resolve, reject) => {\n    instance.post(url, formData).then((res) => {\n      if (res.status == 200) {\n        resolve(res.data);\n      } else {\n        reject(res.status);\n      }\n    });\n  });\n}\n\n\nconst http = async ({ checkFn = checkCode, defaultValue, ...options }) => {\n  try {\n    options.url = attachPrefixAndData(options.url);\n\n    // jsonp 通过 reqwest 发送\n    if (options.method === 'jsonp') {\n      const data = await reqwest({\n        type: 'jsonp',\n        url: `${options.url}?${qs.stringify(options.data)}`,\n      });\n      return checkFn(data);\n    }\n    // get 请求通过params发送参数\n    if (options.method === 'get' || !options.method) {\n      options.params = options.data;\n      delete options.data;\n    }\n\n    options.withCredentials = true;\n    const { data } = await axios(options);\n    return checkFn(data);\n  } catch (error) {\n    console.error(options, error.message);\n    messageService.error(error.message);\n    // 返回默认值\n    return defaultValue;\n  }\n};\n\nhttp.get = get;\nhttp.put = put;\nhttp.xFormPost = xFormPost;\nhttp.post = post;\nhttp.postE = postE;// 总是提示错误\nhttp.postFromData = postFromData;\nhttp.multiGet = multiGet;\nhttp.multiPost = multiPost;\n\n\nexport default http;\n","import crypto from 'crypto-js';\n\nexport function signMD5(content) {\n  const sign = crypto.MD5(content).toString();\n  return sign;\n}\n","import { SEC_STR } from 'configs/constant';\nimport { signMD5 } from 'utils/sign';\n\nexport function signUrlByName(url, name, timestamp) {\n  const content = `${name}_${timestamp}_${SEC_STR}`;\n  const nonce = signMD5(content);\n  const signedUrl = `${url}&nonce=${nonce}`;\n  return signedUrl;\n}\n\nexport function signUrl(/** @type string */url, name, attachNameToUrl) {\n  const timestamp = Date.now();\n  const content = `${name}_${timestamp}_${SEC_STR}`;\n  const nonce = signMD5(content);\n  const concatSymbol = url.includes('?') ? '&' : '?';\n  const seg = `${attachNameToUrl ? `name=${name}&` : ''}timestamp=${timestamp}&nonce=${nonce}`;\n\n  return `${url}${concatSymbol}${seg}`;\n}\n","/* eslint-disable no-underscore-dangle,no-param-reassign */\n/** @typedef {import('types/domain').SubApp} SubApp */\n/** @typedef {import('hel-types').ISubAppVersion} ISubAppVersion*/\nimport http from 'services/http';\nimport { purify, safeParse } from 'utils/object';\nimport { signMD5 } from 'utils/sign';\nimport { SEC_STR } from 'configs/constant';\nimport { signUrlByName, signUrl } from 'services/shared/sign';\n\nfunction ensureCommittedSubAppProperties(subApp) {\n  const copy = { ...subApp };\n  if (copy.gray_users && typeof copy.gray_users === 'object') {\n    copy.gray_users = JSON.stringify(copy.gray_users);\n  }\n  if (copy.owners && typeof copy.owners === 'object') {\n    copy.owners = JSON.stringify(copy.owners);\n  }\n  return copy;\n}\n\nexport function makeAppInfo(/** @type SubApp*/app, /** @type ISubAppVersion*/appVersion) {\n  return {\n    name: app.name,\n    nameInSec: app.name_in_sec,\n    additionalScripts: safeParse(app.additional_scripts, []),\n    cnName: app.cnname,\n    apiHost: app.api_host,\n    isTest: app.is_test,\n    renderMode: app.render_mode,\n    hostMap: app.host_map,\n    uiFramework: app.ui_framework,\n    version: appVersion.sub_app_version,\n    srcMap: appVersion.src_map || {},\n  };\n}\n\n/**\n    subAppService.getUserStarAppNames()\n    subAppService.getUserVisitAppNames()\n */\nexport async function combine3api(user) {\n  const timestamp = Date.now();\n  const name = `combine3api_for_${user}`;\n  let url = `/api/v1/app/info/combine3api?timestamp=${timestamp}&name=${name}`;\n  url = signUrlByName(url, name, timestamp);\n  const ret = await http.get(url);\n  if (!ret.markedInfo) {\n    ret.markedInfo = { markedList: [] };\n  }\n  return ret;\n}\n\n/**\n * 获取子应用列表\n * @return {Promise<{apps:import('types/domain').SubApp[], total:number}>}\n */\nexport async function querySubApps(queryOptions = {}) {\n  let _queryOptions = { ...queryOptions };\n  if (!_queryOptions.page) _queryOptions.page = 1;\n  if (!_queryOptions.size) _queryOptions.size = 20;\n  _queryOptions = purify(_queryOptions);\n\n  // 后台起始值是 0\n  _queryOptions.page = _queryOptions.page - 1;\n\n  const timestamp = Date.now();\n  let url = `/api/v1/app/info/querySubApps?timestamp=${timestamp}`;\n  const content = `${_queryOptions.page}_${SEC_STR}_${_queryOptions.size}_${timestamp}`;\n  const nonce = signMD5(content);\n  url = `${url}&nonce=${nonce}`;\n\n  const ret = await http.post(url, _queryOptions);\n  return ret;\n}\n\n\nexport async function getSubApp(appName) {\n  const app = await http.get(`/api/v1/app/info/getSubApp?name=${appName}`);\n  return app;\n}\n\n\nexport async function getSubAppToken(appName) {\n  const ret = await http.get(`/api/v1/app/info/getSubAppToken?name=${appName}`, '', { check: false, returnLogicData: false });\n  if (parseInt(ret.code, 10) !== 0) {\n    throw new Error(ret.msg);\n  }\n  return ret.data;\n}\n\n\nexport async function createSubApp(toCreate) {\n  const timestamp = Date.now();\n  const nonce = signMD5(`${toCreate.name}_${timestamp}_${SEC_STR}`);\n  const res = await http.post(\n    `/api/v1/app/info/createSubApp?timestamp=${timestamp}&nonce=${nonce}`,\n    ensureCommittedSubAppProperties(toCreate),\n  );\n  return res;\n}\n\n\nexport async function updateSubApp(toUpdate) {\n  const timestamp = Date.now();\n  const content = `${toUpdate.id}_${timestamp}_${SEC_STR}`;\n  const nonce = signMD5(content);\n  const url = `/api/v1/app/info/updateSubApp?timestamp=${timestamp}&nonce=${nonce}`;\n  const res = await http.post(url, ensureCommittedSubAppProperties(toUpdate), { check: false, returnLogicData: false });\n  return res;\n}\n\n\n/**\n * 获取子应用版本详情\n * @return {Promise<ISubAppVersion>}\n */\nexport async function getSubAppVersion(name, versionTag, isFull) {\n  const content = isFull ? '1' : '0';\n  const appVersion = await http.get(`/api/v1/app/info/getSubAppVersion?name=${name}&ver=${versionTag}&content=${content}`);\n  return appVersion;\n}\n\n\n/**\n * 获取用户搜藏过的子应用名称列表\n */\nexport async function getUserStarAppNames() {\n  const starAppNames = await http.get('/api/v1/app/info/getUserStarAppNames');\n  return starAppNames;\n}\n\n\n/**\n * 获取用户最近访问过的子应用名称列表\n */\nexport async function getUserVisitAppNames() {\n  const visitAppNames = await http.get('/api/v1/app/info/getUserVisitAppNames');\n  return visitAppNames;\n}\n\n\n/**\n * 更新用户对某个应用的收藏记录\n * @param {string} subAppName - 子应用名称\n * @param {boolean} starIt - true: 标记收藏，false：取消收藏\n */\nexport async function updateUserStarApp(subAppName, starIt = true) {\n  const ret = await http.get(`/api/v1/app/info/updateUserStarApp?name=${subAppName}&star=${starIt ? 1 : 0}`);\n  return ret;\n}\n\n\n/**\n * 更新用户的最近访问记录\n * @param {string} subAppName\n * @return {[string][]} - newVisitAppNames\n */\nexport async function updateUserVisitApp(subAppName) {\n  const ret = await http.get(`/api/v1/app/info/updateUserVisitApp?name=${subAppName}`);\n  return ret;\n}\n\n\n/**\n * 删除用户的最近访问记录\n * @param {string} subAppName\n */\nexport async function delUserVisitApp(subAppName) {\n  const ret = await http.get(`/api/v1/app/info/delUserVisitApp?name=${subAppName}`);\n  return ret;\n}\n\n\n/**\n * 新增或更新应用某个版本的个人标记信息\n * @param {{name:string, ver:string, desc:string}} subAppName\n */\nexport async function updateAppUserMarkInfo(body) {\n  const ret = await http.post('/api/v1/app/info/updateAppUserMarkInfo', body);\n  return ret;\n}\n\n\n/**\n * 删除应用某个版本的个人标记信息\n * @param {{name:string, ver:string}} subAppName\n */\nexport async function delAppUserMarkInfo(body) {\n  const ret = await http.post('/api/v1/app/info/delAppUserMarkInfo', body);\n  return ret;\n}\n\n\n/**\n * 获取应用的全局数据\n * @param {string} subAppName\n */\nexport async function getAppGlobalData(name) {\n  const ret = await http.get(`/api/v1/app/info/getAppGlobalData?name=${name}`);\n  return ret;\n}\n\n\n/**\n * 新增或更新应用某个版本的全局标记信息\n * @param {{name:string, ver:string, desc:string}} body\n */\nexport async function updateAppGlobalMarkInfo(body) {\n  const url = signUrl('/api/v1/app/info/updateAppGlobalMarkInfo', body.name);\n  const ret = await http.post(url, body);\n  return ret;\n}\n\n\n/**\n * 删除应用某个版本的全局标记信息\n * @param {{name:string, ver:string}} body\n */\nexport async function delAppGlobalMarkInfo(body) {\n  const url = signUrl('/api/v1/app/info/delAppGlobalMarkInfo', body.name);\n  const ret = await http.post(url, body);\n  return ret;\n}\n\n\nexport async function getSubAppAndItsVersion(name, version) {\n  const ret = await http.get(`/openapi/v1/app/info/getSubAppAndItsVersion?name=${name}&version=${version}`);\n  return ret;\n}\n\n\nexport async function getSubAppAndItsFullVersion(name, version) {\n  const ret = await http.get(`/openapi/v1/app/info/getSubAppAndItsFullVersion?name=${name}&version=${version}`);\n  return ret;\n}\n\n\nexport async function resetAppInfoCache(name) {\n  const timestamp = Date.now();\n  let url = `/api/v1/app/info/resetAppInfoCache?timestamp=${timestamp}`;\n  url = signUrlByName(url, name, timestamp);\n  const appInfo = await http.post(url, { name });\n  return appInfo;\n}\n","\nconst ev2cbs = {};\n\n/**\n * 不要在实例里用此处的on方法，凡是与实例相关的事件通知推荐用 concent.emit and on.\n * 只有当事件的执行需要脱离组件时\n * 如 ADD_BG REMOVE_BG这种操作需要用到 services/event\n */\nexport function on(evName, cb) {\n  let cbs = ev2cbs[evName];\n  // eslint-disable-next-line\n  if (!cbs) cbs = ev2cbs[evName] = [];\n  cbs.push(cb);\n}\n\nexport function emit(evName, ...args) {\n  const cbs = ev2cbs[evName];\n  if (cbs) {\n    cbs.forEach(cb => cb(...args));\n  }\n}\n\nexport function off(evName) {\n  ev2cbs[evName] = [];\n}\n","/**\n * concent 相关的一些公共封装函数\n */\n// eslint-disable-next-line\nimport * as demos from './c2HookDemos';\nimport c2, { reducer, useConcent, cst, getState, getComputed } from 'concent';\nimport { noop } from 'utils/fn';\n\nfunction priBuildCallParams(\n  moduleName,\n  connect,\n  /** @type import('./c2t').Options*/\n  options,\n) {\n  const targetOptions = options || {};\n  const {\n    setup,\n    tag,\n    extra,\n    staticExtra,\n    cuDesc,\n    passCuDesc = true,\n    props = {},\n    ccClassKey,\n  } = targetOptions;\n  const regOpt = {\n    module: moduleName,\n    connect,\n    setup,\n    props,\n    tag,\n    extra,\n    staticExtra,\n    cuDesc: null,\n  };\n  if (passCuDesc) regOpt.cuDesc = cuDesc;\n  return { regOpt, ccClassKey };\n}\n\n/**\n * 属于某个模块\n * use the target model context you want by passing a module name\n * 如需要全局任意地方可通过 useC2Mod('xx') 导出xx模块上下文来使用，\n * 需要在 src/models/index.js 显式的导出该模块\n * -----------------------[Code example]-----------------------\n * @see {demos.UseC2Mod} - click to see useC2Mod example\n * --------------------------------------------------------------\n * @template { import('types/store').Modules } M\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { M } moduleName - 所属的模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} [options] - 可选参数，见 Options定义\n * @return { import('types/store').CtxM<P, M, import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n */\nexport function useC2Mod(moduleName, options = {}) {\n  const { regOpt, ccClassKey } = priBuildCallParams(moduleName, [], options);\n  return useConcent(regOpt, ccClassKey);\n}\n\n/**\n * 属于某个模块，连接多个模块\n * -----------------------[Code example]-----------------------\n * @see {demos.UseC2ModConn} - click to see useC2ModConn example\n * --------------------------------------------------------------\n * @template { import('types/store').Modules } M\n * @template { Array<import('types/store').Modules> } Conn\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { M } moduleName - 所属的模块\n * @param { Conn } connect - 连接的其他模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} [options] - 可选参数，见 Options定义\n * @return { import('types/store').CtxMConn<P, M, Conn[number], import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]> }\n */\nexport function useC2ModConn(moduleName, connect, options = {}) {\n  const { regOpt, ccClassKey } = priBuildCallParams(\n    moduleName,\n    connect,\n    options,\n  );\n  return useConcent(regOpt, ccClassKey);\n}\n\n/**\n * 连接多个模块\n * -----------------------[Code example]-----------------------\n * @see {demos.UseC2Conn} - click to see useC2Mod example\n * --------------------------------------------------------------\n * @template { Array<import('types/store').Modules> } Conn\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { Conn } connect - 连接的其他模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} [options] - 可选参数，见 Options定义\n * @return { import('types/store').CtxConn<P, Conn[number], import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]> }\n */\nexport function useC2Conn(connect, options = {}) {\n  const { regOpt, ccClassKey } = priBuildCallParams(\n    cst.MODULE_DEFAULT,\n    connect,\n    options,\n  );\n  return useConcent(regOpt, ccClassKey);\n}\n\n/**\n * 适用于不属于任何模块，只是设置setup函数的场景\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').IAnyObj } P\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param {Setup} setup - setup函数\n * @param {import('./c2t').OptionsBase<P, CuDesc, Extra, StaticExtra, ValidMapProps>} [options] - 可选参数，见 Options定义\n * @return { import('types/store').CtxDe<P, import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>['settings']}\n */\nexport function useSetup(setup, options = {}) {\n  const mergedOptions = { setup, ...options };\n  const { regOpt, ccClassKey } = priBuildCallParams(\n    cst.MODULE_DEFAULT,\n    [],\n    mergedOptions,\n  );\n  const { settings } = useConcent(regOpt, ccClassKey);\n  return settings;\n}\n\n/**\n * 为属于某个模块的 ctx 标记类型, 通常使用在class成员变量上 和 setup函数体内\n * 在class组件成员变量使用时不需要传递第三位参数ctx，组件实例化时会由concent注入并替换\n * 在setup函数里使用时，可直接传入已经创建好的ctx\n * @template { import('types/store').Modules } M\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { M } moduleName - 所属的模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} options - 见 Options定义\n * @param { any } ctx - 如有已经创建好的ctx，则需要传入\n * @return { import('types/store').CtxM<P, M, import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n */\nexport function typeCtxM(moduleName, options, ctx = {}) {\n  noop(moduleName, options);\n  return ctx;\n}\n\n/**\n * 为属于某个模块同时也连接了其他模块的 ctx 标记类型, 通常使用在class成员变量上 和 setup函数体内\n * 在class组件成员变量使用时不需要传递第三位参数ctx，组件实例化时会由concent注入并替换\n * 在setup函数里使用时，可直接传入已经创建好的ctx\n * @template { import('types/store').Modules } M\n * @template { Array<import('types/store').Modules> } Conn\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { M } moduleName - 所属的模块\n * @param { Conn } connect - 连接的其他模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} options - 见 Options定义\n * @param { any } ctx - 如有已经创建好的ctx，则需要传入\n * @return { import('types/store').CtxMConn<P, M, Conn[number], import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n */\nexport function typeCtxMConn(moduleName, connect, options, ctx = {}) {\n  noop(moduleName, connect, options);\n  return ctx;\n}\n\n/**\n * 为连接了其他模块的 ctx 标记类型, 通常使用在class成员变量上 和 setup函数体内\n * 在class组件成员变量使用时不需要传递第三位参数ctx，组件实例化时会由concent注入并替换\n * 在setup函数里使用时，可直接传入已经创建好的ctx\n * @template { Array<import('types/store').Modules> } Conn\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param { Conn } connect - 连接的其他模块\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} options - 见 Options定义\n * @param { any } ctx - 如有已经创建好的ctx，则需要传入\n * @return { import('types/store').CtxConn<P, Conn[number], import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n */\nexport function typeCtxConn(connect, options, ctx = {}) {\n  noop(cst.MODULE_DEFAULT, connect, options);\n  return ctx;\n}\n\n/**\n * 为属于默认模块的 ctx 标记类型, 通常使用在class成员变量上 和 setup函数体内\n * 在class组件成员变量使用时不需要传递第三位参数ctx，组件实例化时会由concent注入并替换\n * 在setup函数里使用时，可直接传入已经创建好的ctx\n * @template { import('concent').IAnyObj } P\n * @template { import('./c2t').ValidSetup } Setup\n * @template { import('concent').MultiComputed<any> } CuDesc\n * @template { import('concent').IAnyObj } Extra\n * @template { any } StaticExtra\n * @template { import('./c2t').ValidMapProps } Mp\n * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} options - 见 Options定义\n * @param { any } ctx - 如有已经创建好的ctx，则需要传入\n * @return { import('types/store').CtxDe<P, import('concent').SettingsType<Setup>,\n * import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n */\nexport function typeCtxDe(options, ctx = {}) {\n  noop(cst.MODULE_DEFAULT, options);\n  return ctx;\n}\n\n/**\n * useC2Mod的工厂函数，返回钩子函数的同时，也提供了帮助推导setup函数的ctx参数类型的辅助函数\n * 注意! 此工厂函数仅适用于 setup函数ctx参数不需要感知 props, extra 类型时，方可使用\n * -----------------------[Code example]-----------------------\n * @see {demos.UseC2ModByFactory} - click to see makeUseC2Mod example\n * --------------------------------------------------------------\n * @template { import('types/store').Modules } M\n * @param { M } moduleName - 所属的模块\n */\nexport function makeUseC2Mod(moduleName) {\n  return {\n    /**\n     * 需要传入的 setup 函数\n     * @template { import('concent').IAnyObj } P\n     * @template { import('./c2t').ValidSetup } Setup\n     * @template { import('concent').MultiComputed<any> } CuDesc\n     * @template { import('concent').IAnyObj } Extra\n     * @template { any } StaticExtra\n     * @template { import('./c2t').ValidMapProps } Mp\n     * @param {import('./c2t').Options<P, Setup, CuDesc, Extra, StaticExtra, ValidMapProps>} 【options]\n     * - 可选参数，见 Options 定义\n     * @return {import('types/store').CtxM<P, M, import('concent').SettingsType<Setup>,\n     *    import('concent').ComputedValType<CuDesc>, [Extra, StaticExtra, ReturnType<Mp>]>}\n     */\n    useC2Mod: (options) => {\n      const { regOpt, ccClassKey } = priBuildCallParams(\n        moduleName,\n        [],\n        options,\n      );\n      return useConcent(regOpt, ccClassKey);\n    },\n    /**\n     * 推导setup函数的ctx参数类型\n     * @param {import('concent').ICtxBase} ctx\n     * @return {import('types/store').CtxM<P, M>}\n     */\n    typeCtx: ctx => ctx,\n  };\n}\n\n/**\n * @template { import('types/store').Modules } M\n * @param { M } moduleName - 所属的模块\n * @return { import('types/store').RootState[M] }\n */\nexport function getModelState(moduleName) {\n  return getState(moduleName);\n}\n\n/**\n * @template { import('types/store').Modules } M\n * @param { M } moduleName - 所属的模块\n * @return { import('types/store').RootCu[M] }\n */\nexport function getModelComputed(moduleName) {\n  return getComputed(moduleName);\n}\n\n/**\n * @return { import('types/store').RootState[typeof cst.MODULE_GLOBAL] }\n */\nexport function getGlobalState() {\n  return getState(cst.MODULE_GLOBAL);\n}\n\n/**\n * @return { import('types/store').RootCu[typeof cst.MODULE_GLOBAL] }\n */\nexport function getGlobalComputed() {\n  return getComputed(cst.MODULE_GLOBAL);\n}\n\n/**\n * @return { import('types/store').RootState }\n */\nexport function getRootState() {\n  return getState();\n}\n\n/** @type { import('types/store').RootRd } */\nexport const ccReducer = reducer;\n\nexport const emit = c2.emit;\n","import React from 'react';\nimport {\n  useC2Mod,\n  useC2ModConn,\n  useC2Conn,\n  makeUseC2Mod,\n  typeCtxM,\n  typeCtxConn,\n  typeCtxMConn,\n} from './concent';\n\nconst stBox = { margin: '12px', padding: '12px', border: '1px solid purple' };\n\n// ----------------------- [Start] useC2Mod ----------------------------\nfunction setup(c) {\n  // you can also use statement /** @type {import('types/store').CtxM<{}, 'counter'>} */\n  // to mark the variable c type instead of calling typeCtxM\n  const ctx = typeCtxM('counter', {}, c);\n  const ins = ctx.initState({ priKey1: 'xxx', show: false });\n\n  const cu = ctx.computed({\n    x3(n) {\n      return n.count * 3;\n    },\n  });\n  // ctx.effect(); // lifecycle\n\n  return {\n    cu,\n    fullState: ins.state,\n    changePriKey1: () => ins.setState({ priKey1: Date.now() }),\n    toggleShow: ins.sybo.show,\n    addCount: ctx.mr.add3Times,\n  };\n}\n\nexport function UseC2Mod() {\n  // current component belong to module 'counter'\n  const { settings: se } = useC2Mod('counter', { setup });\n  const { cu, fullState } = se;\n  return (\n    <div onClick={se.toggleShow} style={stBox}>\n      count x3:{cu.x3} {fullState.count} {fullState.show ? 'true' : 'false'}\n      <br />\n      priKey1: {fullState.priKey1}\n      <button onClick={se.toggleShow}>toggle show</button>\n      <button onClick={se.addCount}>addCount</button>\n    </div>\n  );\n}\n\n// 使用工厂函数来构造钩子时，会返回一个 typeCtx 函数帮助用户标记类型\nconst ret = makeUseC2Mod('counter');\nfunction setupA1(c) {\n  const ctx = ret.typeCtx(c);\n  const cu = ctx.computed({\n    countx6: n => n.count * 6,\n  });\n  return { cu };\n}\nexport function UseC2ModByFactory() {\n  const ctx = ret.useC2Mod({ setup: setupA1 });\n  return (\n    <div style={stBox}>\n      {ctx.state.count} {ctx.settings.cu.countx6}\n    </div>\n  );\n}\n// ----------------------- [End] useC2Mod ----------------------------\n\n// ----------------------- [Start] useC2Conn ----------------------------\nfunction setup3(c) {\n  // you can also use statement /** @type {import('types/store').CtxConn<{}, 'foo'|'bar'>} */\n  // to mark the variable c type instead of calling typeCtxConn\n  const ctx = typeCtxConn(['foo', 'bar'], {}, c);\n  const cu = ctx.computedModule('bar', {\n    hiBarKey(n) {\n      return `${n.lastName}_ from bar module`;\n    },\n  });\n\n  return {\n    cu,\n    changeLastName: () => ctx.cr.foo.changeLastName(),\n  };\n}\n\nexport function UseC2Conn() {\n  // current component has connected to module 'foo' and 'bar'\n  const { settings: se, cr, connectedState } = useC2Conn(['foo', 'bar'], {\n    setup: setup3,\n  });\n  const { cu } = se;\n  return (\n    <div style={stBox}>\n      <button onClick={se.changeLastName}>se.changeLastName</button>\n      <button onClick={() => cr.foo.changeLastName()}>cr.changeLastName</button>\n      {cu.hiBarKey}\n      <h1>{connectedState.foo.lastName}</h1>\n    </div>\n  );\n}\n// ----------------------- [End] useC2ModConn ----------------------------\n\n// ----------------------- [Start] useC2ModConn ----------------------------\nfunction setup2(c) {\n  // you can also use statement /** @type {import('types/store').CtxMConn<{}, 'counter', foo'|'bar'>} */\n  // to mark the variable c type instead of calling typeCtxMConn\n  const ctx = typeCtxMConn('counter', ['foo', 'bar'], {}, c);\n  const ins = ctx.initState({ priKey1: 'xxx', show: false });\n\n  const cu = ctx.computedModule('foo', {\n    hiFooKey(n) {\n      return `${n.addr}_ from foo module`;\n    },\n  });\n\n  return {\n    fullState: ins.state,\n    toggleShow: ins.sybo.show,\n    cu,\n    callBarMethod: () => ctx.cr.bar.f1(),\n  };\n}\n\nexport function UseC2ModConn() {\n  // current component belong to module 'counter',\n  // and also has connected to module 'foo' and 'bar'\n  const { settings: se } = useC2ModConn('counter', ['foo', 'bar'], {\n    setup: setup2,\n  });\n  const { cu } = se;\n  return (\n    <div style={stBox} onClick={se.callBarMethod}>\n      {cu.hiFooKey} <br />\n      {se.fullState.show ? 'true' : 'false'}\n      <br />\n      <button onClick={se.toggleShow}>toggle show</button>\n    </div>\n  );\n}\n// ----------------------- [End] useC2ModConn ----------------------------\n","\nexport function noop(...args) {\n  return (args);\n}\n","import http from 'services/http';\nimport { signMD5 } from 'utils/sign';\nimport { SEC_STR } from 'configs/constant';\n\nfunction getNonceData() {\n  const timestamp = Date.now();\n  const content = `${SEC_STR}_${timestamp}`;\n  const nonce = signMD5(content);\n  return { timestamp, nonce };\n}\n\nexport async function getClassInfoList() {\n  const { timestamp, nonce } = getNonceData();\n  const list = await http.get(`/api/v1/classInfo/list?timestamp=${timestamp}&nonce=${nonce}`);\n  return list;\n}\n\nexport async function getClassInfoById(id) {\n  const { timestamp, nonce } = getNonceData();\n  const classInfo = await http.get(`/api/v1/classInfo/get?timestamp=${timestamp}&nonce=${nonce}&id=${id}`);\n  return classInfo;\n}\n\nexport async function getFullClassInfoById(id) {\n  const { timestamp, nonce } = getNonceData();\n  const res = await http.get(`/api/v1/classInfo/getFull?timestamp=${timestamp}&nonce=${nonce}&id=${id}`);\n  return res;\n}\n\nexport async function newClassInfo(key, name) {\n  const { timestamp, nonce } = getNonceData();\n  const reply = await http.post(\n    `/api/v1/classInfo/create?timestamp=${timestamp}&nonce=${nonce}`,\n    { key, name },\n    { returnLogicData: false, check: false },\n  );\n  return reply;\n}\n\nexport async function updateClassInfo(key, name) {\n  const { timestamp, nonce } = getNonceData();\n  const reply = await http.post(\n    `/api/v1/classInfo/update?timestamp=${timestamp}&nonce=${nonce}`,\n    { key, name },\n    { returnLogicData: false, check: false },\n  );\n  return reply;\n}\n","\nexport function getBackendRenderPath(appName) {\n  return `${window.location.origin}/page/${appName}`;\n}\n","\nexport function removeIfExist(arr, strItem) {\n  const arrCopy = arr.slice();\n  const idx = arrCopy.indexOf(strItem);\n  if (idx >= 0) {\n    arrCopy.splice(idx, 1);\n  }\n  return arrCopy;\n}\n\nexport function nodupStrPush(oriList, toPush) {\n  if (!oriList.includes(toPush)) oriList.push(toPush);\n}\n","import { OUT_URL_PREFIX, OUT_URL_PREFIX_V2 } from 'configs/constant';\n\n// TODO: 使用qs替代\nexport function getSearchObj() {\n  const { search } = window.top.location;\n  const map = {};\n  if (search && search.startsWith('?')) {\n    const pureSearch = search.substring(1);\n    const items = pureSearch.split('&');\n    items.forEach((item) => {\n      const [key, value] = item.split('=');\n      map[key] = value;\n    });\n    return map;\n  }\n  return map;\n}\n\n/** @type {HTMLAnchorElement} 辅助打开新窗口*/\nlet cacheLinkHelper = null;\nexport function openNewTab(href) {\n  // console.error('openNewTab', href);\n  // return;\n  const topWindow = window.top;\n  // 不使用open方式，避免当前页面白屏\n  // topWindow.open(targetSubApp.render_app_host);\n\n  if (!cacheLinkHelper) {\n    const link = topWindow.document.createElement('a');\n    cacheLinkHelper = link;\n  }\n  cacheLinkHelper.href = href;\n  cacheLinkHelper.target = '_blank';\n  cacheLinkHelper.rel = 'noopener norefferrer';\n  cacheLinkHelper.click();\n  try {\n    // 故意触发错误，阻碍白屏\n    cacheLinkHelper.parentNode.removeChild(cacheLinkHelper);\n  } catch (err) {\n    throw new Error('新窗口打开应用成功');\n  }\n}\n\nfunction getPrefixAndVersionQuery(options) {\n  const { isOut = true, isV2 = true, version = '' } = options || {};\n  const versionQuery = !!version ? `&version=${version}` : '';\n  let prefix = window.location.origin;\n  if (isOut) {\n    prefix = isV2 ? OUT_URL_PREFIX_V2 : OUT_URL_PREFIX;\n  }\n  return { prefix, versionQuery };\n}\n\n// TODO: 接入 meta/xxx/yyy 格式 url\nexport function getMetaApiUrl(name, options) {\n  const { prefix, versionQuery } = getPrefixAndVersionQuery(options);\n  return `${prefix}/openapi/v1/app/info/getSubAppAndItsFullVersion?name=${name}${versionQuery}`;\n}\n\n// TODO: 接入 meta/xxx/yyy 格式 url\nexport function getNoHtmlContentMetaApiUrl(name, options) {\n  const { prefix, versionQuery } = getPrefixAndVersionQuery(options);\n  return `${prefix}/openapi/v1/app/info/getSubAppAndItsVersion?name=${name}${versionQuery}`;\n}\n","/* eslint-disable camelcase */\n/** @typedef {import('../../types/store').AC<'portal'>} AC*/\n/** @typedef {ReturnType<typeof import('./state').default>} St */\n/** @typedef {import('types/domain').SubApp} SubApp*/\nimport { message, Modal } from 'antd';\nimport cookie from 'react-cookies';\nimport { history } from 'react-router-concent';\nimport * as commonService from 'services/common';\nimport { ADD_BG, REMOVE_BG } from 'configs/constant/event';\nimport * as subAppService from 'services/subApp';\nimport { emit } from 'services/event';\nimport { ccReducer } from 'services/concent';\nimport { getClassInfoList } from 'services/classInfo';\nimport { getBackendRenderPath } from 'services/shared/appPath';\nimport * as arrUtil from 'utils/array';\nimport * as urlUtil from 'utils/url';\nimport { noop } from 'utils/fn';\n\n// for copy\n// export function redirectTo(p, /** @type St*/m, /** @type AC*/ac) {}\n\nexport function setLoading(loading, /** @type St*/moduleState) {\n  if (moduleState.loading !== loading) {\n    return { loading };\n  }\n}\n\nexport function redirectTo(p, m, /** @type AC*/ac) {\n  // 出错要还原路由\n  window.top.history.replaceState({}, commonService.getTitle(), '/');\n  ac.setState({ contentVisible: true, sideBarVisible: true, loading: false, activeApp: null });\n  const path = commonService.getLatestPushPath();\n  history.push(path);\n}\n\n/**\n * 载入目标子应用\n */\nexport async function loadSubApp(activeApp, /** @type St*/moduleState, /** @type AC*/ac) {\n  if (!activeApp) return;\n\n  // await ac.dispatch(setLoading, true);\n  await ac.setState({ loading: true, contentVisible: false, sideBarVisible: false });\n  const stopLoad = (msg) => {\n    if (msg) message.warn(msg);\n    emit(REMOVE_BG);\n    ac.setState({ activeApp: null, loading: false, contentVisible: true, sideBarVisible: true });\n  };\n\n  try {\n    const { appVerId2detail, name2SubApp, activeApp: prevActiveApp } = moduleState;\n    let targetSubApp = name2SubApp[activeApp];\n    if (!targetSubApp) {\n      targetSubApp = await subAppService.getSubApp(activeApp);\n      if (!targetSubApp) {\n        stopLoad(`[${activeApp}]未在应用中心注册过`);\n        return;\n      }\n      name2SubApp[activeApp] = targetSubApp;\n      await ac.setState({ name2SubApp });\n    }\n\n    if (!targetSubApp.is_local_render) {\n      const url = targetSubApp.render_app_host || `${window.location.origin}/page/${targetSubApp.name}`;\n      console.trace('targetSubApp', targetSubApp, url);\n      console.trace(urlUtil);\n      // urlUtil.openNewTab(url);\n      return;\n    }\n\n    emit(ADD_BG, targetSubApp.splash_screen);\n\n    // 如果应用配置了对应sec系统里的名字，则需要检验当前用户是否能访问\n    const { online_version, build_version, enable_gray, is_in_gray, gray_users } = targetSubApp;\n    /** @type string */\n    let versionId = commonService.getAppVersionInUrl() || online_version;\n    if (enable_gray && is_in_gray && gray_users.includes(moduleState.userInfo.user)) {\n      versionId = build_version;\n    }\n\n    if (!versionId) {\n      stopLoad(`[${activeApp}]还未发布任何版本`);\n      return;\n    }\n\n    let subAppVersion = appVerId2detail[versionId];\n    if (!subAppVersion) {\n      subAppVersion = await subAppService.getSubAppVersion(targetSubApp.name, versionId);\n    }\n\n    if (!subAppVersion) {\n      stopLoad(`版本[${versionId}]数据异常`);\n      return;\n    }\n\n    const targetName = targetSubApp.name;\n    if (targetSubApp.is_back_render) {\n      const openBackRenderApp = (appName) => {\n        window.top.history.replaceState({}, commonService.getTitle(), '/');\n        if (appName) window.top.open(`${window.top.location.origin}/page/${appName}`);\n      };\n\n      stopLoad();\n      if (Date.now() - moduleState.moduleLoadtime < 3000) {\n        // 直接路由带appName打开，则提示弹窗，不能直接调用window.top.open，会被浏览器拦截\n        Modal.confirm({\n          title: `确认打开应用${targetName}`,\n          onOk: () => openBackRenderApp(targetName),\n          onCancel: () => openBackRenderApp(),\n        });\n      } else {\n        openBackRenderApp(targetName);\n      }\n      return;\n    }\n\n    appVerId2detail[versionId] = subAppVersion;\n    cookie.save('__leah_sub_app_name__', activeApp);\n    await ac.setState({ activeApp, appVerId2detail, loading: false });\n\n    const prevActiveAppInfo = name2SubApp[prevActiveApp];\n    if (!moduleState.justLoadByHrefRefresh) {\n      const hrefRefresh = () => {\n        // 从富媒体切换到新应用时，用强刷url的方式来加载新应用，让其播放的声音等各种副作用彻底被清除\n        commonService.loadAppWithForceRefresh(location.href);\n      };\n      // 移出 isSingleLoad(persistTime) 判断，前后app是否有联系需要更多的考虑维度 比如app_group参数\n      if (\n        (prevActiveApp !== targetName && prevActiveAppInfo && prevActiveAppInfo.is_rich)\n        || targetSubApp.is_rich\n      ) {\n        return hrefRefresh();\n      }\n    }\n\n    // 置为false，让上面的富媒体跳转逻辑可以有机会再次被执行\n    await ac.setState({ justLoadByHrefRefresh: false });\n    const { sub_app_name: name, sub_app_version: versionIndex, version_tag: vtag } = subAppVersion;\n    const versionTag = vtag || versionIndex;\n    if (targetSubApp.render_mode === 'standalone' && !subAppVersion.html_content) {\n      const fullVersion = await subAppService.getSubAppVersion(name, versionTag, true);\n      document.write('');\n      document.write(fullVersion.html_content);\n      return;\n    }\n    await renderSubApp(targetSubApp, subAppVersion);\n  } catch (err) {\n    await ac.dispatch(setLoading, false);\n    throw err;\n  }\n}\n\nexport async function initUserExtendData(payload, /** @type St*/moduleState) {\n  const { user } = moduleState.userInfo;\n  const { starAppNames, visitAppNames, markedInfo } = await subAppService.combine3api(user);\n  return {\n    starAppNames, visitAppNames, userMarkedList: markedInfo.markedList,\n  };\n}\n\n/**\n * 登录流程在根节点挂载完毕时触发\n */\nexport async function login(payload, /** @type St*/moduleState, /** @type {AC}*/ac) {\n  await ac.setState({ userInfo: { user: 'test-user', icon: '', login: true } });\n  await ac.dispatch(initUserExtendData);\n  return { loading: false, basicDataReady: true };\n}\n\nexport async function updateUserVisitApp(appName) {\n  try {\n    const visitAppNames = await subAppService.updateUserVisitApp(appName);\n    // 此处异步的去更新访问记录数据\n    // 标记最近访问页面需要刷新\n    ccReducer.latestVisit.setState({ needRefresh: true });\n    return { visitAppNames };\n  } catch (err) {\n    // 静默失败\n  }\n}\n\n/**\n * 切换到具体的子应用\n */\nexport async function changeSubApp(payload, /** @type St*/moduleState, /** @type {AC}*/ac) {\n  const { appName, isLocalRender, noNewTab, renderAppPath } = payload;\n  let targetIsLocalRender = isLocalRender;\n  let targetRenderPath = renderAppPath;\n  if (targetIsLocalRender === undefined || !targetRenderPath) {\n    const name2SubApp = ac.rootState.appStore.name2SubApp;\n    let cachedSubApp = name2SubApp[appName];\n    if (!cachedSubApp) {\n      cachedSubApp = await subAppService.getSubApp(appName);\n      if (!cachedSubApp) {\n        message.warn(`应用 ${appName} 不存在`);\n        return;\n      }\n      name2SubApp[appName] = cachedSubApp;\n      ccReducer.appStore.setState({ name2SubApp });\n    }\n    targetIsLocalRender = cachedSubApp.is_local_render;\n    targetRenderPath = cachedSubApp.render_app_host || getBackendRenderPath(appName);\n  }\n\n  const shouldOpenAppAtCurrentTab = targetIsLocalRender && noNewTab;\n  if (!shouldOpenAppAtCurrentTab) {\n    message.success(`在新页签里访问 ${appName}`);\n    window.open(targetRenderPath);\n    return;\n  }\n\n  try {\n    // 异步的去更新最近访问记录\n    ac.dispatch(updateUserVisitApp, appName);\n  } catch (err) { }\n  // 使用replaceState来修改路由，让浏览器切换子应用后，不存在回退或者前进操作\n  window.top.history.replaceState({}, appName, `/${appName}`);\n  // 然后再次reload确保应用能够加载\n  window.top.location.reload(`${window.top.location.origin}/${appName}`);\n}\n\nexport function checkPageUrl(p, /** @type St*/moduleState) {\n  const urlAppName = commonService.getUrlAppName();\n  const { activeApp } = moduleState;\n\n  // 视图和路由不同步，重定向到首页\n  if (\n    (activeApp && (urlAppName === '__hub' || urlAppName === ''))\n    || (!activeApp && urlAppName !== '__hub')\n  ) {\n    console.log(`[hel] redirect to ${window.top.location.origin}`);\n    window.top.location.href = `${window.top.location.origin}${window.top.location.pathname}`;\n    window.top.location.reload();\n  }\n}\n\nexport function updateStarApps({ appName, _star }, /** @type St*/moduleState) {\n  const { starAppNames } = moduleState;\n  if (_star) {\n    if (!starAppNames.includes(appName)) starAppNames.push(appName);\n  } else {\n    if (starAppNames.includes(appName)) {\n      const idx = starAppNames.indexOf(appName);\n      starAppNames.splice(idx, 1);\n    }\n  }\n\n  return { starAppNames };\n}\n\nexport function mergeSubAppMap(inputName2SubApp, /** @type St*/moduleState) {\n  const { name2SubApp } = moduleState;\n  Object.assign(name2SubApp, inputName2SubApp);\n  return { name2SubApp };\n}\n\nexport function delVisitApp(appName, /** @type St*/moduleState) {\n  const { visitAppNames } = moduleState;\n  const newNames = arrUtil.removeIfExist(visitAppNames, appName);\n  return { visitAppNames: newNames };\n}\n\nexport function delStarApp(appName, /** @type St*/moduleState) {\n  const { starAppNames } = moduleState;\n  const newNames = arrUtil.removeIfExist(starAppNames, appName);\n  return { starAppNames: newNames };\n}\n\nexport async function initClassInfoList(payload, /** @type St*/moduleState, /** @type AC*/ac) {\n  noop(payload, moduleState, ac);\n  const allClassInfoList = await getClassInfoList();\n  return { allClassInfoList };\n}\n","\nexport const GOTO_PAGE = 'gotoPage';\n\nexport const ADD_BG = 'addBg';\n\nexport const REMOVE_BG = 'removeBg';\n\nexport const CLOSE_MODAL = 'closeModal';\n\nexport const OPEN_MODAL = 'closeModal';\n\nexport const OPEN_SUB_APP_DRAWER = 'openSubAppDrawer';\n\nexport const CANCEL_FORM_BTN_LOADING = 'cancelFormBtnLoading';\n\nexport const OPEN_COPY_SUB_APP_LAYER = 'openCopySubAppLayer';\n","/** @typedef {typeof import('./state').default} St*/\nimport { HEL_ADMINS } from 'configs/constant';\n\nexport function displaySubAppWithSideBar(n) {\n  const { sideBarVisible, contentVisible } = n;\n  // 显示了基座侧边栏显示了，但是它的主内容没显示，此时正在展示子应用\n  return sideBarVisible && !contentVisible;\n}\n\nexport function displaySubAppOnly(n) {\n  const { sideBarVisible, contentVisible } = n;\n  return !sideBarVisible && !contentVisible;\n}\n\nexport function isCurActiveAppRich(/** @type St*/n) {\n  const { activeApp, name2SubApp } = n;\n  const targetApp = name2SubApp[activeApp];\n  return targetApp && targetApp.is_rich;\n}\n\nexport function isAdmin(/** @type St*/n) {\n  const { userInfo } = n;\n  return HEL_ADMINS.includes(userInfo.user);\n}\n","import state from './state';\nimport * as reducer from './reducer';\nimport * as computed from './computed';\n\nexport default {\n  state,\n  reducer,\n  computed,\n  lifecycle: {\n    loaded(dispatch) {\n      dispatch(reducer.initClassInfoList);\n    },\n  },\n};\n","/* eslint-disable no-underscore-dangle,no-param-reassign */\nimport { DEFAULT_LOGO } from 'configs/constant';\n\nexport function formatSubApp(/** @type {import('types/domain').SubApp}*/subApp, starAppNames) {\n  if (!subApp.logo) subApp.logo = DEFAULT_LOGO;\n\n  subApp._loading = false;\n  if (starAppNames) {\n    subApp._star = starAppNames.includes(subApp.name);\n  }\n\n  // 兼容老数据\n  if (subApp.enable_gray === undefined) subApp.enable_gray = 0;\n  if (subApp.is_in_gray === undefined) subApp.is_in_gray = 0;\n}\n\nexport function formatSubApps(/** @type {import('types/domain').SubApp[]}*/subApps, starAppNames, $name2SubApp) {\n  const name2SubApp = $name2SubApp || {};\n  subApps.forEach((v) => {\n    formatSubApp(v, starAppNames);\n    name2SubApp[v.name] = v;\n  });\n\n  return { subApps, name2SubApp };\n}\n\nexport function makeQueryOptions(inputOptions) {\n  const { appNames, user, page = 1, size = 20, isTop } = inputOptions;\n  const queryOptions = { page, size, where: {} };\n\n  if (appNames) {\n    queryOptions.where.name = appNames;\n  }\n  if (isTop !== undefined) {\n    queryOptions.where.is_top = isTop;\n  }\n  if (user) {\n    queryOptions.where.create_by = user;\n  }\n\n  return queryOptions;\n}\n","\nexport function randomNumber(lessThan = 100) {\n  const seed = Math.random();\n  return parseInt(seed * lessThan, 10);\n}\n","\nimport { randomNumber } from './num';\n\nconst cache = [\n  '',\n  ' ',\n  '  ',\n  '   ',\n  '    ',\n  '     ',\n  '      ',\n  '       ',\n  '        ',\n  '         ',\n];\n\n/**\n * from leftpad\n * why copy? this lib unpublished before...\n */\nexport function leftPad(str, len, ch) {\n  // convert `str` to a `string`\n  str = `${str}`;\n  // `len` is the `pad`'s length now\n  len = len - str.length;\n  // doesn't need to pad\n  if (len <= 0) return str;\n  // `ch` defaults to `' '`\n  // @ts-ignore\n  if (!ch && ch !== 0) ch = ' ';\n  // convert `ch` to a `string` cuz it could be a number\n  ch = `${ch}`;\n  // cache common use cases\n  if (ch === ' ' && len < 10) return cache[len] + str;\n  // `pad` starts with an empty string\n  let pad = '';\n  // loop\n  while (true) {\n    // add `ch` to `pad` if `len` is odd\n    if (len & 1) pad += ch;\n    // divide `len` by 2, ditch the remainder\n    len >>= 1;\n    // \"double\" the `ch` so this operation count grows logarithmically on `len`\n    // each time `ch` is \"doubled\", the `len` would need to be \"doubled\" too\n    // similar to finding a value in binary search tree, hence O(log(n))\n    if (len) ch += ch;\n    // `len` is 0, exit the loop\n    else break;\n  }\n  // pad `str`!\n  return pad + str;\n}\n\nconst letters = [\n  'a', 'A', 'b', 'B', 'c', 'C', 'd', 'D', 'e', 'E', 'f', 'F', 'g', 'G',\n  'h', 'H', 'i', 'I', 'j', 'J', 'k', 'K', 'l', 'L', 'm', 'M', 'n', 'N',\n  'o', 'O', 'p', 'P', 'q', 'Q', 'r', 'R', 's', 'S', 't', 'T',\n  'u', 'U', 'v', 'V', 'w', 'W', 'x', 'X', 'y', 'Y', 'z', 'Z',\n];\nconst letterCount = letters.length;\n\nexport function genNonceStr(length = 6) {\n  let ret = '';\n  for (let i = 0; i < length; i++) {\n    ret += letters[randomNumber(letterCount)];\n  }\n  return ret;\n}\n\nexport function getByteLength(str) {\n  let count = 0;\n  for (let i = 0, l = str.length; i < l; i++) {\n    count += str.charCodeAt(i) <= 128 ? 1 : 2;\n  }\n  return count;\n}\n\nexport function getCharCodeSum(/** @type string */str) {\n  let sum = 0;\n  for (let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n  return sum;\n}\n\n/**\n * @param {(obj:any)=>string} getStr\n * @returns\n */\nexport function buildStrSorter(getStr) {\n  return (o1, o2) => {\n    const str1 = getStr(o1);\n    const str2 = getStr(o2);\n    if (str1 < str2) {\n      return -1;\n    }\n    if (str1 > str2) {\n      return 1;\n    }\n    return 0;\n  };\n}\n","\nexport default {\n  // 使用 get 语法，确保每次调用都生成新的正则表达式\n  get url() {\n    return /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-.,@?^=%&:/~+#]*[\\w\\-@?^=%&/~+#])?/;\n  },\n  /** 只能是大小写字母、数字、中横线、下横线 的组合 */\n  get letterOrNum() {\n    return /^[A-Za-z0-9|_|-]+$/;\n  },\n  /** 只能是大小写字母、数字、中横线、下横线、汉字 的组合 */\n  get letterNumOrCn() {\n    return /^[\\u4e00-\\u9fa5A-Za-z0-9-|_]+$/;\n  },\n};\n","/* eslint-disable no-param-reassign,camelcase,no-underscore-dangle */\n/** @typedef {import('types/store').AC<'appStore'>} AC*/\n/** @typedef {ReturnType<typeof import('./state').default>} St*/\n/** @typedef {import('types/domain').SubApp} SubApp*/\nimport * as subAppService from 'services/subApp';\nimport * as subAppTool from 'services/subAppTool';\nimport * as commonService from 'services/common';\nimport * as msgService from 'services/message';\nimport { ccReducer, emit, getRootState } from 'services/concent';\nimport { LATEST_VISIT, STAR, STORE, TOP, CREATED } from 'configs/constant/page';\nimport { path2Module } from 'configs/constant';\nimport { OPEN_SUB_APP_DRAWER } from 'configs/constant/event';\nimport * as ccModule from 'configs/constant/ccModule';\nimport * as arrUtil from 'utils/array';\nimport * as urlUtil from 'utils/url';\nimport * as strUtil from 'utils/str';\nimport regs from 'utils/regs';\n\nfunction canFetch(/** @type St*/moduleState, /** @type AC*/ac) {\n  const ret = moduleState.subApps.length === 0 || moduleState.needRefresh;\n  if (moduleState.needRefresh) {\n    ac.setState({ needRefresh: false });\n  }\n  return ret;\n}\n\nfunction syncAppMapToPortalSilently(name2SubApp) {\n  ccReducer.portal.mergeSubAppMap(name2SubApp, { silent: true });\n}\n\n/**\n * 初始化应用商店页面\n */\nexport async function initPage(forceInit, /** @type St*/moduleState, /** @type AC*/ac) {\n  const obj = urlUtil.getSearchObj();\n  if (obj.app) {\n    const toSet = { searchStr: obj.app, listMode: 'all' };\n    if (obj.openver === '1') {\n      toSet.isVerTabOpen = true;\n    }\n    await ac.setState(toSet);\n  }\n\n  if (forceInit || canFetch(moduleState, ac)) {\n    ac.dispatch(fetchDataList, { page: 1 });\n  }\n}\n\n/**\n * 初始化我的收藏页面\n */\nexport async function initStarList(forceInit, /** @type St*/moduleState, /** @type AC*/ac) {\n  if (forceInit || canFetch(moduleState, ac)) {\n    const { starAppNames } = ac.rootState.portal;\n    const queryOptions = subAppTool.makeQueryOptions({ page: 1, size: 100, appNames: starAppNames });\n    ac.dispatch(fetchDataList, queryOptions);\n  }\n}\n\n/**\n * 初始化我的创建页面\n */\nexport async function initCreatedList(forceInit, /** @type St*/moduleState, /** @type AC*/ac) {\n  if (forceInit || canFetch(moduleState, ac)) {\n    const user = getRootState().portal.userInfo.user;\n    const queryOptions = subAppTool.makeQueryOptions({ page: 1, size: 100, user });\n    ac.dispatch(fetchDataList, queryOptions);\n  }\n}\n\n/**\n * 初始化最近访问页面\n */\nexport async function initVisitList(forceInit, /** @type St*/moduleState, /** @type AC*/ac) {\n  if (forceInit || canFetch(moduleState, ac)) {\n    const { visitAppNames } = ac.rootState.portal;\n    const queryOptions = subAppTool.makeQueryOptions({ page: 1, size: 100, appNames: visitAppNames });\n    ac.dispatch(fetchDataList, queryOptions);\n  }\n}\n\n/**\n * 初始化置顶推荐页面\n */\nexport async function initTop(forceInit, /** @type St*/moduleState, /** @type AC*/ac) {\n  if (forceInit || canFetch(moduleState, ac)) {\n    const queryOptions = subAppTool.makeQueryOptions({ page: 1, size: 100, isTop: 1 });\n    ac.dispatch(fetchDataList, queryOptions);\n  }\n}\n\nexport async function initAllPage(p, /** @type St*/moduleState, /** @type AC*/ac) {\n  let curPathname = commonService.getRouteRelativePath();\n  if (curPathname === '/') curPathname = LATEST_VISIT;\n  const path2Reducer = {\n    [LATEST_VISIT]: initVisitList,\n    [STAR]: initStarList,\n    [STORE]: initPage,\n    [TOP]: initTop,\n    [CREATED]: initCreatedList,\n  };\n  const paths = Object.keys(path2Reducer);\n  const restPathnames = arrUtil.removeIfExist(paths, curPathname);\n  const needRefreshReducer = path2Reducer[curPathname];\n  // 指明模块，表示reducer是修改对应模块的数据\n  await ac.dispatch([path2Module[curPathname], needRefreshReducer], true);\n  // 剩余的页面仅标记需要刷新标记为true即可\n  restPathnames.forEach((pathname) => {\n    const moduleName = path2Module[pathname];\n    ccReducer[moduleName].setState({ needRefresh: true });\n  });\n}\n\nexport function changePageAndLoading({ page, loading }) {\n  return { loading, page };\n  // if (page === 1) {\n  //   return { loading, page };\n  // }\n  // return { btnLoading: loading, page };\n}\n\nexport async function fetchDataList(payload = {}, /** @type St*/moduleState, /** @type AC*/ac) {\n  const { listMode, searchStr, classKey, isVerTabOpen, searchType, searchUser, loading } = moduleState;\n  if (loading) {\n    return;\n  }\n\n  const page = (payload && payload.page) ? payload.page : moduleState.page;\n  const size = (payload && payload.size) ? payload.size : moduleState.size;\n  const queryOptions = { page, size, where: {} };\n  await ac.setState({ page, size });\n\n  // 仅针对应用商店才区分正式或测试，才拼接 searchUser 或其他查询参数\n  if (ac.module === ccModule.APP_STORE) {\n    if (listMode === 'test') {\n      queryOptions.where.is_test = 1;\n    } else if (listMode === 'prod') {\n      queryOptions.where.is_test = 0;\n    }\n\n    if (['name', 'name_exact'].includes(searchType) && searchStr) {\n      const pureStr = searchStr.replace(/ /g, '');\n      if (pureStr) {\n        // 模糊匹配 or 精确匹配\n        queryOptions.where.name = searchType === 'name' ? `%%${pureStr}%%` : pureStr;\n      }\n    } else if (searchType === 'creator' && searchUser) {\n      queryOptions.where.create_by = searchUser;\n    }\n\n    if (classKey !== '-10000') {\n      queryOptions.where.class_key = classKey;\n    }\n  }\n\n  if (payload.where) Object.assign(queryOptions.where, payload.where);\n\n  const { name2SubApp } = moduleState;\n  try {\n    await ac.dispatch(changePageAndLoading, { loading: true, page });\n\n    const { apps: fetchedSubApps, total } = await subAppService.querySubApps(queryOptions);\n    const { starAppNames } = ac.rootState.portal;\n    const { subApps, name2SubApp: new_name2SubApp } = subAppTool.formatSubApps(fetchedSubApps, starAppNames);\n\n    await ac.dispatch(changePageAndLoading, { loading: false, page });\n    if (subApps.length === 0 && page > 1) {\n      msgService.warn('没有更多子应用了', 1);\n      return null;\n    }\n\n    if (ac.module !== ccModule.APP_STORE) {\n      subApps.sort(strUtil.buildStrSorter(o => o.app_group_name));\n    }\n\n    Object.assign(name2SubApp, new_name2SubApp);\n    syncAppMapToPortalSilently(new_name2SubApp);\n\n    // 需要自动打开版本列表弹窗\n    if (isVerTabOpen) {\n      await ac.setState({ isVerTabOpen: false });\n      const toOpenSubApp = subApps.find(item => item.name === searchStr);\n      if (toOpenSubApp) {\n        emit(OPEN_SUB_APP_DRAWER, toOpenSubApp, 'version');\n      }\n    }\n\n    return { subApps, name2SubApp, total };\n  } catch (err) {\n    msgService.error(err.message);\n    return { loading: false };\n  }\n}\n\n/**\n * 处理搜藏按钮点击(可能是新增收藏，也可能是取消收藏)\n */\nexport async function handleStarIconClick({ appName, needDel = false }, /** @type St*/moduleState, /** @type AC*/ac) {\n  const { name2SubApp } = moduleState;\n  const subAppName = appName;\n  const subApp = name2SubApp[subAppName];\n\n  if (subApp) {\n    subApp._loading = true;\n    await ac.setState({ name2SubApp });\n    // 是未收藏状态则标记收藏，反之则标记取消收藏\n    const starIt = !subApp._star;\n    const payload = { appName: subAppName, _star: starIt };\n\n    try {\n      await subAppService.updateUserStarApp(subAppName, starIt);\n      await ccReducer.portal.updateStarApps(payload);\n      subApp._loading = false;\n      subApp._star = starIt;\n      await ac.setState({ name2SubApp });\n\n      if (needDel) {\n        await ac.dispatch(delSubAppInView, subAppName);\n        ccReducer.portal.delStarApp(subAppName);\n      }\n\n      await ac.dispatch(handleOtherPages, payload);\n    } catch (err) {\n      subApp._loading = false;\n      await ac.setState({ name2SubApp });\n    }\n  }\n}\n\n/**\n * 处理删除最近访问点击\n */\nexport async function handleDelIconClick(subAppName, /** @type St*/moduleState, /** @type AC*/ac) {\n  const { name2SubApp } = moduleState;\n  const subApp = name2SubApp[subAppName];\n\n  if (subApp) {\n    subApp._loading = true;\n    await ac.setState({ name2SubApp });\n\n    await subAppService.delUserVisitApp(subAppName);\n    await ac.dispatch(delSubAppInView, subAppName);\n    ccReducer.portal.delVisitApp(subAppName);\n  }\n}\n\n/**\n * 删除列表里的子应用视图\n */\nexport function delSubAppInView(subAppName, /** @type St*/moduleState) {\n  const { name2SubApp, subApps } = moduleState;\n  const idx = subApps.findIndex(v => v.name === subAppName);\n  if (idx >= 0) {\n    delete name2SubApp[subAppName];\n    subApps.splice(idx, 1);\n    return { name2SubApp, subApps };\n  }\n}\n\n/**\n * 该appStore模块被克隆为startList latestVist top 这3个其他模块了\n * 任意一个模块的subApp发生变化时，通知其他两个模块进行相应的数据更新\n */\nexport function handleOtherPages(toUpdatePartial) {\n  const curPathname = commonService.getRouteRelativePath();\n  const restPathnames = arrUtil.removeIfExist([LATEST_VISIT, STAR, STORE, TOP], curPathname);\n  restPathnames.forEach((pathname) => {\n    const moduleName = path2Module[pathname];\n    if (pathname === LATEST_VISIT || pathname === STAR || pathname === TOP) {\n      ccReducer[moduleName].setState({ needRefresh: true });\n    } else {\n      // 应用商店页面时无限多的，值针对性的该目标子应用属性即可\n      ccReducer.appStore.updateSubAppViewModel(toUpdatePartial);\n    }\n  });\n}\n\nexport function updateSubAppViewModel({ appName, ...rest }, /** @type St*/moduleState) {\n  const { name2SubApp } = moduleState;\n  const subApp = name2SubApp[appName];\n\n  if (subApp) {\n    Object.keys(rest).forEach((key) => {\n      subApp[key] = rest[key];\n    });\n    return { name2SubApp };\n  }\n}\n\nexport async function updateSubApp(toUpdate, /** @type St*/moduleState, /** @type AC*/ac) {\n  const { is_local_render, render_app_host, class_key } = toUpdate;\n  if (is_local_render === false) {\n    if (!render_app_host) {\n      msgService.info('应用选择了不在当前平台渲染，请填写【应用的渲染域名】');\n      return false;\n    } else if (!regs.url.test(render_app_host)) {\n      msgService.info('填写的应用渲染域名不合法');\n      return false;\n    }\n  }\n\n  if (!class_key) {\n    toUpdate.class_key = '';\n    toUpdate.class_name = '';\n  }\n\n  const res = await subAppService.updateSubApp(toUpdate);\n  if (parseInt(res.code, 10) !== 0) {\n    msgService.warn(res.msg);\n    return false;\n  }\n  await ac.dispatch(initAllPage);\n  return true;\n}\n\nexport async function searchApp(payload, /** @type St*/moduleState, /** @type AC*/ac) {\n  // 点击搜索就自动置为 all，方便查询出所有应用\n  // await ac.setState({ listMode: 'all' });\n  await ac.dispatch(fetchDataList, { page: 1 });\n}\n\nexport async function refreshCurPage(payload, /** @type St*/moduleState, /** @type AC*/ac) {\n  await ac.dispatch(fetchDataList);\n}\n\nexport function refreshStoreApp(/** @type SubApp */appInfo, /** @type St*/moduleState, /** @type AC*/ac) {\n  const { subApps, name2SubApp } = moduleState;\n  const { starAppNames } = ac.rootState.portal;\n  subAppTool.formatSubApp(appInfo, starAppNames);\n  const oldData = name2SubApp[appInfo.name];\n  if (oldData) {\n    Object.assign(oldData, appInfo);\n  } else {\n    name2SubApp[appInfo.name] = appInfo;\n  }\n  return { subApps, name2SubApp };\n}\n\nexport async function resetAppInfoCache(appName, /** @type St*/moduleState, /** @type AC*/ac) {\n  const appInfo = await subAppService.resetAppInfoCache(appName);\n  if (appInfo) {\n    await ac.dispatch(refreshStoreApp, appInfo);\n  }\n}\n","/** @typedef {ReturnType<import('./state').getInitialState>} State */\nimport { lsKeys } from 'configs/constant';\n\nexport function listMode(/** @type {State} */n) {\n  localStorage.setItem(lsKeys.LIST_MODE, n.listMode);\n}\n","import state from './state';\nimport * as reducer from './reducer';\nimport * as watch from './watch';\n\nexport default {\n  state,\n  reducer,\n  watch,\n};\n","/** @typedef {import('types/domain').SubApp} SubApp */\nimport { lsKeys } from 'configs/constant';\n\nexport function getInitialState() {\n  return {\n    /** @type {'prod'|'test'|'all'} */\n    listMode: localStorage.getItem(lsKeys.LIST_MODE) || 'prod',\n    searchType: 'name',\n    searchStr: '',\n    searchUser: '',\n    classKey: '-10000',\n    isVerTabOpen: false,\n    needRefresh: false,\n    loading: false,\n    btnLoading: false,\n    page: 1,\n    total: 0,\n    size: 20,\n    /** @type SubApp[] */\n    subApps: [],\n    /** @type {{[name:string]: SubApp & {_loading:boolean, _star:boolean}}} */\n    name2SubApp: {},\n    allClassInfoList: [],\n  };\n}\n\nexport default getInitialState;\n","/** @typedef {import('types/domain').SubApp} SubApp */\n\nexport function getInitialState() {\n  // 本地开发模式设置默认为 all，方便后本地的后台能够接口模拟通\n  // const listMode = window.location.port ? 'all' : 'tag';\n  const listMode = 'all';\n\n  return {\n    /** @type { 'all' | 'tag' } */\n    listMode,\n    /** @type { SubApp } */\n    subApp: {},\n    /** @type { Array<{ver: string, desc: string, userName: string, time: number}> } */\n    globalMarkedList: [],\n    pageList: [],\n    total: 0,\n    markTotal: 0,\n    buildTotal: 0,\n    showInput: false,\n    /** @type { 'online' | 'gray' } */\n    changeMode: 'online',\n    inputVersion: '',\n    updateLoading: false,\n    grayBtnLoading: false,\n    projVerAreaLoading: false,\n  };\n}\n\nexport default getInitialState;\n","\nexport function getInitMetaData(hasMoreMode = false, pageSize = 50) {\n  return {\n    lockId: 'init_lock', // 用于控制多个fetcher刷新同一个表格时，总是只认最近调用的那一个返回的数据\n    /** 是否处于 hasMore 模式 */\n    hasMoreMode,\n    hasMore: true,\n    current: 1,\n    pageSize,\n    total: 0,\n    list: [\n      // {\n      //   coral_uid: \"805504571\",\n      //   created_at: \"2019-08-16 15:22:12\",\n      //   created_by: \"\",\n      //   id: 8,\n      //   status: 1,\n      //   uid: \"369770643\",\n      //   updated_at: \"2019-08-16 15:22:48\",\n      //   updated_by: \"chappiiwu\",\n      //   user_name: \"Being\",\n      // }\n    ],\n    loading: false,\n  };\n}\n\nexport default () => ({\n  /** @type {Record<string, ReturnType<typeof getInitMetaData>>} */\n  meta: {},\n});\n","/* eslint-disable no-underscore-dangle,no-param-reassign,camelcase */\nimport * as obj from 'utils/object';\nimport { getInitMetaData } from './state';\n\nfunction getTableMeta(meta, tableId) {\n  return obj.safeGet(meta, tableId, getInitMetaData());\n}\n\nexport function modTableMeta({ tableId, toMod }, moduleState) {\n  const { meta } = moduleState;\n  const tableMeta = getTableMeta(meta, tableId);\n  meta[tableId] = obj.safeAssign(tableMeta, toMod);\n  return { meta };\n}\n\n/** 处理页码变更 */\nexport async function handlePageCurrentChange({ current, tableId, fetchFn }, _, ctx) {\n  await ctx.dispatch(modTableMeta, { tableId, toMod: { loading: true, current, lockId: Date.now() } });\n  await ctx.dispatch(fetchTableData, { tableId, fetchFn });\n}\n\n/** 翻到下一页 */\nexport async function handleNextPage({ tableId, fetchFn }, { meta }, ctx) {\n  const { current } = getTableMeta(meta, tableId);\n  await ctx.dispatch(handlePageCurrentChange, { current: current + 1, tableId, fetchFn });\n}\n\n/** 处理一页展示条数的变更 */\nexport async function handlePageSizeChange({ tableId, pageSize, fetchFn }, _, ctx) {\n  await ctx.dispatch(modTableMeta, { tableId, toMod: { loading: true, pageSize, lockId: Date.now() } });\n  await ctx.dispatch(fetchTableData, { tableId, fetchFn });\n}\n\nexport function clearTable({ tableId }, m, ctx) {\n  ctx.dispatch(modTableMeta, {\n    tableId,\n    toMod: { list: [], total: 0, loading: false },\n  });\n}\n\nexport async function fetchTableData({ tableId, fetchFn }, moduleState, ctx) {\n  const { meta } = moduleState;\n  const ret = getTableMeta(meta, tableId);\n  const { current, pageSize, lockId, list: oldList, hasMoreMode } = ret;\n\n  const res = await fetchFn({ current, pageSize, list: oldList });\n  if (!res) {\n    await ctx.dispatch(modTableMeta, {\n      tableId,\n      toMod: { loading: false },\n    });\n    return;\n  }\n  const { pageList, page_list, total = 0, hasMore = true } = res;\n  const list = pageList || page_list || [];\n  if (getTableMeta(meta, tableId).lockId !== lockId) {\n    return; // lockId已不对，这是一个较老生成的lockId，放弃执行当前函数，不触发刷新表格\n  }\n  const start = (current - 1) * pageSize;\n  list.forEach((v, idx) => {\n    if (v) v.__seq = start + (idx + 1);\n  });\n  let targetList = list;\n  if (hasMoreMode) {\n    targetList = oldList.concat(list);\n  }\n  await ctx.dispatch(modTableMeta, {\n    tableId,\n    toMod: { list: targetList, total, hasMore, loading: false },\n  });\n}\n","import { configure } from 'concent';\nimport state from './state';\nimport * as reducer from './reducer';\n\nconfigure('GeneralTable', {\n  state,\n  reducer,\n});\n","import { Table } from 'antd';\nimport styled from 'styled-components';\n\nexport const NoHeadTable = styled(Table)`\n  &&& {\n    .ant-table-thead {\n      display: none;\n    }\n  }\n`;\n","/* eslint-disable react/prop-types,no-underscore-dangle,no-param-reassign */\n/** @typedef {import('./model/meta').CtxPre} CtxPre */\nimport React, { Fragment } from 'react';\nimport { Table, Pagination, Button } from 'antd';\nimport { useConcent } from 'concent';\nimport './model';\nimport { getInitMetaData } from './model/state';\nimport { NoHeadTable } from './styled';\n\nexport const evNames = {\n  refreshTable: 'refreshTable',\n  clearTable: 'clearTable',\n  refreshTableCurPage: 'refreshTableCurPage',\n};\n\n\nconst setup = (/** @type CtxPre */ctx) => {\n  const {\n    tid: tableId, fetchAfterMounted = true, hasMoreMode = false, fetchFn: propsFetchFn,\n    pageSizeOptions = ['50', '100', '200'],\n  } = ctx.props;\n  const { ccUniqueKey } = ctx;\n  if (!ctx.state.meta[tableId]) {\n    const pageSize = parseInt(pageSizeOptions[0], 10) || 50;\n    ctx.state.meta[tableId] = getInitMetaData(hasMoreMode, pageSize);\n  }\n\n  ctx.on([evNames.refreshTable, tableId], async (fetchFn) => {\n    const _fetchFn = fetchFn || propsFetchFn;\n    await ctx.mr.clearTable({ tableId }, ccUniqueKey);\n    await ctx.mr.handlePageCurrentChange({ tableId, current: 1, fetchFn: _fetchFn }, ccUniqueKey);\n  });\n  ctx.on([evNames.clearTable, tableId], () => {\n    ctx.mr.clearTable({ tableId }, ccUniqueKey);\n  });\n  ctx.on([evNames.refreshTableCurPage, tableId], (fetchFn) => {\n    const _fetchFn = fetchFn || propsFetchFn;\n    const tableMeta = ctx.state.meta[tableId];\n    ctx.mr.handlePageCurrentChange({ tableId, current: tableMeta.current, fetchFn: _fetchFn }, ccUniqueKey);\n  });\n\n  ctx.effect(() => {\n    if (fetchAfterMounted) {\n      handlePageCurrentChange(1);\n    }\n    return () => ctx.mr.clearTable({ tableId }, ccUniqueKey);\n  }, []);\n\n  const handlePageCurrentChange = (current) => {\n    const { fetchFn } = ctx.props;// fetchFn有可能会变，这里每次取最新的\n    ctx.mr.handlePageCurrentChange({ tableId, current, fetchFn }, ccUniqueKey);\n  };\n  const handelPageSizeChange = (page, pageSize) => {\n    const { fetchFn } = ctx.props;\n    ctx.mr.handlePageSizeChange({ tableId, pageSize, fetchFn }, ccUniqueKey);\n  };\n  const handleNextPage = () => {\n    const { fetchFn } = ctx.props;\n    ctx.mr.handleNextPage({ tableId, fetchFn });\n  };\n\n  return {\n    handlePageCurrentChange,\n    handelPageSizeChange,\n    handleNextPage,\n    pageSizeOptions,\n  };\n};\n\n/**\n * #################[Code example]#####################\n *\n *  const fetcher = ()=> xxxService.fetchData();\n *  <GeneralTable tid=\"xxxId\" fetchFn={fetcher} columns={yourColumnsDef} />\n *\n * ####################################################\n * @param {import('./type').Props} props\n */\nfunction GeneralTable(props) {\n  const { state, settings } = useConcent({ module: 'GeneralTable', setup, props });\n  const {\n    tid, columns, rowKey = 'id', scroll = { x: '100%' }, hasMoreMode = false,\n    disableBtnWhenNoMore, hasTopPagination = false, getColumns, noTableHead = false,\n  } = props;\n  const { list, loading, current, total, pageSize, hasMore } = state.meta[tid];\n  const { handelPageSizeChange, handlePageCurrentChange, handleNextPage, pageSizeOptions } = settings;\n\n  const renderBtn = () => {\n    if (disableBtnWhenNoMore && !hasMore) return <Button disabled style={{ width: '100%' }}>没有更多了</Button>;\n    return <Button onClick={handleNextPage} style={{ width: '100%' }}>加载更多</Button>;\n  };\n\n  // console.log(`%c@@@ GeneralTable ${props.tid}`, 'color:red;border:1px solid red;');\n  const uiPagination = <Pagination onShowSizeChange={handelPageSizeChange} onChange={handlePageCurrentChange}\n    current={current} total={total} showSizeChanger pageSizeOptions={pageSizeOptions}\n    pageSize={parseInt(pageSize, 10)} style={{ paddingRight: '20px', float: 'right' }}\n  />;\n  const columnsVar = getColumns ? getColumns({ uiPagination, hasTopPagination, total }) : columns;\n  const TableComp = noTableHead ? NoHeadTable : Table;\n\n  return (\n    <Fragment>\n      <TableComp rowKey={rowKey} columns={columnsVar} dataSource={list}\n        loading={loading} pagination={false} scroll={scroll}\n      />\n      <div style={{ height: '19px', width: '100%' }} />\n      {hasMoreMode ? renderBtn() : uiPagination}\n    </Fragment>\n  );\n}\n\nexport default React.memo(GeneralTable);\n","/* eslint-disable no-unused-vars */\n/** @typedef {import('components/GeneralTable/type').FetchFnParams} FetchFnParams */\n/** @typedef {ReturnType<import('./state').default>} St */\n/** @typedef {Partial<St>} ReturnSt */\n/** @typedef {import('types/store').AC<'VersionList'>} AC */\nimport { emit } from 'concent';\nimport * as subAppVersionSrv from 'services/subAppVersion';\nimport * as subAppSrv from 'services/subApp';\nimport * as subAppTool from 'services/subAppTool';\nimport * as msgSrv from 'services/message';\nimport { evNames } from 'components/GeneralTable';\nimport { ccReducer, getModelState } from 'services/concent';\nimport * as objUtil from 'utils/object';\nimport * as mods from 'configs/constant/ccModule';\n\nconst inner = {\n  refreshTableCurPage() {\n    emit([evNames.refreshTableCurPage, 'vTable']);\n  },\n  refreshTable() {\n    emit([evNames.refreshTable, 'vTable']);\n  },\n};\n\n// function forCopy(payload, /** @type St */m, /** @type AC*/ac) {}\n\nexport async function refreshTableCurPage() {\n  inner.refreshTableCurPage();\n}\n\n\nexport async function freshSubApp(appName) {\n  const subApp = await subAppSrv.getSubApp(appName);\n  subAppTool.formatSubApp(subApp);\n  ccReducer.appStore.refreshStoreApp(subApp);\n  return { subApp };\n}\n\n\nexport async function freshSubAppGlobalMarkInfo(appName) {\n  const globalData = await subAppSrv.getAppGlobalData(appName);\n  const { mark_info: { markedList } } = globalData;\n  return { globalMarkedList: markedList };\n}\n\n\nexport async function freshSubAppAssociate(appName, /** @type St */m, /** @type AC*/ac) {\n  const name = appName || m.subApp.name;\n  await Promise.all([\n    ac.dispatch(freshSubApp, name),\n    ac.dispatch(freshSubAppGlobalMarkInfo, name),\n  ]);\n}\n\n\nexport async function freshSubAppAssociateAndTable(payload, /** @type St */m, /** @type AC*/ac) {\n  const { subApp } = m;\n  await ac.dispatch(freshSubAppAssociate, subApp.name);\n  await ac.dispatch(refreshTableCurPage);\n}\n\n\nexport async function fetchVersionList(/** @type FetchFnParams */payload, /** @type St */m) {\n  const { subApp, listMode, globalMarkedList } = m;\n  const { userMarkedList } = getModelState(mods.PORTAL);\n  const { current, pageSize } = payload;\n  const { name: appName } = subApp;\n  const countData = await subAppVersionSrv.countSubAppVersionList(appName);\n\n  // 计算用户标记的版本\n  let verList = [];\n  const pushToVerList = item => objUtil.noDupPush(verList, item.ver);\n  globalMarkedList.forEach(pushToVerList);\n  userMarkedList.filter(item => item.name === appName).forEach(pushToVerList);\n  subApp.online_version && objUtil.noDupPush(verList, subApp.online_version);\n  subApp.build_version && objUtil.noDupPush(verList, subApp.build_version);\n  const markTotal = verList.length;\n  const start = (current - 1) * pageSize;\n  verList = verList.slice(start, start + pageSize);\n\n  /** @type {Array{any}} */\n  let pageList = [];\n  let tableTotal = countData.total;\n  if (listMode === 'all') {\n    tableTotal = countData.total;\n    pageList = await subAppVersionSrv.getSubAppVersionList(appName, current, pageSize);\n    pageList.push({ $uiType: 'switchMarkTip' }); // 末尾添加一个跳转已标记列表的提示\n  } else {\n    tableTotal = markTotal;\n    pageList = await subAppVersionSrv.getSubAppVersionListByVers(appName, verList);\n    pageList.push({ $uiType: 'switchAllTip' }); // 末尾添加一个跳转所有列表的提示\n  }\n  // 表格头部翻页功能暂时关闭，如需打开，解开下面注释即可\n  // pageList.unshift({ $uiType: 'topPagination' }); // 头部插入一个翻页组件\n\n  return { total: tableTotal, pageList, markTotal, buildTotal: countData.total };\n}\n\n\nexport async function updateAppVersion(payload = {}, /** @type St */m, /** @type AC*/ac) {\n  const inputVersion = payload.inputVersion || m.inputVersion;\n  const changeMode = payload.changeMode || m.changeMode;\n\n  const { subApp } = m;\n  const { id, name } = subApp;\n  const pureVersion = inputVersion.replace(/ /g, '');\n  if (!pureVersion) {\n    return void msgSrv.warn('请输入版本号', 2);\n  }\n  const toUpdate = { id, name };\n\n  try {\n    if (changeMode === 'online') {\n      if (subApp.online_version === pureVersion) {\n        return void msgSrv.info('线上版本无变化', 2);\n      }\n      // 线上版本必需是来自线上应用\n      const versionData = await subAppSrv.getSubAppVersion(name, pureVersion);\n      if (!versionData || objUtil.isNull(versionData)) {\n        return void msgSrv.warn('版本不存在', 2);\n      }\n      if (versionData.sub_app_name !== subApp.name) {\n        return void msgSrv.warn('当前修改版本所属的应用名和目标应用不一致', 2);\n      }\n      toUpdate.online_version = pureVersion;\n    } else if (changeMode === 'gray') {\n      if (subApp.build_version === pureVersion & subApp.is_in_gray === 1) {\n        return void msgSrv.info('灰度版本无变化', 2);\n      }\n      toUpdate.build_version = pureVersion;\n      toUpdate.is_in_gray = 1;\n    } else {\n      return void msgSrv.warn(`未知的 changeMode ${changeMode}`, 2);\n    }\n\n    await ac.setState({ updateLoading: true });\n    const res = await subAppSrv.updateSubApp(toUpdate);\n    if (`${res.code}` !== '0') {\n      msgSrv.warn(res.msg, 2);\n      return { updateLoading: false };\n    }\n    Object.assign(subApp, toUpdate);\n    return { updateLoading: false, subApp };\n  } catch (err) {\n    msgSrv.info(err.message, 2);\n    return { updateLoading: false };\n  }\n}\n\n\nexport async function clickUpdateVersionBtn(payload, /** @type St */m, /** @type AC*/ac) {\n  await ac.dispatch(updateAppVersion, payload);\n  emit([evNames.refreshTableCurPage, 'vTable']);\n  await ccReducer.appStore.initAllPage();\n}\n\n\n/**\n * @returns {ReturnSt}\n */\nexport function clear() {\n  return { subApp: {}, inputVersion: '', showInput: false };\n}\n\n\nexport function showChangeOnlineInput() {\n  return { showInput: true, changeMode: 'online' };\n}\n\n\nexport function showChangeGrayInput() {\n  return { showInput: true, changeMode: 'gray' };\n}\n\n\nexport async function agreeGray(payload, /** @type St */m, /** @type AC*/ac) {\n  const { subApp } = m;\n  try {\n    await ac.setState({ updateLoading: true });\n    const res = await subAppSrv.updateSubApp(\n      { id: subApp.id, name: subApp.name, online_version: subApp.build_version, is_in_gray: 0 },\n    );\n    if (`${res.code}` !== '0') {\n      msgSrv.warn(res.msg);\n      return { updateLoading: false };\n    }\n    subApp.online_version = subApp.build_version;\n    subApp.is_in_gray = 0;\n    msgSrv.success('灰度通过成功', 1);\n    return { updateLoading: false, subApp };\n  } catch (err) {\n    msgSrv.info(err.message);\n    return { updateLoading: false };\n  }\n}\n\n\nexport async function clickAgreeGrayBtn(payload, /** @type St */m, /** @type AC*/ac) {\n  await ac.setState({ grayBtnLoading: true });\n  await ac.dispatch(agreeGray);\n  await ac.setState({ grayBtnLoading: false });\n  emit([evNames.refreshTableCurPage, 'vTable']);\n  await ccReducer.appStore.initAllPage();\n}\n\n\nexport async function delAppUserMark(params, /** @type St */m, /** @type AC*/ac) {\n  const { appName, ver } = params;\n  await subAppSrv.delAppUserMarkInfo({ name: appName, ver });\n  await ccReducer.portal.initUserExtendData(); // 刷新用户扩展数据\n  inner.refreshTableCurPage();\n}\n\n\nexport async function delAppGlobalMark(params, /** @type St */m, /** @type AC*/ac) {\n  const { appName, ver } = params;\n  await subAppSrv.delAppGlobalMarkInfo({ name: appName, ver });\n  await ac.dispatch(freshSubAppGlobalMarkInfo, appName);\n  inner.refreshTableCurPage();\n}\n\n\nexport async function changeListMode(listMode, /** @type St */m, /** @type AC*/ac) {\n  await ac.setState({ listMode });\n  await ac.dispatch(freshSubAppAssociate, m.subApp.name);\n  inner.refreshTable();\n}\n\n\nexport async function updateProjVer(dataList, /** @type St */m, /** @type AC*/ac) {\n  const { subApp } = m;\n  await ac.setState({ updateLoading: true });\n  // utime 用于后台校验，简单防止数据提交脏写（严格来说后台加锁更保险），后台校验通过后会自动变更为最新的时间戳\n  const proj_ver = { map: {}, utime: subApp.proj_ver.utime };\n  dataList.forEach(item => {\n    proj_ver.map[item.id] = { o: item.onlineVerId, b: item.buildVerId };\n  });\n  try {\n    const res = await subAppSrv.updateSubApp(\n      { id: subApp.id, name: subApp.name, proj_ver },\n    );\n    if (`${res.code}` !== '0') {\n      msgSrv.warn(res.msg);\n      return { updateLoading: false };\n    }\n\n    msgSrv.success('【项目与版本】配置更新成功', 1);\n    subApp.proj_ver = res.data.proj_ver;\n    return { updateLoading: false, subApp };\n  } catch (err) {\n    msgSrv.info(err.message);\n    return { updateLoading: false };\n  }\n}\n\n\nexport async function resetVerCache(payload) {\n  const { verAppName, verID } = payload;\n  await subAppVersionSrv.resetVerCache(verAppName, verID);\n}\n","/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport http from 'services/http';\nimport { signMD5 } from 'utils/sign';\nimport { SEC_STR } from 'configs/constant';\n\n/**\n * @returns {Promise<SubAppVersion[]>}\n */\nexport async function getSubAppVersionList(name, page, size) {\n  const timestamp = Date.now();\n  const finalPage = page - 1; // 后台 page 起始值是 0\n  let url = `/api/v1/app/version/getSubAppVersionListByName?timestamp=${timestamp}`;\n  const content = `${name}_${SEC_STR}_${size}_${finalPage}_${timestamp}`;\n  const nonce = signMD5(content);\n  url = `${url}&nonce=${nonce}`;\n\n  const subAppVersionList = await http.post(url, { name, page: finalPage, size });\n  return subAppVersionList;\n}\n\nexport async function countSubAppVersionList(name) {\n  const countData = await http.post('/api/v1/app/version/countSubAppVersionListByName', { name });\n  return countData;\n}\n\nexport async function getSubAppVersionListByVers(name, verList) {\n  const subAppVersionList = await http.post(\n    '/api/v1/app/version/getSubAppVersionListByVers',\n    { name, verList },\n  );\n  return subAppVersionList;\n}\n\nexport async function resetVerCache(appName, versionId) {\n  const timestamp = Date.now();\n  let url = `/api/v1/app/version/resetVerCache?timestamp=${timestamp}`;\n  const content = `${versionId}_${timestamp}_${SEC_STR}`;\n  const nonce = signMD5(content);\n  url = `${url}&nonce=${nonce}`;\n\n  const result = await http.post(url, { versionId, appName });\n  return result;\n}\n","/** @typedef {import('types/domain').IServerModStat} IServerModStat */\n/** @typedef {import('types/domain').IServerModStatLog} IServerModStatLog */\nimport http from 'services/http';\nimport { signMD5 } from 'utils/sign';\nimport { SEC_STR } from 'configs/constant';\n\nfunction getSignedUrl(apiKey, options) {\n  const { name, size, page } = options;\n  const timestamp = Date.now();\n  let url = `/api/v1/hmn/${apiKey}?timestamp=${timestamp}`;\n  const content = `${name}_${SEC_STR}_${size}_${page}_${timestamp}`;\n  const nonce = signMD5(content);\n  url = `${url}&nonce=${nonce}`;\n\n  return url;\n}\n\n/**\n * @returns {Promise<IServerModStat[]>}\n */\nexport async function getServerModStatList(name, page, size) {\n  const finalPage = page - 1; // 后台 page 起始值是 0\n  const url = getSignedUrl('statList', { name, size, page: finalPage });\n  const { list, count } = await http.post(url, { name, page: finalPage, size });\n\n  return { list, count };\n}\n\n/**\n * @returns {Promise<IServerModStatLog[]>}\n */\nexport async function getServerModStatLogList(name, page, size) {\n  const finalPage = page - 1; // 后台 page 起始值是 0\n  const url = getSignedUrl('statLogList', { name, size, page: finalPage });\n  const { list, count } = await http.post(url, { name, page: finalPage, size });\n\n  return { list, count };\n}\n","/* eslint-disable no-unused-vars */\n/** @typedef {import('components/GeneralTable/type').FetchFnParams} FetchFnParams */\n/** @typedef {ReturnType<import('./state').default>} St */\n/** @typedef {Partial<St>} ReturnSt */\n/** @typedef {import('types/store').AC<'VersionList'>} AC */\nimport { message } from 'antd';\nimport { emit } from 'concent';\nimport * as serverModSrv from 'services/serverMod';\nimport { evNames } from 'components/GeneralTable';\n\nconst inner = {\n  refreshTableCurPage() {\n    emit([evNames.refreshTableCurPage, 'smTable']);\n  },\n  refreshTable() {\n    emit([evNames.refreshTable, 'smTable']);\n  },\n};\n\nexport async function refreshTableCurPage() {\n  inner.refreshTableCurPage();\n}\n\nexport async function fetchDataList(/** @type FetchFnParams */payload, /** @type St */m) {\n  try {\n    const { subAppName } = m;\n    const { current, pageSize } = payload;\n    const { list, count } = await serverModSrv.getServerModStatList(subAppName, current, pageSize);\n\n    return { total: count, pageList: list };\n  } catch (err) {\n    message.error(err.message);\n    return { total: 0, pageList: [] };\n  }\n}\n\n/**\n * @returns {ReturnSt}\n */\nexport function clear() {\n  return { subAppName: '', inputVersion: '', showInput: false };\n}\n\nexport async function changeListMode(listMode, /** @type St */m, /** @type AC*/ac) {\n  await ac.setState({ listMode });\n  inner.refreshTable();\n}\n","import state from './state';\nimport * as reducer from './reducer';\n\nexport default {\n  state,\n  reducer,\n};\n","import * as ccModule from 'configs/constant/ccModule';\nimport portal from './portal';\nimport appStore from './app-store';\nimport versionList from './version-list';\nimport serverModList from './server-mod-list';\n\nexport default {\n  [ccModule.APP_STORE]: appStore,\n  [ccModule.VERSION_LIST]: versionList,\n  [ccModule.SERVER_MOD_LIST]: serverModList,\n  [ccModule.PORTAL]: portal,\n  // 克隆 appStore 的逻辑\n  [ccModule.LATEST_VISIT]: appStore,\n  [ccModule.STAR_LIST]: appStore,\n  [ccModule.CREATED_LIST]: appStore,\n  [ccModule.TOP]: appStore,\n};\n","import state from './state';\nimport * as reducer from './reducer';\n\nexport default {\n  state,\n  reducer,\n};\n","/** @typedef {import('types/domain').IServerModStat} IServerModStat */\n/** @typedef {import('types/domain').SubApp} SubApp */\n\nexport function getInitialState() {\n  return {\n    /** @type { 'table' | 'card' } */\n    listMode: 'card',\n    subAppName: '',\n    /** @type { IServerModStat[] } */\n    pageList: [],\n    total: 0,\n  };\n}\n\nexport default getInitialState;\n","import { on } from 'services/event';\nimport { ADD_BG, REMOVE_BG } from 'configs/constant/event';\nimport { IMG_TNEWS_SPLASH_SCREEN } from 'configs/constant';\n\nfunction setAppNodeDisplay(display) {\n  // 添加bg前隐藏当前子应用（针对对vue应用），以便获得更好的使用体验\n  const node = document.body.querySelector('#app');\n  if (node) {\n    node.style.display = display;\n  }\n}\n\non(ADD_BG, (bgImg) => {\n  // 添加bg前隐藏当前子应用（针对对vue应用），以便获得更好的使用体验\n  setAppNodeDisplay('none');\n  const bodyStyle = document.body.style;\n  bodyStyle.backgroundImage = `url(${bgImg || IMG_TNEWS_SPLASH_SCREEN})`;\n  // 这样写才能保证body里空的时候，背景图也是居中布局\n  // bodyStyle.backgroundPosition = 'center 25vh';\n  bodyStyle.backgroundPosition = 'center';\n  bodyStyle.backgroundRepeat = 'no-repeat';\n  bodyStyle.backgroundSize = '600px';\n});\n\non(REMOVE_BG, () => {\n  const bodyStyle = document.body.style;\n  bodyStyle.backgroundImage = '';\n  bodyStyle.backgroundPosition = '';\n  bodyStyle.backgroundRepeat = '';\n  bodyStyle.backgroundSize = '';\n  setAppNodeDisplay('block');\n});\n","import cc, { run } from 'concent';\nimport models from 'models';\n\ncc.bindCcToWindow('Hel');\n\nrun(\n  models,\n  {\n    middlewares: [\n      (stateInfo, next) => {\n        console.warn(stateInfo);\n        next();\n      },\n    ],\n  },\n);\n","import { ccReducer } from 'services/concent';\n\nwindow.top.addEventListener('popstate', (p1, p2) => {\n  console.log('popstate', p1, p2);\n  // console.log('即将跳转目标路径为：', window.top.location.href);\n  // 走到这一步，页面还没有跳转\n\n  setTimeout(() => {\n    ccReducer.portal.checkPageUrl();\n  }, 1000);\n});\n","/* eslint-disable react/prop-types */\nimport React from 'react';\n\nconst Blank = ({ children = '', type = 'horizon', height = '22px', width = '28px', style = {} }) => {\n  const mergedStyle = { display: 'inline-block', width, height, ...style };\n  if (type === 'vertical') mergedStyle.display = 'block';\n\n  return (\n    <div style={mergedStyle}>{children}</div>\n  );\n};\n\nexport const NormalBlank = props => <Blank {...{ width: '8px', ...props }} />;\nexport const VerticalBlank = props => <Blank {...{ type: 'vertical', ...props }} />;\n\nexport const NormalSpanBlank = ({ width = '8px', style = {}, children = '' }) => {\n  const mergedStyle = { paddingRight: width, ...style };\n  return <span style={mergedStyle}>{children}</span>;\n};\n\nexport default Blank;\n\n","/* eslint-disable no-multiple-empty-lines */\n\nexport const remoteLib = `\n// 详细介绍见 https://tencent.github.io/hel/docs/tutorial/intro\n// Step1，入口文件后移，先预加载远程模块，再加载项目模块\n(async function(){\n  const helMicro = await import('hel-micro');\n  await helMicro.preFetchLib('remote-lib-tpl');\n  import('./loadApp'); // 这里开始载入你的项目入口文件\n})();\n\n\n/** --------------------------------------------------------------------------- */\n\n// Step2，预加载动作执行完毕后，可安全在项目内部任意文件的头部使用 import 语法静态导入远程模块\n// 这个包的 js 入口文件是一个空壳文件，仅暴露了一个代理对象，实际执行代码已在 Step1 处拉取完毕\n// 所以它并不会影响你的项目打包体积，同时因为模块主逻辑不参与构建，将提速你的项目构建速度\nimport remoteLib from 'remote-lib-tpl';\n\nexport function callRemoteMethod(){\n  // 现在你可以像调用本地方法一样放心调用远程方法了，并可以获得完整的 IDE 提示！^_^\n  return remoteLib.num.random(19);\n}\n`;\n\n\nexport const remoteLibLazy = `\nimport helMicro from 'hel-micro';\n\n// 不关心类型且需要使用时才加载模块，使用 helMicro.preFetchLib 获取远程库即可\nexport async function callRemoteMethod(){\n  const remoteLib = await helMicro.preFetchLib('remote-lib-tpl');\n  return remoteLib.num.random(19);\n}\n\n/** --------------------------------------------------------------------------- */\n// 关心模块类型，且需要使用时才加载模块，安装模块并导出模块类型并传给泛型参数即可\nimport type { Lib } from remote-lib-tpl';\nimport helMicro from 'hel-micro';\n\nexport async function  callRemoteMethod(){\n  const remoteLib = await helMicro.preFetchLib<Lib>('remote-lib-tpl');\n  return remoteLib.num.random(19);\n}\n`;\n\n\nexport const remoteReact = `\n// 这是一个由 hel-micro 从 HelPack 动态拉取的远程 react 组件\n// 注：能这样头部静态import导入是因为入口文件处已执行预加载\nimport { HelloRemoteReactComp } from 'remote-react-comps-tpl';\n\nfunction Demo(){\n  // 像本地组件一样使用远程组件吧\n  return <HelloRemoteReactComp label=\"hi remote comp\" />;\n}\n\n/** --------------------------------------------------------------------------- */\n\n// 通过 hel-micro-react 异步加载远程组件并享有 shadow-dom 样式隔离能力\n// hel-micro-react 是基于 hel-micro 做封装来适配 react 框架的适配层库\nimport { useRemoteComp } from 'hel-micro-react';\n\nfunction ShadowDemo(){\n  const Comp = useRemoteComp('remote-react-comps-tpl', 'HelloRemoteReactComp');\n  return <Comp  label=\"hi remote comp\" />;\n}\n`;\n\n\nexport const remoteVue = `\n<template>\n  <div class=\"app\">\n    <HelloRemoteVueComp label=\"hi remote comp\" />\n  </div>\n</template>\n\n<script>\n// 这是一个由 hel-micro 从 HelPack 动态拉取的远程vue组件\n// 注：能这样头部静态import导入是因为入口文件处已执行预加载\nimport { HelloRemoteVueComp } from 'remote-vue-comps-tpl';\n\nexport default {\n  name: 'App',\n  components: { HelloRemoteVueComp } // 像本地组件一样使用远程组件把 ^_^\n};\n</script>\n`;\n","import React from 'react';\n\nconst stDot = { display: 'inline-block', width: '8px', height: '8px', borderRadius: '4px', backgroundColor: 'darkgray', margin: '0 2px' };\n\nexport function MoreUser() {\n  return (\n    <td align=\"center\">\n      <div style={stDot}></div>\n      <div style={stDot}></div>\n      <div style={stDot}></div>\n    </td>\n  );\n}\n\nexport function User(props) {\n  const { site, logo, label } = props;\n  return (\n    <td align=\"center\" style={{ padding: '12px' }}>\n      <a href={site} target=\"_blank\" rel=\"noopener noreferrer\">\n        <img width=\"60px;\" height=\"60px\" src={logo}></img>\n      </a>\n      <br />\n      <a target=\"_blank\" href={site} rel=\"noopener noreferrer\">\n        <b>{label}</b>\n      </a>\n    </td>\n  );\n}\n","import React from 'react';\nimport { Alert, Button, Col, Radio } from 'antd';\nimport MonacoEditor, { monaco } from 'react-monaco-editor';\nimport { PlusOutlined, AppstoreOutlined, ApartmentOutlined, VideoCameraOutlined } from '@ant-design/icons';\nimport styled from 'styled-components';\nimport * as commonService from 'services/common';\nimport { VerticalBlank } from 'components/dumb/Blank';\nimport { NEW_APP, STORE } from 'configs/constant/page';\nimport * as cst from 'configs/constant';\nimport * as demoCode from './demoCode';\nimport { User, MoreUser } from './User';\n\n// 关闭语法验证，避免code示例里写 @ts-nocheck\n// see https://github.com/microsoft/monaco-editor/issues/264\nmonaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n  noSemanticValidation: true,\n  noSyntaxValidation: true, // This line disables errors in jsx tags like <div>, etc.\n});\n\nconst { HEL_ARCH, HEL_BANNER, HEL_LABEL_LOGO } = cst;\n\nconst Banner = styled.div`\n  position: 'relative';\n  background-image: url(${HEL_BANNER});\n  background-size: cover;\n  background-repeat: repeat-x;\n  width: 100%;\n  height: 520px;\n`;\n\nconst BannerLogo = styled.div`\n  position: absolute;\n  background-size: cover;\n  background-image: url(${HEL_LABEL_LOGO});\n  background-repeat: no-repeat;\n  width: 104px;\n  height: 32px;\n  left: 13px;\n  top: 13px;\n`;\n\nconst BannerVersion = styled.div`\n  position: absolute;\n  left: 128px;\n  top: 16px;\n  color: gray;\n  font-size: 19px;\n`;\n\nconst BannerHelLabelWrap = styled.span`\n  position: absolute;\n  font-size: 88px ;\n  left: 50%;\n  top: 100px;\n  transform: translateX(-50%);\n`;\n\nconst MyRow = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin: 0 0 50px 0;\n`;\n\nconst Blank = styled.div`\n  display: inline-block;\n  width: 20px;\n`;\n\nconst RowTitle = styled.span`\n  position: absolute;\n  left: 100px;\n  top: 10px;\n  width: 102px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  padding: 5px 15px;\n  border-radius: 20px;\n  font-size: 14px;\n  color: rgba(0,0,0,.65);\n`;\n\nconst stIntroWrap = {\n  position: 'absolute', width: '100%', top: '250px', fontSize: '28px',\n  color: 'white', textAlign: 'center',\n};\n\nconst stHelMicro = {\n  borderRadius: '3px',\n  backgroundColor: 'white',\n  padding: '0 12px',\n  margin: '0 12px',\n};\n\nconst stEditorWrap = {\n  width: '1023px', height: '615px', backgroundPosition: 'center',\n  backgroundRepeat: 'no-repeat', paddingTop: '40px', paddingLeft: '3px',\n};\n\nconst CodeDemo = React.memo(function () {\n  const [demoType, setDemoType] = React.useState('remoteLib');\n\n  return (\n    <>\n      <MyRow style={{ marginBottom: '20px' }}>\n        <Radio.Group options={[\n          { label: '远程库-预加载', value: 'remoteLib' },\n          { label: '远程库-懒加载', value: 'remoteLibLazy' },\n          { label: '远程react组件', value: 'remoteReact' },\n          { label: '远程vue组件', value: 'remoteVue' },\n        ]}\n          style={{ width: '100%', textAlign: 'center' }}\n          onChange={(e) => setDemoType(e.target.value)}\n          value={demoType}\n        />\n      </MyRow>\n      <MyRow style={{ marginBottom: '20px' }}>\n        <div style={{ ...stEditorWrap, backgroundImage: `url(${cst.DEMO_EDITOR_BG})` }}>\n          <MonacoEditor\n            width=\"1015px\"\n            height=\"570px\"\n            language=\"typescript\"\n            theme=\"vs-dark\"\n            value={demoCode[demoType]}\n            options={{ selectOnLineNumbers: true, fontSize: 16, noSyntaxValidation: true }}\n          />\n        </div>\n      </MyRow>\n    </>\n  );\n});\n\n\nexport default function Welcome() {\n  const gotoPage = (path) => {\n    commonService.historyPush(path);\n  };\n\n  const uiBtnGroup = <>\n    <Button type=\"primary\" icon={<PlusOutlined />} size=\"large\" onClick={() => gotoPage(NEW_APP)}>\n      创建应用\n    </Button>\n    <Blank />\n    <Button icon={<AppstoreOutlined />} size=\"large\" onClick={() => gotoPage(STORE)}>\n      探索更多\n    </Button>\n    <Blank />\n    <Button icon={<ApartmentOutlined />} size=\"large\" onClick={() => window.open('https://tencent.github.io/hel')}>\n      hel-micro\n    </Button>\n    <Blank />\n    <Button icon={<VideoCameraOutlined />} size=\"large\" onClick={() => window.open('https://github.com/Tencent/hel/issues/112')}>\n      视频教学\n    </Button>\n  </>;\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <Banner>\n        <BannerLogo />\n        <BannerVersion>Ver 3.0</BannerVersion>\n        <BannerHelLabelWrap className=\"hubShine\">Hel Pack</BannerHelLabelWrap>\n        <div style={stIntroWrap}>\n          <div>动态化模块发布、托管服务</div>\n          <div>\n            搭配<a href=\"https://tencent.github.io/hel/\" target=\"blank\" style={stHelMicro}>hel-micro</a>，\n            轻松实现微前端搭建、组件热更新、前后端分离、应用秒回滚 ......\n          </div>\n          <div style={{ height: '29px' }}></div>\n          {uiBtnGroup}\n        </div>\n      </Banner>\n      <MyRow style={{ backgroundColor: 'aliceblue', padding: '20px 0' }}>\n        <RowTitle style={{ top: '30px' }}>谁在使用中</RowTitle>\n        <table>\n          <tr>\n            <User label=\"腾讯云\"\n              site=\"https://console.cloud.tencent.com/wedata/share/overview\"\n              logo=\"https://user-images.githubusercontent.com/7334950/197116513-7c7382b6-a5b5-4fb9-bcd7-2ec891804b7d.png\"\n            />\n            <User label=\"腾讯音乐\"\n              site=\"https://www.tencentmusic.com\"\n              logo=\"https://user-images.githubusercontent.com/7334950/253788999-40ca0ea2-e73d-4e7b-b932-162826d5bf97.png\"\n            />\n            <User label=\"腾讯文档\"\n              site=\"https://docs.qq.com\"\n              logo=\"https://user-images.githubusercontent.com/7334950/253789181-c4065149-304b-4b1e-bb93-23e1d849f45f.png\"\n            />\n            <User label=\"腾讯新闻\"\n              site=\"https://news.qq.com\"\n              logo=\"https://user-images.githubusercontent.com/7334950/197115413-ede5f5fa-70dd-4632-b7f5-f6f8bc167023.png\"\n            />\n            <User label=\"腾讯自选股\"\n              site=\"https://gu.qq.com/resource/products/portfolio/m.htm\"\n              logo=\"https://user-images.githubusercontent.com/7334950/253789148-c42ae516-991f-44df-a366-9b295c306b98.png\"\n            />\n            <MoreUser />\n          </tr>\n        </table>\n      </MyRow>\n      <MyRow>\n        <RowTitle>架构</RowTitle>\n        <img width=\"1200px\" src={HEL_ARCH} />\n      </MyRow>\n      <VerticalBlank />\n      <MyRow style={{ paddingTop: '60px', marginBottom: '20px' }}>\n        <RowTitle>特点</RowTitle>\n        <Col span={8} style={{ padding: '0 20px 0 120px' }}>\n          <Alert showIcon style={{ width: '100%', height: '160px' }}\n            message=\"可靠\"\n            description=\"不依赖浏览器 import map、module script 特性，不依赖具体的 webpack 版本，\n            即可快速且安全地接入远程模块服务\"\n            type=\"info\"\n          />\n        </Col>\n        <Col span={8} style={{ padding: '0 20px' }}>\n          <Alert showIcon style={{ width: '100%', height: '160px' }}\n            message=\"开放\"\n            description=\"HelPack 仅负责制订产物元数据协议标准并托管元数据json，当前已服务于 webpack、vite 生态，依赖元数据提取插件可扩展到其他构建工具体系\"\n            type=\"info\"\n          />\n        </Col>\n        <Col span={8} style={{ padding: '0 120px 0 20px' }}>\n          <Alert showIcon style={{ width: '100%', height: '160px' }}\n            message=\"灵活\"\n            description=\"模块懒加载、预加载任意选择，不限定你的使用方式\"\n            type=\"info\"\n          />\n        </Col>\n      </MyRow>\n      <CodeDemo />\n      <MyRow>\n        {uiBtnGroup}\n      </MyRow>\n      <div style={{ height: '52px' }}></div>\n    </div>\n  );\n}\n","import { leftPad } from './str';\n\n/**\n * UTC 时间字符串转 locale 时间字符串\n * 2022-04-15T06:29:14.000Z --->2019/4/15 14:29:14\n * @param {string} str\n */\nexport function formatISODateStr(str) {\n  if (!str) return '';\n  return new Date(str).toLocaleString();\n}\n\n\n/**\n * 使用 toLocaleString('zh', { hour12: false }) 得到的字符串形如\n * 2021/8/1 14:41:55 ---> 2021-08-01 14:41:55\n *\n * 使用 toLocaleString() 得到的字符串形如\n * 2021/8/1 下午2:41:57 ---> 2021-08-01 14:41:55\n */\nexport function formatLocaleString(str) {\n  const hasMorning = str.includes(' 上午');\n  const hasAfternoon = str.includes(' 下午');\n  let keyword = ' ';\n  if (hasMorning) keyword = ' 上午';\n  if (hasAfternoon) keyword = ' 下午';\n\n  const lep = (str) => leftPad(str, 2, '0');\n  const [left, right] = str.split(keyword);\n  const [year, month, day] = left.split('/');\n  const [h, m, s] = right.split(':');\n  return `${year}-${lep(month)}-${lep(day)} ${lep(h)}:${lep(m)}:${lep(s)}`;\n}\n\n/**\n * 2021-09-06T08:31:16.000Z ---> 2021/9/6 16:31:06\n */\nexport function tryGetLocaleStrOfISOStr(isoStr, replaceSlash = true) {\n  try {\n    const d = new Date(isoStr);\n    let str = d.toLocaleString('zh', { hour12: false });\n    if (replaceSlash) str = str.replace(/\\//g, '-');\n    return str;\n  } catch (err) {\n    return isoStr;\n  }\n}\n","\nlet appProps = {};\nlet helContext = {};\nlet renderByHelMicro = false;\n\n/**\n * 记录别的项目实例化当前应用时透传的props，方便当前应用任意组件可以直接获取\n * 该方法会被根组件调用\n * @param iAppProps\n */\nexport function setMicroAppProps(microAppProps) {\n  renderByHelMicro = !!microAppProps.helContext;\n  appProps = microAppProps.appProps || {};\n  helContext = microAppProps.helContext || {};\n  ensureDropdownListVisible();\n}\n\nexport function getAppProps() {\n  return appProps;\n}\n\nexport function isRenderByHelMicro() {\n  return renderByHelMicro;\n}\n\nexport function getAppHelContext() {\n  return helContext;\n}\n\nexport function getAppRootContainer() {\n  if (helContext.getShadowAppRoot) {\n    return helContext.getShadowAppRoot();\n  }\n  return window.top.document.body;\n}\n\n/**\n * 人工设置container，确保在 shadow-dom 里也能正常渲染\n */\nexport function getAppBodyContainer(idOrTriggerNode) {\n  if (typeof idOrTriggerNode === 'string') {\n    const el = document.getElementById(idOrTriggerNode);\n    return el || window.top.document.body;\n  }\n  if (helContext.getShadowContainer) {\n    return helContext.getShadowContainer();\n  }\n  return window.top.document.body;\n}\n\n// eslint-disable-next-line\nlet isEnsured = false;\n\nexport function ensureDropdownListVisible() {\n  if (!isRenderByHelMicro()) return;\n\n  /**\n   * 此函数的调用时机出现了一个很诡异的解决问题方案，本项目被调用处是在 AttrForm 的启用状态下拉项里\n   * 只要有一个Item 定义了 onMouseEnter={helUtil.ensureDropdownListVisible}\n   * 即可解决点击两次才出现下拉的bug\n   */\n  isEnsured = true;\n  document.addEventListener('click', () => {\n    if (helContext.getShadowContainer) {\n      const shawRoot = helContext.getShadowContainer();\n      if (!shawRoot) return;\n      const { children } = shawRoot;\n      // 遍历 shadowRoot下所有的顶层节点，去掉 position=absolute，\n      // 让不同的浏览器的shadow-dom子应用都能够正常的显示下拉菜单\n      for (let i = 0, len = children.length; i < len; i++) {\n        const item = children[i];\n        const { style } = item;\n        if (style && style.position === 'absolute') {\n          style.position = '';\n        }\n      }\n    }\n  });\n}\n","export function delay(ms = 1000) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n/** short of stopEventPropagation */\nexport function ste(e) {\n  // 当前项目暂未支持可选链\n  if (e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n  }\n  return true;\n};\n","import styled from 'styled-components';\nimport { Card } from 'antd';\n\n// display: -webkit-box;\nexport const DescWrap = styled.div`\n  display: -webkit-box;\n  height: 42px;\n  color: rgba(0, 0, 0, 0.45);\n  padding: 2px 0 0 6px;\n  font-size: 13px;\n  word-break: break-all;\n  text-overflow: -o-ellipsis-lastline;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n`;\n\nexport const AppTitleWrap = styled.div`\n  display: inline-block;\n  height: 30px;\n  width: calc(100% - 30px);\n  padding-left: 6px;\n  font-size: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const AvatarWrap = styled.div`\n  width: 30px;\n  display: inline-block;\n  vertical-align: top;\n`;\n\nexport const MyCard = styled(Card)`\n  &&& {\n    .ant-card-actions {\n      background-color: #f2f3f6 !important;\n    }\n    .ant-card-actions>li:not(:last-child) {\n      border-right: 1px solid lightgrey;\n    }\n  }\n`;\n","import React from 'react';\nimport { message, Tooltip } from 'antd';\nimport copy from 'copy-to-clipboard';\nimport { LinkOutlined, CopyOutlined } from '@ant-design/icons';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport { ste } from 'utils/common';\nimport { AppTitleWrap } from './styled';\n\nconst stHighLight = { color: 'var(--lra-theme-color)' };\nconst stpdr = { paddingRight: '6px' };\nconst stName = { ...stHighLight, ...stpdr, fontSize: '18px' };\n\nexport default React.memo(function (props) {\n  const stNameVar = props.showIcons ? stName : { color: 'green', ...stpdr };\n  const { name, data } = props;\n  const copyName = (e) => {\n    ste(e);\n    message.info(`复制应用名 ${name} 成功!`, 1);\n    copy(name);\n  };\n\n  return <AppTitleWrap\n    onClick={(e) => {\n      e.stopPropagation();\n      props.onTitleClick(name, data);\n    }}\n  >\n    <Tooltip title={name}>\n      <span style={stNameVar}>{name}</span>\n    </Tooltip>\n    {props.showIcons && (\n      <Tooltip title=\"访问当前应用\"><LinkOutlined style={stHighLight} /></Tooltip>\n    )}\n    <NormalBlank width=\"5px\" />\n    {props.showIcons && <Tooltip title=\"复制应用名称\"><CopyOutlined style={stHighLight} onClick={copyName} /></Tooltip>}\n  </AppTitleWrap>;\n});\n","/* eslint-disable */\nimport React from 'react';\nimport { Card, Col, Spin, Tooltip, Avatar, message, Tag, Popover, Button } from 'antd';\nimport { HeartOutlined, BugOutlined, ExclamationCircleOutlined, CopyOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { ICON_GITCODE, ICON_STAR, ICON_STAR_NO, ICON_DEL } from 'configs/constant';\nimport { OPEN_SUB_APP_DRAWER, OPEN_COPY_SUB_APP_LAYER } from 'configs/constant/event';\nimport * as ccModule from 'configs/constant/ccModule';\nimport { useC2Mod, typeCtxM, emit } from 'services/concent';\nimport { getUserAvatarUrl } from 'services/common';\nimport { formatISODateStr } from 'utils/date';\nimport * as helUtil from 'utils/hel';\nimport { ste } from 'utils/common';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport AppTitle from './AppTitle';\nimport { DescWrap, AvatarWrap, MyCard } from './styled';\n\nconst validModuleList = [ccModule.APP_STORE, ccModule.STAR_LIST, ccModule.LATEST_VISIT];\nconst { Meta } = Card;\nconst stTagsWrap = { position: 'absolute', top: '8px', right: '2px', zIndex: 1 };\nconst stClassWrap = {\n  position: 'absolute', left: '0px', top: '-8px', zIndex: 1, backgroundColor: '#3ca75b',\n  color: 'white', padding: '0 12px', borderRadius: '2px', fontSize: '12px',\n};\nconst stCard = { borderBottom: '1px solid rgb(47 84 235 / 52%)' };\nconst stCardRed = { borderBottom: '1px solid rgb(238 74 61 / 52%)' };\nconst noop = (e) => {\n  e.stopPropagation();\n};\nconst responsiveColProps = {\n  xs: 24,\n  sm: 12,\n  md: 12,\n  lg: 12,\n  xl: 6,\n  // style: { margin: 0, padding: '0 12px' },\n};\nconst cpath = 'polygon(25% 0,75% 0,100% 50%,75% 100%,25% 100%,0 50%)';\n/** @type {React.CSSProperties} */\nconst stClip = { WebkitClipPath: cpath, clipPath: cpath };\n\nfunction setup(c) {\n  const ctx = typeCtxM(validModuleList[0], {}, c);\n  const { mr, ccUniqueKey, props } = ctx;\n  const settings = {\n    handleStarIconClick: (e) => {\n      e.stopPropagation();\n      const appName = e.currentTarget.dataset.name;\n      const payload = { appName, needDel: props.module === ccModule.STAR_LIST };\n      mr.handleStarIconClick(payload, { renderKey: ccUniqueKey });\n    },\n    handleDelIconClick: (e) => {\n      ste(e);\n      const appName = e.currentTarget.dataset.name;\n      mr.handleDelIconClick(appName, { renderKey: ccUniqueKey });\n    },\n    handleEditIconClick: (e) => {\n      ste(e);\n      const { name } = e.currentTarget.dataset;\n      const subApp = ctx.state.name2SubApp[name];\n      ctx.emit(OPEN_SUB_APP_DRAWER, subApp);\n    },\n    jumpTo: (e) => {\n      ste(e);\n      /** @type string */\n      let gitRepoUrl = e.currentTarget.dataset.git;\n      if (!gitRepoUrl) {\n        message.warn('当前子应用还未填写git仓库地址', 2);\n        return;\n      }\n      if (gitRepoUrl.startsWith('git@')) {\n        gitRepoUrl = gitRepoUrl.replace('git@', 'https://');\n      }\n      window.top.open(gitRepoUrl);\n    },\n    handleCardClick(e) {\n      settings.handleEditIconClick(e);\n    },\n    onTitleClick(appName, subApp) {\n      ctx.emit('openConfirmVisitAppModal', appName, subApp);\n    },\n    getStClassWrap(name) {\n      // 色彩灵感来自 tapd 系统，并统一加上了 88% 透明度\n      const colorMap = { 0: '#1468f8E0', 1: '#fda734E0', 2: '#f85552E0', 3: '#3ca75bE0' };\n      const yushu = name.length % 4;\n      const backgroundColor = colorMap[yushu];\n      return { ...stClassWrap, backgroundColor };\n    },\n    getCardStyle() {\n      const { appData } = ctx.props;\n      const { enable_pipeline: enablePipeline, is_in_gray: isInGray } = appData;\n      const st = enablePipeline ? stCard : stCardRed;\n      return { ...st, backgroundColor: isInGray ? '#f2f3f6' : '#d3e9f9' };\n    },\n  };\n  return settings;\n}\n\n/**\n * @param {object} props\n * @param {typeof validModuleList[number]} props.module\n * @param {boolean} props.delVisit\n * @param {SubApp} props.appData\n */\nfunction SubApp(props) {\n  const { appData, module } = props;\n  const { name, enable_pipeline: enablePipeline } = appData;\n  const { state, settings } = useC2Mod(module, { setup, props });\n  const [showIcons, setShowIcons] = React.useState(false);\n  const data = state.name2SubApp[name];\n  const onMouseEnter = () => setShowIcons(true);\n  const onMouseLeave = () => setShowIcons(false);\n  const openCopySubAppLayer = (e, mode) => {\n    ste(e);\n    emit(OPEN_COPY_SUB_APP_LAYER, data, mode);\n  };\n\n  // 已从视图里删除\n  if (!data) return '';\n\n  let title = '';\n  let UIIcon = '';\n  if (data._star) {\n    title = '已收藏 (点击取消搜藏该应用)';\n    UIIcon = <img width=\"19px\" height=\"19px\" src={ICON_STAR} />;\n  } else {\n    title = '未收藏 (点击搜藏该应用)';\n    UIIcon = <img width=\"19px\" height=\"19px\" src={ICON_STAR_NO} />;\n  }\n\n  const actions = [\n    <Tooltip key=\"avatar\" title={\n      <>创建者：<Tag color=\"#108ee9\">{data.create_by}</Tag><br />\n        创建时间：{formatISODateStr(data.create_at)}<br />\n        最近更新：{formatISODateStr(data.update_at)}\n      </>\n    } getTooltipContainer={helUtil.getAppBodyContainer}>\n      <div onClick={noop} >\n        <Avatar size={28} src={`${getUserAvatarUrl(data.create_by)}`} />\n      </div>\n    </Tooltip>,\n    <Tooltip key=\"star\" title={title} getTooltipContainer={helUtil.getAppBodyContainer}>\n      <div data-name={data.name} onClick={settings.handleStarIconClick} >\n        {UIIcon}\n      </div>\n    </Tooltip>,\n    <Tooltip key=\"edit\" title=\"跳转至git\" getTooltipContainer={helUtil.getAppBodyContainer}>\n      <div style={stClip} data-git={data.git_repo_url} onClick={settings.jumpTo} >\n        <img style={stClip} width=\"22px\" height=\"19px\" src={ICON_GITCODE} />\n      </div>\n    </Tooltip>,\n  ];\n\n  // 需要从最近访问里删除\n  if (props.delVisit) {\n    actions.push(<Tooltip key=\"del\" title=\"删除最近访问\" getTooltipContainer={helUtil.getAppBodyContainer} >\n      <div data-name={data.name} onClick={settings.handleDelIconClick} >\n        <img width=\"19px\" height=\"19px\" src={ICON_DEL} />\n      </div>\n    </Tooltip>);\n  }\n\n  actions.push(\n    <Popover key=\"copy\" content={\n      <div>\n        <Tooltip title={<span>\n          复制当前应用为同应用组({appData.app_group_name})下的另一个应用，该应用会自动标记为<Tag color=\"gray\">测试</Tag>应用\n        </span>}\n        >\n          <Button onClick={(e) => openCopySubAppLayer(e, 'test')}>同组复制</Button>\n        </Tooltip>\n        <NormalBlank />\n        <Tooltip title={<span>\n          复制当前应用为新应用组的新应用，该应用会自动标记为<Tag color=\"#f50\">正式</Tag>应用，等同于在新建应用页创建一个新应用\n        </span>}\n        >\n          <Button onClick={(e) => openCopySubAppLayer(e, 'prod')} >非同组复制</Button>\n        </Tooltip>\n      </div>\n    }>\n      <div data-name={data.name} onClick={ste} >\n        <CopyOutlined />\n      </div>\n    </Popover>,\n    <Tooltip key=\"del\" title=\"更多应用信息\" getTooltipContainer={helUtil.getAppBodyContainer}>\n      <div data-name={data.name} onClick={settings.handleEditIconClick} >\n        <EllipsisOutlined />\n      </div>\n    </Tooltip>,\n  );\n\n  return (\n    <Col span={6} style={{ position: 'relative' }} {...responsiveColProps}>\n      <div style={settings.getStClassWrap(data.class_name || '')}>\n        {data.class_name}\n      </div>\n      <div style={stTagsWrap} data-name={data.name} onClick={settings.handleCardClick}>\n        {data.is_top === 1\n          && <Tag className=\"gHover\" color=\"#f50\">\n            <HeartOutlined />荐\n          </Tag>\n        }\n        {data.is_test === 1\n          && <Tag className=\"gHover\" color=\"grey\">\n            <BugOutlined />测\n          </Tag>\n        }\n        {enablePipeline === 0\n          && <Tooltip title=\"已设置禁止上线，触发流水线执行会在元数据提取步骤执行失败\">\n            <Tag className=\"gHover\" color=\"red\">\n              <ExclamationCircleOutlined />禁\n            </Tag>\n          </Tooltip>\n        }\n      </div>\n      <Spin spinning={data._loading}>\n        <MyCard hoverable style={settings.getCardStyle()}\n          data-name={data.name}\n          onClick={settings.handleCardClick}\n          actions={actions}\n          onMouseEnter={onMouseEnter}\n          onMouseLeave={onMouseLeave}\n          bodyStyle={{ borderBottom: '1px dotted lightgrey', padding: '24px 12px' }}\n        >\n          {/* <Meta\n            avatar={<Avatar src={data.logo} />}\n            title={\n              <AppTitle name={data.name} data={data} onTitleClick={settings.onTitleClick}\n                showIcons={showIcons}\n              />\n            }\n            description={<DescWrap>{data.desc}</DescWrap>}\n          /> */}\n          <div>\n            <AvatarWrap>\n              <Avatar src={data.logo} />\n            </AvatarWrap>\n            <AppTitle name={data.name} data={data} onTitleClick={settings.onTitleClick}\n              showIcons={showIcons}\n            />\n            <div>\n              <DescWrap>{data.desc}</DescWrap>\n            </div>\n          </div>\n        </MyCard>\n      </Spin>\n    </Col>\n  );\n}\n\nexport default React.memo(SubApp);\n","import React from 'react';\nimport { Row, Spin, Empty, Button } from 'antd';\nimport { AppstoreOutlined } from '@ant-design/icons';\nimport SubApp from 'components/SubApp';\nimport * as commonService from 'services/common';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport { LATEST_VISIT } from 'configs/constant/ccModule';\nimport { STORE } from 'configs/constant/page';\n\nfunction setup(c) {\n  const ctx = typeCtxM(LATEST_VISIT, {}, c);\n  ctx.effect(() => {\n    ctx.mr.initVisitList();\n  }, []);\n  return {\n    gotoStorePage: () => commonService.historyPush(STORE),\n  };\n}\n\nexport default React.memo(() => {\n  const { state, settings } = useC2Mod(LATEST_VISIT, { setup });\n  return (\n    <Spin spinning={state.loading}>\n      {state.subApps.length === 0 && !state.loading\n        ? <Empty\n          image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\n          imageStyle={{\n            height: 80,\n          }}\n          description={<span> 暂无最近访问，去应用市场逛逛吧 </span>}\n        >\n          <Button type=\"primary\" icon={<AppstoreOutlined />} onClick={settings.gotoStorePage}>探索更多有趣应用</Button>\n        </Empty> : ''\n      }\n      <Row gutter={[16, 16]}>\n        {state.subApps.map(v => <SubApp key={v.name} delVisit={true} appData={v} module={LATEST_VISIT} />)}\n      </Row>\n    </Spin>\n  );\n});\n","import React from 'react';\nimport { Row, Spin, Empty, Button } from 'antd';\nimport { AppstoreOutlined } from '@ant-design/icons';\nimport SubApp from 'components/SubApp';\nimport * as commonService from 'services/common';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport { STAR_LIST } from 'configs/constant/ccModule';\nimport { STORE } from 'configs/constant/page';\n\nfunction setup(c) {\n  const ctx = typeCtxM(STAR_LIST, {}, c);\n  ctx.effect(() => {\n    ctx.mr.initStarList();\n  }, []);\n  return {\n    gotoStorePage: () => commonService.historyPush(STORE),\n  };\n}\n\nexport default React.memo(() => {\n  const { state, settings } = useC2Mod(STAR_LIST, { setup, ccClassKey: 'StarList' });\n  return (\n    <Spin spinning={state.loading}>\n      {state.subApps.length === 0 && !state.loading\n        ? <Empty\n          image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\n          imageStyle={{\n            height: 80,\n          }}\n          description={<span> 暂无我的收藏，去应用市场逛逛吧 </span>}\n        >\n          <Button type=\"primary\" icon={<AppstoreOutlined />} onClick={settings.gotoStorePage}>探索更多有趣应用</Button>\n        </Empty> : ''\n      }\n      <Row gutter={[16, 16]}>\n        {state.subApps.map(v => <SubApp key={v.name} appData={v} module=\"starList\" />)}\n      </Row>\n    </Spin>\n  );\n});\n","import React from 'react';\nimport { Row, Spin, Empty, Button } from 'antd';\nimport { AppstoreOutlined } from '@ant-design/icons';\nimport SubApp from 'components/SubApp';\nimport * as commonService from 'services/common';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport { CREATED_LIST } from 'configs/constant/ccModule';\nimport { NEW_APP } from 'configs/constant/page';\n\nfunction setup(c) {\n  const ctx = typeCtxM(CREATED_LIST, {}, c);\n  ctx.effect(() => {\n    ctx.mr.initCreatedList(true);\n  }, []);\n  return {\n    gotoNewAppPage: () => commonService.historyPush(NEW_APP),\n  };\n}\n\nexport default React.memo(() => {\n  const { state, settings } = useC2Mod(CREATED_LIST, { setup, ccClassKey: 'CreatedList' });\n  return (\n    <Spin spinning={state.loading}>\n      {state.subApps.length === 0 && !state.loading\n        ? <Empty\n          image=\"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\"\n          imageStyle={{\n            height: 80,\n          }}\n          description={<span> 暂无我的创建，去新建一个应用吧 </span>}\n        >\n          <Button type=\"primary\" icon={<AppstoreOutlined />} onClick={settings.gotoNewAppPage}>创建我的第一个应用</Button>\n        </Empty> : ''\n      }\n      <Row gutter={[16, 16]}>\n        {state.subApps.map(v => <SubApp key={v.name} appData={v} module={CREATED_LIST} />)}\n      </Row>\n    </Spin>\n  );\n});\n","/**\n * rtx 名字服务\n */\n\nimport debounce from 'lodash/debounce';\nimport { delay } from 'utils/common';\nimport { signMD5 } from 'utils/sign';\nimport { SEC_STR } from 'configs/constant';\nimport http from './http';\n\n/**\n * @returns {{en:string, full:string}[]}\n */\nfunction getStaffList() {\n  // @ts-ignore\n  // eslint-disable-next-line\n  return window.top._arrusers || [];\n}\n\nlet isInitCalled = false;\nlet isDataReady = false;\n\nexport function getIsDataReady() {\n  return isDataReady;\n}\n\n/**\n * 需要用员工数据的组件，需要在didMount时先调用此方法\n * 该方法会自己会保证只真正的调用一次\n */\nexport async function initData() {\n  if (isInitCalled) {\n    while (!isDataReady) {\n      await delay(1000);\n    }\n    return true;\n  }\n  isInitCalled = true;\n  const getUsers = async (start, size) => http.get(`/api/user/getAllUsers?start=${start}&size=${size}`);\n\n  try {\n    let users = [];\n    const [users1, users2, users3, users4] = await Promise.all([\n      getUsers(0, 50000),\n      getUsers(50000, 50000),\n      getUsers(100000, 50000),\n      getUsers(150000, 50000),\n    ]);\n    users = users.concat(users1).concat(users2).concat(users3).concat(users4);\n    window.top._arrusers = users;\n    isDataReady = true;\n    return true;\n  } catch (err) {\n    console.error(err);\n    return false;\n  }\n}\n\n/**\n * 查询用户\n * @param {string} toMatchStr\n */\nexport function searchUsers(toMatchStr = '') {\n  const staffList = getStaffList();\n  if (toMatchStr.length < 1) return staffList.slice(0, 20);\n  const matchedList = staffList.filter((item) => {\n    const { full = '' } = item;\n    return full.includes(toMatchStr);\n  }).slice(0, 20);\n  return matchedList;\n}\n\n/**\n * @type {(toMatchStr:string)=>string[]}\n * 防抖动的用户查询操作\n */\nexport const delaySearchUsers = debounce(searchUsers, 300);\n\nexport async function syncStaff(staffStr, syncType) {\n  const timestamp = Date.now();\n  const nonce = signMD5(`${SEC_STR}_${timestamp}`);\n  const res = await http.post(\n    `/api/helper/syncStaff?timestamp=${timestamp}&nonce=${nonce}`,\n    { staffStr, syncType },\n  );\n  return res;\n}\n","/* eslint-disable react/prop-types */\nimport * as React from 'react';\nimport { Select } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport * as staffSrv from 'services/staff';\nimport * as helUtil from 'utils/hel';\n\nfunction setup(c) {\n  const ctx = typeCtxM('portal', {}, c);\n  const ins = ctx.initState({\n    matchedUserList: staffSrv.searchUsers(),\n  });\n  const cu = ins.computed({\n    matchedUserOptions({ matchedUserList }) {\n      if (!staffSrv.getIsDataReady()) {\n        return [{ label: <div style={{ width: '100%', textAlign: 'center' }}><LoadingOutlined /></div> }];\n      }\n      return matchedUserList.map(item => ({ label: item.full, value: item.en }));\n    },\n  });\n  ctx.effect(() => {\n    settings.initStaffState();\n  }, []);\n\n  const settings = {\n    searchMonitor(toMatch) {\n      const matchedUserList = staffSrv.searchUsers(toMatch);\n      ins.setState({ matchedUserList });\n    },\n    async initStaffState() {\n      if (!staffSrv.getIsDataReady()) {\n        await staffSrv.initData();\n      }\n      // 自动同步当前登录者，运行用户二次修改\n      const { userInfo } = ctx.state;\n      // 匹配当前登录者搜10个\n      const matchedUserList = staffSrv.searchUsers((userInfo.user || '').substr(0, 2));\n      ins.setState({ matchedUserList });\n    },\n    state: ins.state,\n    cu,\n  };\n  return settings;\n}\n\nfunction RtxNameDropDownSelect(props) {\n  const { mode = 'multiple', disabled = false, style = {}, allowClear = true, placeholder = \"\" } = props;\n  const { settings: { cu, searchMonitor } } = useC2Mod('portal', { setup });\n  const targetMode = mode === 'single' ? undefined : mode; // undefined 代表单选\n\n  return <Select\n    style={style}\n    options={cu.matchedUserOptions} onSearch={searchMonitor} mode={targetMode} placeholder={placeholder}\n    onChange={props.onChange} value={props.value} allowClear={allowClear}\n    disabled={disabled} showSearch getPopupContainer={helUtil.getAppBodyContainer}\n    filterOption={(input, option) => {\n      if (!option.label.toLowerCase) return false;\n      return option.label.toLowerCase().includes(input.toLowerCase());\n    }}\n  />;\n}\n\nexport default React.memo(RtxNameDropDownSelect);\n","\nexport const cache = {\n  classInfoList: [\n    // { class_key: '11', class_label: 'xxx', create_by: 'xxx' }\n  ],\n};\n\nexport function filterOption(input, option) {\n  const { originalLabel, classKey } = option;\n  if (!originalLabel.toLowerCase) return false;\n  if (!classKey.toLowerCase) return false;\n  const inputStr = input.toLowerCase();\n  return originalLabel.toLowerCase().includes(inputStr)\n    || classKey.toLowerCase().includes(inputStr);\n}\n\nexport function getList(user) {\n  return {\n    myClassItems: cache.classInfoList.filter(v => v.create_by === user),\n    visibleClassItems: cache.classInfoList.slice(0, 100),\n    allClassItems: cache.classInfoList,\n  };\n}\n","import { Input, Modal } from 'antd';\nimport React from 'react';\nimport { VerticalBlank } from 'components/dumb/Blank';\n\nexport function ClassItemUpdateLayer(props) {\n  const { settings } = props;\n  const { ins: { state, syncer } } = settings;\n\n  return (\n    <Modal visible={state.modalVisible}\n      onOk={settings.modify}\n      onCancel={settings.closeModal}\n      title=\"修改分类名称\"\n      okText=\"确认\"\n      cancelText=\"取消\"\n      confirmLoading={state.updateBtnLoading}\n    >\n      key：<Input value={state.selectedClassInfo.class_key} disabled={true} />\n      <VerticalBlank height=\"12px\" />\n      名称：<Input value={state.editName} onChange={syncer.editName} />\n    </Modal>\n  );\n}\n","import React from 'react';\nimport { CopyOutlined } from '@ant-design/icons';\nimport { Spin, Modal, message } from 'antd';\nimport copy from 'copy-to-clipboard';\nimport { VerticalBlank } from 'components/dumb/Blank';\nimport { ste } from 'utils/common';\n\nconst stCopy = { color: 'var(--lra-theme-color)', paddingLeft: '3px' };\n\nexport function ClassTokenPreviewLayer(props) {\n  const { settings } = props;\n  const { ins: { state } } = settings;\n  const { selectedClassInfo: info, classToken, classTokenLoading } = state;\n\n  const copyToken = (e) => {\n    ste(e);\n    message.success(`复制分类token成功!`, 1);\n    copy(classToken);\n  };\n\n  return (\n    <Modal visible={state.classTokenModalVisible}\n      footer={[]}\n      onCancel={settings.closeClassTokenModal}\n      title=\"查看分类token\"\n    >\n      <Spin spinning={classTokenLoading}>\n        key：{info.class_key}\n        <VerticalBlank height=\"12px\" />\n        名称：{info.class_label}\n        <VerticalBlank height=\"12px\" />\n        token：{classToken} <CopyOutlined style={stCopy} onClick={copyToken} />\n      </Spin>\n    </Modal>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport { EditOutlined, EyeOutlined } from '@ant-design/icons';\nimport { Input, Divider, Select, Space, Button, Tooltip, Tag, message, Empty } from 'antd';\nimport React from 'react';\nimport { NormalBlank, VerticalBlank } from 'components/dumb/Blank';\nimport * as page from 'configs/constant/page';\nimport { useSetup, typeCtxDe, getRootState } from 'services/concent';\nimport { getClassInfoList, getFullClassInfoById, newClassInfo, updateClassInfo } from 'services/classInfo';\nimport * as commonService from 'services/common';\nimport { ste } from 'utils/common';\nimport { formatISODateStr } from 'utils/date';\nimport regs from 'utils/regs';\nimport { filterOption, getList, cache } from './util';\nimport { ClassItemUpdateLayer } from './ClassItemUpdateLayer';\nimport { ClassTokenPreviewLayer } from './ClassTokenPreviewLayer';\n\nconst stTitle = {\n  color: 'black',\n  display: 'inline-block',\n  width: '80px',\n};\nconst stNewClassInfoWrap = {\n  padding: '12px',\n  margin: '12px',\n  border: '1px solid var(--lra-theme-color)',\n};\nconst stFont = { color: 'var(--lra-theme-color)' };\n\nfunction setup(c) {\n  const user = getRootState().portal.userInfo.user;\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    newKey: '',\n    newName: '',\n    editName: '',\n    modalVisible: false,\n    classTokenModalVisible: false,\n    selectedClassInfo: {},\n    newBtnLoading: false,\n    updateBtnLoading: false,\n    showNewClassInfo: false,\n    classTokenLoading: false,\n    classToken: '',\n    ...getList(user),\n  });\n  ctx.effect(() => {\n    if (!cache.classInfoList.length) {\n      getClassInfoList().then(list => {\n        cache.classInfoList = list;\n        ins.setState(getList(user));\n      });\n    }\n  }, []);\n\n  const settings = {\n    user,\n    ins,\n    formatMsg(msg, replaceMsg) {\n      if (msg.includes('Validation error')) {\n        return replaceMsg;\n      }\n      return msg;\n    },\n    cancelNewClassInfo() {\n      ins.setState({ showNewClassInfo: false });\n    },\n    showNewClassInfo(e) {\n      e.preventDefault();\n      return ins.setState({ showNewClassInfo: true });\n    },\n    gotoClassMgr() {\n      commonService.historyPush(page.CLASS_MGR);\n    },\n    async newClassInfo(e) {\n      e.preventDefault();\n      const { newName, newKey } = ins.state;\n      if (!newName || !newKey) {\n        return message.error('新建失败，请输入分类key、名称');\n      }\n      if (newName.length > 30 || newKey.length > 30) {\n        return message.error('新建失败，分类key或名称长度大于30');\n      }\n      if (!regs.letterOrNum.test(newKey)) {\n        return message.error('新建失败，分类key只能是英文、数字、下划线、横向的任意组合');\n      }\n\n      ins.setState({ newBtnLoading: true });\n      const reply = await newClassInfo(newKey, newName);\n      let isCreatedSuccess = false;\n\n      if (reply.code !== '0') {\n        message.error(settings.formatMsg(reply.msg, '分类key或名称重复'));\n      } else {\n        isCreatedSuccess = true;\n        message.success('新增分类成功!');\n        cache.classInfoList.push(reply.data);\n      }\n\n      ins.setState({ newBtnLoading: false, showNewClassInfo: !isCreatedSuccess, ...getList(user) });\n    },\n    openModal(e, item) {\n      ste(e);\n      ins.setState({ modalVisible: true, selectedClassInfo: item, editName: item.class_label });\n    },\n    async openClassTokenModal(e, item) {\n      ste(e);\n      ins.setState({ classTokenModalVisible: true, selectedClassInfo: item, classToken: '', classTokenLoading: true });\n      try {\n        const fullData = await getFullClassInfoById(item.id);\n        ins.setState({ classToken: fullData.class_token, classTokenLoading: false, });\n      } catch (err) {\n        message.error(err.message);\n        ins.setState({ classTokenLoading: false, });\n      }\n    },\n    closeModal() {\n      ins.setState({ modalVisible: false });\n    },\n    closeClassTokenModal() {\n      ins.setState({ classTokenModalVisible: false, classToken: '' });\n    },\n    async modify() {\n      const { editName, selectedClassInfo, allClassItems } = ins.state;\n      const matchedItems = allClassItems.filter(item => item.class_label === editName);\n      if (matchedItems.length) {\n        return message.error('修改无效，名字重复！'); // 这里后台也做了检查\n      }\n      ins.setState({ updateBtnLoading: true });\n      const reply = await updateClassInfo(selectedClassInfo.class_key, editName);\n      if (reply.code !== '0') {\n        message.error(settings.formatMsg(reply.msg, '分类名称重复'));\n      } else {\n        message.success('更新分类名称成功');\n        selectedClassInfo.class_label = editName;\n      }\n      ins.setState({ updateBtnLoading: false, modalVisible: false, ...getList(user) });\n    },\n  };\n  return settings;\n}\n\nfunction ClassIdCreatorUI(props) {\n  const { settings } = props;\n  const { ins } = settings;\n  const { newBtnLoading } = ins.state;\n\n  return (\n    <div style={stNewClassInfoWrap}>\n      <span style={stTitle}>分类key：</span>\n      <Input\n        style={{ width: '360px' }}\n        placeholder=\"hel-demo\"\n        value={settings.ins.state.newKey}\n        onChange={ins.syncer.newKey}\n        allowClear\n      />\n      <VerticalBlank height=\"3px\" />\n      <Tag color=\"blue\" style={{ marginLeft: '80px' }}>\n        允许0~9数字、a~z大小写字母、下划线、中横线任意组合，建议录入一个有意义的key，\n        <span style={{ color: 'red' }}>后续不允许变更，每人创建上限5个</span>\n      </Tag>\n      <VerticalBlank height=\"12px\" />\n      <span style={stTitle}> 分类名称：</span>\n      <Input\n        style={{ width: '360px' }}\n        placeholder=\"海拉分享案例\"\n        value={settings.ins.state.newName}\n        onChange={ins.syncer.newName}\n        allowClear\n      />\n      <VerticalBlank height=\"3px\" />\n      <Tag color=\"blue\" style={{ marginLeft: '80px' }}>\n        用于展示的名称，后续可以二次更改\n      </Tag>\n      <VerticalBlank height=\"12px\" />\n      <div style={{ textAlign: 'center' }}>\n        <Button onClick={settings.cancelNewClassInfo}>取消</Button>\n        <NormalBlank width=\"20px\" />\n        <Button type=\"primary\" onClick={settings.newClassInfo} loading={newBtnLoading}>确认</Button>\n      </div>\n    </div>\n  );\n}\n\nfunction ClassItem(props) {\n  const { item, settings, showTokenBtn } = props;\n  return (\n    <div>\n      {item.class_label}\n      <span style={{ color: 'lightgrey', paddingLeft: '12px' }}>\n        ( {item.class_key} , {item.create_by} 创建于 {formatISODateStr(item.ctime)}\n        {settings.user === item.create_by && <>\n          <NormalBlank />\n          <Tooltip title=\"当前分类由访问者创建，允许再次修改\">\n            <EditOutlined style={stFont} onClick={(e) => settings.openModal(e, item)} />\n          </Tooltip>\n          <NormalBlank width=\"6px\" />\n          {showTokenBtn && (\n            <Tooltip title=\"查看分类token，满足helpack-js-sdk、hel-mono-deploy 等包体调用api时之需\">\n              <EyeOutlined style={stFont} onClick={(e) => settings.openClassTokenModal(e, item)} />\n            </Tooltip>\n          )}\n        </>} )\n      </span>\n    </div>\n  );\n}\n\nfunction renderOptions(settings, allowEdit) {\n  const { state } = settings.ins;\n  return state.visibleClassItems.map((item) => {\n    const { class_label: label, class_key: key } = item;\n    return {\n      originalLabel: label,\n      classKey: key,\n      label: allowEdit ? <ClassItem settings={settings} key={key} item={item} /> : label,\n      value: key,\n    };\n  });\n}\n\n/**\n * 我的分类管理\n */\nexport function MyClassIdMgr() {\n  const settings = useSetup(setup, { extra: { isPage: true } });\n  const { myClassItems, showNewClassInfo } = settings.ins.state;\n  return (\n    <div>\n      <ClassItemUpdateLayer settings={settings} />\n      <ClassTokenPreviewLayer settings={settings} />\n      <div>\n        我的分类列表（ 没有合适的？\n        <span className=\"gHover\" onClick={settings.showNewClassInfo} style={{ color: 'var(--lra-theme-color)' }}>新建</span>一个）\n      </div>\n      {showNewClassInfo && (\n        <ClassIdCreatorUI settings={settings} />\n      )}\n      {!myClassItems.length\n        ? <Empty />\n        : (\n          <div style={{ border: '1px solid var(--lra-theme-color)', padding: '12px' }}>\n            {myClassItems.map(item => <ClassItem key={item.class_key} settings={settings} item={item} showTokenBtn />)}\n          </div>\n        )}\n    </div>\n  );\n}\n\nconst ClassIdDropdownSelect = (props) => {\n  const { disabled = false, allowEdit = true, style = {} } = props;\n  const settings = useSetup(setup);\n  const { ins } = settings;\n  return (\n    <>\n      <ClassItemUpdateLayer settings={settings} />\n      <Select\n        showSearch\n        allowClear\n        style={style}\n        disabled={disabled}\n        placeholder=\"选择分类\"\n        onChange={props.onChange}\n        value={props.value || undefined}\n        dropdownRender={(menu) => (\n          allowEdit ? <>\n            {menu}\n            <Divider\n              style={{\n                margin: '8px 0',\n              }}\n            />\n            <Space style={{ padding: '0 8px 4px' }}  >\n              找不到合适的分类？\n              <span className=\"gHover\" onClick={settings.showNewClassInfo} style={stFont}>新建</span>一个\n              ，去<span className=\"gHover\" onClick={settings.gotoClassMgr} style={stFont}>我的分类</span>\n              查看\n            </Space>\n            {ins.state.showNewClassInfo && <ClassIdCreatorUI settings={settings} />}\n          </> : <>\n            {menu}\n            <Divider style={{ margin: '8px 0' }} />\n            <span style={{ paddingLeft: '8px', color: 'lightgrey' }}>可在新建或修改应用时新增分类</span>\n          </>\n        )}\n        optionLabelProp=\"originalLabel\"\n        options={renderOptions(settings, allowEdit)}\n        filterOption={filterOption}\n      />\n    </>\n  );\n};\nexport default ClassIdDropdownSelect;\n","import React from 'react';\nimport { Alert, Row, Spin, Col, Radio, Divider, Input, Pagination, Empty, Dropdown, Menu, Modal, Button, Select, message } from 'antd';\nimport { ReloadOutlined, FileSearchOutlined } from '@ant-design/icons';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport { APP_STORE } from 'configs/constant/ccModule';\nimport { APP_CARD_GRAY, lsKeys } from 'configs/constant';\nimport SubApp from 'components/SubApp';\nimport { VerticalBlank, NormalBlank } from 'components/dumb/Blank';\nimport RtxNameDropdownSelect from 'components/RtxNameDropdownSelect';\nimport ClassIdDropdownSelect from 'components/ClassIdDropdownSelect';\nimport { delay } from 'utils/common';\nimport { safeParse } from 'utils/object';\nimport { removeIfExist } from 'utils/array';\n\nconst LS_LATEST_SEARCH = 'HelHub.latestSearch';\n\nconst stTestBadge = { position: 'absolute', right: '3px', top: '-5px', width: '60px', zIndex: 2 };\nconst stLatestSearchBtn = { width: '46px', transform: 'translateX(-1px)', verticalAlign: 'top' };\nconst testBadgeUrl = 'http://mat1.gtimg.com/news/js/tnfe/imgs/leah4/test_app.png';\nconst options = [\n  { label: '正式', value: 'prod' },\n  { label: '测试', value: 'test' },\n  { label: '全部', value: 'all' },\n];\n\nfunction setup(c) {\n  const ctx = typeCtxM(APP_STORE, {}, c);\n  const ins = ctx.initState({\n    modelVisible: false,\n  });\n\n  ctx.effect(() => {\n    ctx.mr.initPage(true);\n    if (!localStorage.getItem(lsKeys.APP_CARD_GRAY)) {\n      localStorage.setItem(lsKeys.APP_CARD_GRAY, 1);\n      ins.setState({ modelVisible: true });\n    }\n  }, []);\n  ctx.watch('listMode', (newState, oldState) => {\n    if (newState.listMode !== oldState.listMode) {\n      ctx.mr.fetchDataList({ page: 1 });\n    }\n  });\n\n  const getLatestSearch = () => {\n    const arr = safeParse(localStorage.getItem(LS_LATEST_SEARCH), []);\n    return arr.filter(item => !!item);\n  };\n  const setLatestSearch = (appName) => {\n    let arr = getLatestSearch();\n    arr = removeIfExist(arr, appName);\n    arr.unshift(appName);\n    localStorage.setItem(LS_LATEST_SEARCH, JSON.stringify(arr));\n  };\n\n  const settings = {\n    ins,\n    fetchMore: () => {\n      const payload = { page: ctx.state.page + 1 };\n      ctx.mr.fetchDataList(payload);\n    },\n    handelPageSizeChange: (page, size) => {\n      ctx.mr.fetchDataList({ page, size });\n    },\n    handlePageCurrentChange: async (page) => {\n      ctx.mr.fetchDataList({ page });\n    },\n    handleNameClick(e) {\n      const { key: appName } = e;\n      ctx.mr.setState({ searchStr: appName });\n      ctx.mr.searchApp();\n    },\n    async searchApp() {\n      // 触发 Input 清除动作时，onSearch 会于 onChange 先执行，故这里延迟一下，确保取到的 searchStr 是变化后的值\n      await delay(12);\n      ctx.mr.searchApp().then(() => {\n        const { subApps, searchStr, total, listMode } = ctx.state;\n        if (subApps.length) { // 搜索到具体的应用时才记录\n          setLatestSearch(searchStr);\n        }\n        if (listMode !== 'all') {\n          message.info(`helpack 为你共搜到 ${total} 个应用，如没有查询结果可尝试切换到【全部】应用`, 1);\n        }\n      });\n    },\n    searchAppByClassKey(classKey) {\n      ctx.mr.setState({ classKey: classKey === undefined ? '-10000' : classKey });\n      ctx.mr.searchApp();\n    },\n    renderLatestSearchMenu() {\n      const arr = getLatestSearch();\n      return (\n        <Menu className=\"smallScBar\" onClick={settings.handleNameClick}\n          style={{ maxHeight: '380px', overflowY: 'scroll', width: '280px' }}\n        >\n          {!arr.length && <Empty description=\"暂无最近搜索\" />}\n          {arr.map((name) => (\n            <Menu.Item key={name}>\n              {name}\n            </Menu.Item>\n          ))}\n        </Menu>\n      );\n    },\n    showTotal() {\n      return <span style={{ color: 'rgba(0, 0, 0, 0.45)' }}>Hel Pack 为你共搜索到应用 {ctx.state.total} 个</span>;\n    },\n    searchOptions: [\n      { label: '应用名（模糊）', value: 'name' },\n      { label: '应用名（精确）', value: 'name_exact' },\n      { label: '创建者', value: 'creator' },\n    ],\n  };\n\n  return settings;\n}\n\n\nexport default React.memo(() => {\n  const { state, settings, syncer, mr } = useC2Mod(APP_STORE, { setup, ccClassKey: 'AppStore' });\n  const { ins } = settings;\n  const uiSearchType = <Select value={state.searchType} dropdownStyle={{ minWidth: '140px' }}\n    options={settings.searchOptions} onChange={syncer.searchType}\n  />;\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {state.listMode === 'test' && <img src={testBadgeUrl} style={stTestBadge} />}\n      <Row>\n        <Col span={24}>\n          查看应用:<NormalBlank />\n          <Radio.Group options={options} onChange={syncer.listMode} value={state.listMode} />\n          <Divider type=\"vertical\" />\n          <NormalBlank width=\"20px\" />\n          <span style={{ position: 'relative' }}>\n            <Input.Search value={state.searchStr} onChange={syncer.searchStr} onSearch={settings.searchApp}\n              style={{ width: '380px' }} enterButton allowClear addonBefore={uiSearchType} placeholder=\"请输入应用名\"\n            />\n            {state.searchType === 'creator'\n              && <RtxNameDropdownSelect mode=\"single\" placeholder=\"请选择创建者\" value={state.searchUser}\n                style={{ width: '249px', position: 'absolute', left: '84px' }} onChange={(e) => {\n                  mr.setState({ searchUser: e || '' });\n                }}\n              />\n            }\n            {['name', 'name_exact'].includes(state.searchType)\n              && <Dropdown overlay={settings.renderLatestSearchMenu}>\n                <Button style={stLatestSearchBtn} className=\"gHover\" icon={<FileSearchOutlined />}></Button>\n              </Dropdown>\n            }\n          </span>\n          <NormalBlank />\n          <ClassIdDropdownSelect allowEdit={false} style={{ width: '220px', verticalAlign: 'top' }}\n            onChange={settings.searchAppByClassKey}\n          />\n          <NormalBlank />\n          <Button onClick={mr.refreshCurPage} className=\"gHover\" style={{ verticalAlign: 'top' }} icon={<ReloadOutlined />}>\n            刷新\n          </Button>\n        </Col>\n      </Row>\n      <VerticalBlank />\n      <Spin spinning={state.loading}>\n        <Row justify=\"center\">\n          {state.subApps.length === 0 && <Empty />}\n        </Row>\n        <Row gutter={[16, 16]}>\n          {state.subApps.map(v => <SubApp key={v.name} appData={v} module={APP_STORE} />)}\n          {/* <Button type=\"primary\" loading={state.btnLoading} block style={stBtn} onClick={settings.fetchMore}>\n            加载更多\n        </Button> */}\n          <div style={{ width: '100%' }}>\n            <Pagination onShowSizeChange={settings.handelPageSizeChange} onChange={settings.handlePageCurrentChange}\n              current={state.page} total={state.total} showSizeChanger pageSizeOptions={['20', '50', '100']}\n              pageSize={state.size} style={{ paddingRight: '20px', float: 'right' }}\n              showTotal={settings.showTotal}\n            />\n          </div>\n        </Row>\n      </Spin>\n      <Modal\n        title=\"helpack 更新提示\"\n        visible={ins.state.modelVisible}\n        width={1000}\n        centered\n        onCancel={() => ins.setState({ modelVisible: false })}\n        footer={[<Button key=\"1\" type=\"primary\" onClick={() => ins.setState({ modelVisible: false })}>Ok</Button>]}\n      >\n        <div>\n          <Alert showIcon type=\"info\" message=\"应用列表卡片颜色优化，如下图所示，全灰代表应用正在灰度中\" />\n          <VerticalBlank />\n          <img src={APP_CARD_GRAY} />\n        </div>\n      </Modal>\n    </div>\n  );\n});\n","/** @typedef {import('types/store').CtxM<{}, 'top'>} CtxPre */\n/** @typedef {import('types/domain').SubApp} ISubApp */\nimport React from 'react';\nimport { Row, Spin } from 'antd';\nimport { useConcent } from 'concent';\nimport SubApp from 'components/SubApp';\n\nfunction setup(/** @type CtxPre */ ctx) {\n  ctx.effect(() => {\n    ctx.mr.initTop();\n  }, []);\n}\n\n/** @typedef {import('types/store').CtxM<{}, 'top'} Ctx */\n\nexport default React.memo(() => {\n  /** @type Ctx */\n  const { state } = useConcent({ module: 'top', setup }, 'Top');\n\n  return (\n    <Spin spinning={state.loading}>\n      <Row gutter={[16, 16]}>\n        {state.subApps.map(v => <SubApp  key={v.name} appData={v} module=\"top\" />)}\n      </Row>\n    </Spin>\n  );\n});\n","/* eslint-disable react/prop-types,react/display-name */\nimport React from 'react';\n\nexport default function Blank({ width = '20px' }) {\n  return <div style={{ width, display: 'inline-block' }}></div>;\n}\n","/* eslint-disable react/prop-types,no-underscore-dangle */\nimport React from 'react';\nimport { Input, InputNumber, Radio, Select, Form, Switch } from 'antd';\nimport * as helUtil from 'utils/hel';\n\nconst { Option } = Select;\n\nlet fieldKey = 1;\n// getUsableFieldKey\nfunction fKey() {\n  fieldKey += 1;\n  return fieldKey;\n}\n\nfunction ensureOptions(options) {\n  let _options = options;\n  if (typeof options[0] === 'string') {\n    _options = options.map(v => ({ value: v, label: v }));\n  }\n  return _options;\n}\n\nfunction makeOneFieldMultiInputView(items, fieldName) {\n  const view = items.map((item, idx) => {\n    const { type, name: itemName, style = {}, placeHolder, ...rest } = item;\n    let itemView = '';\n    const rules = item.rules || [];\n\n    if (type === 'select') {\n      const options = ensureOptions(item.options);\n      itemView = (\n        <Select placeholder={item.placeHolder} getPopupContainer={helUtil.getAppBodyContainer}>\n          {options.map((d, idx) => <Option key={idx} value={d.value}>{d.label}</Option>)}\n        </Select>\n      );\n    } else if (type === 'input') {\n      itemView = (\n        <Input style={style} {...rest} placeholder={placeHolder} />\n      );\n    } else if (type === 'inputNumber') {\n      itemView = <InputNumber {...rest} />;\n    } else if (type === 'customize') {\n      itemView = item.render(itemName, fieldName);\n    } else {\n      throw new Error(`not implemented type[${type}]`);\n    }\n\n    const namePath = fieldName ? [fieldName, itemName] : itemName;\n    return (\n      <Form.Item key={idx}\n        name={namePath}\n        noStyle\n        rules={rules}\n      >\n        {itemView}\n      </Form.Item>\n    );\n  });\n\n  return view;\n}\n\nexport function makeGroupButtonView({ name, label, initValue = '', options = [], render, ...rest }) {\n  const _options = ensureOptions(options);\n  const _initValue = initValue || _options[0];\n\n  let view;\n  if (render) {\n    view = render({ initValue: _initValue, options: _options });\n  } else {\n    view = (\n      <Radio.Group value={_initValue} {...rest}>\n        {_options.map((v, idx) => (\n          <Radio.Button key={idx} value={v.value}>{v.label}</Radio.Button>\n        ))}\n      </Radio.Group>\n    );\n  }\n\n  return (\n    <Form.Item key={fKey()} label={label} name={name} style={{ marginBottom: '10px' }}>\n      {view}\n    </Form.Item>\n  );\n}\n\nexport function makeRadioGroupView({ name, label, initValue = '', options = [], render, rules = [], ...rest }) {\n  const _options = ensureOptions(options);\n  const _initValue = initValue || _options[0];\n\n  let view;\n  if (render) {\n    view = render({ initValue: _initValue, options: _options });\n  } else {\n    view = <Radio.Group options={options} value={_initValue} {...rest} />;\n  }\n\n  return (\n    <Form.Item key={fKey()} label={label} name={name} rules={rules} style={{ marginBottom: '10px' }}>\n      {view}\n    </Form.Item>\n  );\n}\n\nexport function makeInputView({ name, label, placeholder = '', initValue = '', rules = [], ...rest }) {\n  return (\n    <Form.Item key={fKey()} label={label} name={name} rules={rules} style={{ marginBottom: '10px' }}>\n      <Input placeholder={placeholder} value={initValue} {...rest} />\n    </Form.Item>\n  );\n}\n\nexport function makeSelectView({ name, label, options = [], placeholder = '', initValue = '', rules = [], ...rest }) {\n  return (\n    <Form.Item key={fKey()} label={label} name={name} rules={rules} style={{ marginBottom: '10px' }}>\n      <Select placeholder={placeholder} value={initValue} {...rest}  getPopupContainer={helUtil.getAppBodyContainer}>\n        {options.map((d, idx) => <Option key={idx} value={d.value}>{d.label}</Option>)}\n      </Select>\n    </Form.Item>\n  );\n}\n\n/**\n * 字段对应的值是一个对象，即该对象里多个key对应着同一个表单字段\n * 需要多个输入区域来作为这个对象的数据输入源\n * @see https://ant.design/components/form-cn/?#components-form-demo-complex-form-control\n * @param {object} option - InputGroupView可选配置\n * @param {Array} [option.items] - 形如: items = [\n *  {\n *    type: 'select', name: 'province', placeHolder:'select province', rules:[],\n *    options: [{label:'axx', value:'a'}, {label:'bxx', value:'b'}], // or ['a', 'b']\n *    style: {...},\n *  },\n *  {\n *    type: 'input', name: 'street', placeHolder:'input street', rules:[],\n *    style: {...},\n *  },\n *  {\n *     type: 'inputNumber', name: 'age'\n *  },\n *  {\n *     type: 'customize', name: 'age', render: (name, itemName)=> ReactElement,\n *  },\n * ]\n * @return {React.FC}\n */\nexport function makeInputGroupView({ name, label, items = [] }) {\n  const formItemsView = makeOneFieldMultiInputView(items, name);\n\n  return (\n    <Form.Item key={fKey()} label={label} style={{ marginBottom: '10px' }}>\n      <Input.Group compact>\n        {formItemsView}\n      </Input.Group>\n    </Form.Item>\n  );\n}\n\n/**\n * 一个字段视图里有多个输入域，每一个输入域单独对应着一个表单字段\n */\nexport function makeInputMultiView({ label, items = [] }) {\n  const formItemsView = makeOneFieldMultiInputView(items);\n  return (\n    <Form.Item key={fKey()} label={label} style={{ marginBottom: '10px' }}>\n      {formItemsView}\n    </Form.Item>\n  );\n}\n\nexport function makeInputNumberView({ name, label, ...rest }) {\n  return (\n    <Form.Item key={fKey()} name={name} label={label} style={{ marginBottom: '10px' }}>\n      <InputNumber {...rest} />\n    </Form.Item>\n  );\n}\n\nexport function makeSwitchView({ name, label, ...rest }) {\n  return (\n    <Form.Item key={fKey()} name={name} label={label} style={{ marginBottom: '10px' }}>\n      <Switch {...rest} />\n    </Form.Item>\n  );\n}\n\nexport function makeCustomizeView({ render, ...rest }) {\n  const { name, label } = rest;\n  const view = render ? render(rest) : <h>need render</h>;\n\n  return (\n    <Form.Item key={fKey()} name={name} label={label} style={{ marginBottom: '10px' }}>\n      {view}\n    </Form.Item>\n  );\n}\n\nexport const fieldTypeMakerMap = {\n  input: makeInputView,\n  switch: makeSwitchView,\n  select: makeSelectView,\n  inputGroup: makeInputGroupView,\n  inputMulti: makeInputMultiView,\n  inputNumber: makeInputNumberView,\n  groupButton: makeGroupButtonView,\n  radioGroup: makeRadioGroupView,\n  customize: makeCustomizeView,\n};\n\nexport function getFieldTypeMaker(type) {\n  const maker = fieldTypeMakerMap[type];\n  if (!maker) throw new Error(`not implement field type[${type}]`);\n  return maker;\n}\n","/* eslint-disable react/prop-types,react/display-name */\n/** @typedef {import('./_form').FieldInputGroup} FieldInputGroup*/\n/** @typedef {import('./_form').FieldInput} FieldInput*/\n/** @typedef {import('concent').SettingsType} SettingsType*/\n/** @typedef {import('types/store').CtxDeS } CtxDeS*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Button, Radio } from 'antd';\nimport { useConcent } from 'concent';\nimport Blank from './Blank';\nimport * as util from './_util';\n\nconst { Item: FormItem } = Form;\nconst { Group: RadioGroup, Button: RadioButton } = Radio;\nconst { getFieldTypeMaker } = util;\n\nconst cu = {\n  formItemLayout: n => (n.formLayout === 'horizontal'\n    ? { labelCol: { span: 4 }, wrapperCol: { span: 14 } }\n    : null),\n  buttonItemLayout: n => (n.formLayout === 'horizontal'\n    ? { wrapperCol: { span: 14, offset: 4 } }\n    : null),\n};\n\nconst setup = (\n  /** @type {import('types/store').CtxDeS<{}, {}, {}, {}, [{form: import('antd/lib/form').FormInstance}]>} */ctx\n) => {\n  ctx.initState({ formLayout: ctx.props.layout || 'horizontal', loading: false });\n\n  ctx.computed(cu);\n\n  ctx.on('cancelFormBtnLoading', () => {\n    ctx.setState({ loading: false });\n  });\n\n  ctx.on('fillFormValues', (formValues) => {\n    ctx.extra.form.setFieldsValue(formValues);\n  });\n  window.top._form = ctx.extra.form;\n\n  ctx.effectProps(() => {\n    const { fillValues } = ctx.props;\n    if (fillValues) {\n      const fillValuesCopy = { ...fillValues };\n      ctx.extra.form.setFieldsValue(fillValuesCopy);\n    }\n  }, ['fillValues'], { immediate: true });\n\n\n  // 处理表单布局改变的回调\n  const onLayoutChange = (e) => {\n    ctx.setState({ formLayout: e.target.value });\n  };\n\n  let renderLayoutControl = () => '';\n  if (ctx.props.dynamicLayout) {\n    renderLayoutControl = () => (\n      // 刻意不写name，让该FormItem失去包裹它的Form的数据双向绑定关系\n      <FormItem label={ctx.props.layoutFieldLabel || 'Form Layout'} style={{ marginBottom: '10px' }}>\n        <RadioGroup value={ctx.state.formLayout} onChange={onLayoutChange}>\n          <RadioButton value=\"horizontal\">Horizontal</RadioButton>\n          <RadioButton value=\"vertical\">Vertical</RadioButton>\n          <RadioButton value=\"inline\">Inline</RadioButton>\n        </RadioGroup>\n      </FormItem>\n    );\n  }\n\n  const onValuesChange = (changed) => {\n    if (ctx.props.onValuesChange) {\n      ctx.props.onValuesChange(changed, ctx.extra.form);\n    }\n  };\n\n  const onFinish = (values) => {\n    if (ctx.props.onFinish) {\n      ctx.props.onFinish(values);\n      ctx.setState({ loading: true });\n    }\n  };\n\n  const UIFields = ctx.props.fields.map((f) => {\n    const { type, options } = f;\n    const makeFn = getFieldTypeMaker(type);\n    return makeFn(options);\n  });\n\n  // 组装重置按钮\n  const { resetBtn } = ctx.props;\n  let UIResetBtn = '';\n  if (resetBtn !== undefined) {\n    const onReset = () => ctx.extra.form.resetFields();\n    const btnLabel = typeof resetBtn !== 'string' ? 'Reset' : resetBtn;\n    UIResetBtn = (\n      <Button htmlType=\"button\" onClick={onReset}>\n        {btnLabel}\n      </Button>\n    );\n  }\n\n  // 组装填充按钮\n  let UIFillBtn = '';\n  const { fillBtn, fillValues } = ctx.props;\n  if (fillBtn !== undefined) {\n    const onFill = () => {\n      if (!fillValues) {\n        return alert('请设置欲填充的默认值');\n      }\n      ctx.extra.form.setFieldsValue(fillValues);\n    };\n    const fillBtnLabel = typeof fillBtn !== 'string' ? 'Fill form' : fillBtn;\n    UIFillBtn = (\n      <Button htmlType=\"button\" onClick={onFill}>\n        {fillBtnLabel}\n      </Button>\n    );\n  }\n\n  return {\n    renderLayoutControl,\n    UIFields,\n    UIResetBtn,\n    UIFillBtn,\n    onValuesChange,\n    onFinish,\n  };\n};\n\n/** @typedef {import('types/store').CtxDeS<{},\n * {formLayout:string},\n * import('concent').SettingsType<typeof setup>,\n * import('concent').ComputedValType<typeof cu>\n * >} Ctx */\n\n/**\n * @param {object} props\n * @param {Array<FieldInput | FieldInputGroup>} props.fields - 表单字段描述对象\n * @param {(changedValues:any, setFieldsValue:(values:Record<string, any>)=>void)=>void} [props.onValuesChange]\n * - 字段值改变时的回调\n * @param {(values:any)=>void} [props.onFinish] - 提交表单时的回调\n * @param {'horizontal'|'vertical'|'inline'} [props.layout='horizontal'] - 布局模式(水平、垂直、行内)\n * @param {boolean} [props.dynamicLayout=false] - 是否动态布局\n * @param {string} [props.layoutFieldLabel='Form Layout'] - 布局字段文案\n * @param {string} [props.submitBtnLabel='Submit'] - 提交按钮的文案\n * @param {boolean | string} [props.resetBtn=false] - 是否需要重置按钮，传递string表示重新默认文案\n * @param {boolean | string} [props.fillBtn=false] - 是否需要填充表单按钮，传递string表示重新默认文案\n * @param {boolean} [props.showSelfBtn=true] - 是否展示内置按钮，默认true\n * @param {object} [props.fillValues] - 设置需要填充的默认值\n * @param {Array<React.ReactElement>} [props.extraBtns] - 额外的按钮\n */\nconst EasyForm = (props) => {\n  const [form] = Form.useForm();\n\n  /** @type Ctx */\n  const ctx = useConcent({ setup, props, extra: { form } });\n  const {\n    state: { formLayout, loading },\n    refComputed: { formItemLayout, buttonItemLayout },\n    settings: { renderLayoutControl, UIFields, UIResetBtn, UIFillBtn, onValuesChange, onFinish },\n  } = ctx;\n  const UIExtraBtns = props.extraBtns || '';\n  const initialValues = { layout: formLayout };\n  props.fields.forEach((f) => {\n    if (Object.prototype.hasOwnProperty.call(f.options, 'value')) {\n      initialValues[f.options.name] = f.options.value;\n    }\n  });\n  const { showSelfBtn = true } = props;\n\n  return (\n    <div>\n      <Form\n        {...formItemLayout}\n        layout={formLayout}\n        form={form}\n        onFinish={onFinish}\n        initialValues={initialValues}\n        onValuesChange={onValuesChange}\n      >\n        {renderLayoutControl()}\n        {UIFields}\n        <Form.Item {...buttonItemLayout}>\n          {UIExtraBtns}\n          {showSelfBtn\n            && <div style={{ textAlign: 'center', paddingTop: '12px' }}>\n              <Button type=\"primary\" htmlType=\"submit\" loading={loading}>{props.submitBtnLabel || 'Submit'}</Button>\n              {UIResetBtn ? <><Blank />{UIResetBtn}</> : ''}\n              {UIFillBtn ? <><Blank />{UIFillBtn}</> : ''}\n            </div>\n          }\n        </Form.Item>\n      </Form>\n    </div>\n  );\n};\n\nEasyForm.propTypes = {\n  fields: PropTypes.array.isRequired,\n};\n\nexport default React.memo(EasyForm);\n","import Form from './Form';\n\nexport default Form;\n","\n\nconst locationOrigin = window.location.origin;\n\nexport const appNameTip = `如设定了【是否在平台底座下渲染】为【是】则应用访问入口会默认是 ${locationOrigin}/{appName}，注：正式应用的名字和组名会保持一致`;\nexport const appTokenTip = '用于防止他人创建蓝盾流水线时知道你的app名称就可以构建并覆盖你的应用产物，同时也用于区分多个分区的子应用';\nexport const appGroupNameTip = '表示多个app应用是同一种app下不同环境（同一个仓库不同分支不同流水线）的实例， 注：正式应用的名字和组名会保持一致';\nexport const isTestTip = '一个app组名允许存在一个正式app和多个测试app';\nexport const isLocalRender = '此参数用于控制访问按钮的跳转路径，'\n  + `选择【是】访问 ${locationOrigin}/{appName}，选择【否】访问 ${locationOrigin}/page/{appName}`\n  + `（支持自定义【应用渲染路径】值来控制选择【否】时的跳转路径）`;\nexport const appRenderHostTip = '当【是否在平台底座下渲染】为【否】且需要自定义访问路径时，填写此项';\n","\nexport const APP_NAME_RULE = { pattern: /^[a-z0-9-/@_]+$/, message: '只能是小写字母、数字、下划线、中划线、斜线、@的组合' };\n","/* eslint-disable no-unused-vars,max-len */\nimport React from 'react';\nimport { Tooltip, Tag } from 'antd';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport { appNameTip, appTokenTip, appGroupNameTip, isTestTip, isLocalRender, appRenderHostTip } from 'configs/constant/formTip';\nimport { APP_NAME_RULE } from 'configs/constant/share';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport RtxNameDropdownSelect from 'components/RtxNameDropdownSelect';\nimport ClassIdDropdownSelect from 'components/ClassIdDropdownSelect';\nimport { genNonceStr } from 'utils/str';\nimport { getAppBodyContainer } from 'utils/hel';\n\nconst strLenRule = { max: 30, type: 'string', message: '长度不能大于30' };\nconst str64LenRule = { max: 64, type: 'string', message: '长度不能大于64' };\nconst tokenNameRule = { pattern: /^[a-zA-Z0-9-_]+$/, message: '只能是英文、数字、下划线、中划线的组合' };\nconst tokenRules = [{ required: true, message: '请输入应用token' }, strLenRule, tokenNameRule];\nconst appNameRules = [str64LenRule, APP_NAME_RULE];\n\nconst nameTip = '新建正式应用时，应用组名会自动与应用名保持一致，合法的应用名形如：@xx-scope/xx-name（带scope）, xx-name（不带scope）';\nconst stTooltip = { zIndex: 9999999992 };\n\nexport const defaultValues = {\n  name: '',\n  token: '',\n  app_group_name: '',\n  cnname: '',\n  // splash_screen: IMG_TNEWS_SPLASH_SCREEN,\n  splash_screen: '',\n  desc: '',\n  git_repo_url: '',\n  api_host: '',\n  is_test: 0,\n  enable_gray: 0,\n  enable_pipeline: 1,\n  gray_users: [],\n  owners: [],\n  is_local_render: 0,\n  render_app_host: '',\n  ui_framework: 'lib',\n};\n\nexport function getNewToken() {\n  return `${location.hostname.split('.')[0]}-${genNonceStr()}-${Date.now()}`;\n}\n\nexport function getDefaultValues() {\n  const copy = { ...defaultValues };\n  copy.token = getNewToken();\n  return copy;\n}\n\nconst fieldToken = {\n  type: 'input',\n  options: {\n    name: 'token',\n    label: <span>应用token <Tooltip title={appTokenTip} color=\"blue\" getPopupContainer={getAppBodyContainer}><QuestionCircleOutlined /></Tooltip></span>,\n    disabled: true,\n    placeholder: 'input app token',\n    rules: tokenRules,\n  },\n};\nconst fieldAppGroupName = {\n  type: 'input',\n  options: {\n    name: 'app_group_name',\n    disabled: true,\n    label: <span>\n      应用所属组名称 <Tooltip title={appGroupNameTip} color=\"blue\" getTooltipContainer={getAppBodyContainer}><QuestionCircleOutlined /></Tooltip>\n      <NormalBlank /><Tag color=\"blue\">一个组名可对应多个应用名，表示应用对应的多种环境(例如不同的分支)</Tag>\n    </span>,\n    placeholder: '新建正式应用时【应用所属组名】默认和【应用名】保持一致',\n    rules: [\n      { required: true, message: '请输入应用组名称' },\n      ...appNameRules,\n    ],\n  },\n};\nconst fieldAppName = {\n  type: 'input',\n  options: {\n    name: 'name',\n    label: <span>\n      应用名称 <Tooltip title={appNameTip} color=\"blue\"><QuestionCircleOutlined getTooltipContainer={getAppBodyContainer} /></Tooltip>\n      <NormalBlank /><Tag color=\"blue\">{nameTip}</Tag>\n    </span>,\n    placeholder: 'input app name',\n    rules: [\n      { required: true, message: '请输入应用名称' },\n      ...appNameRules,\n    ],\n  },\n};\nexport const fieldAppCnName = {\n  type: 'input',\n  options: {\n    name: 'cnname',\n    label: <span>应用中文名</span>,\n    placeholder: 'input app cnname',\n  },\n};\nexport const fieldAppDesc = {\n  type: 'input',\n  options: {\n    name: 'desc',\n    label: <span>应用描述</span>,\n    placeholder: 'input app desc',\n    rules: [{ required: true, message: '请输入应用描述' }],\n  },\n};\nexport const fieldAppOwners = {\n  type: 'customize',\n  options: {\n    name: 'owners',\n    label: <span>负责人<NormalBlank />\n      <Tag color=\"blue\">除创建人外，可添加负责人让其他人有权限修改此应用</Tag>\n    </span>,\n    render: (optionsWithoutRender) => <RtxNameDropdownSelect {...optionsWithoutRender} />,\n  },\n};\nexport const fieldClassId = {\n  type: 'customize',\n  options: {\n    name: 'class_key',\n    label: <span>分类<NormalBlank />\n      <Tag color=\"blue\">方便用户聚合查看某一类应用</Tag>\n    </span>,\n    render: (optionsWithoutRender) => <ClassIdDropdownSelect {...optionsWithoutRender} />,\n  },\n};\nexport const fieldAppEnableGray = {\n  type: 'radioGroup',\n  options: {\n    name: 'enable_gray',\n    initValue: defaultValues.enable_gray,\n    options: [{ value: 1, label: '是' }, { value: 0, label: '否' }],\n    label: <span>是否灰度上线 <NormalBlank />\n      <Tag color=\"blue\">开启此功能后每次构建的版本不会立即上线，仅下发给灰度用户们，直到点击灰度通过才可全量访问</Tag>\n    </span>,\n  },\n};\nexport const fieldAppEnablePipeline = {\n  type: 'radioGroup',\n  options: {\n    name: 'enable_pipeline',\n    initValue: defaultValues.enable_pipeline,\n    options: [{ value: 1, label: '是' }, { value: 0, label: '否' }],\n    label: <span>是否允许插件执行 <NormalBlank />\n      <Tag color=\"blue\">开启后流水线里的元数据提取步骤能正常执行，关闭则拒绝执行，当需要在特殊时期禁止一切上线行为时可设置为关闭</Tag>\n    </span>,\n  },\n};\nexport const fieldAppGrayUsers = {\n  type: 'customize',\n  options: {\n    name: 'gray_users',\n    label: <span>灰度用户<NormalBlank />\n      <Tag color=\"blue\">开启灰度上线功能后，此设置才有效</Tag>\n    </span>,\n    render: (optionsWithoutRender) => <RtxNameDropdownSelect {...optionsWithoutRender} />,\n  },\n};\nconst fieldAppIsLocalRender = {\n  type: 'radioGroup',\n  options: {\n    name: 'is_local_render',\n    initValue: defaultValues.is_local_render,\n    options: [{ value: 1, label: '是' }, { value: 0, label: '否' }],\n    label: (\n      <span>是否在平台底座下渲染\n        <Tooltip title={isLocalRender} color=\"blue\" getTooltipContainer={getAppBodyContainer}>\n          <QuestionCircleOutlined />\n        </Tooltip>\n      </span>\n    ),\n  },\n};\nconst fieldAppRenderHost = {\n  type: 'input',\n  options: {\n    name: 'render_app_host',\n    label: <span>\n      应用渲染路径 <Tooltip title={appRenderHostTip} color=\"blue\" getTooltipContainer={getAppBodyContainer}><QuestionCircleOutlined /></Tooltip>\n      <NormalBlank /><Tag color=\"blue\">{appRenderHostTip}</Tag>\n    </span>,\n  },\n};\nconst fieldAppGitRepoUrl = {\n  type: 'input',\n  options: {\n    name: 'git_repo_url',\n    label: <span>\n      git仓库地址 <NormalBlank />\n      <Tag color=\"blue\">建议填写，方便从helpack可以跳转到你的代码仓库</Tag>\n    </span>,\n    placeholder: 'input git repo url',\n  },\n};\nexport const fieldIsTest = {\n  type: 'radioGroup',\n  options: {\n    name: 'is_test',\n    disabled: true,\n    label: <span>是否为正式 <Tooltip style={stTooltip} title={isTestTip} color=\"blue\" getTooltipContainer={getAppBodyContainer}><QuestionCircleOutlined /></Tooltip></span>,\n    initValue: defaultValues.is_test,\n    options: [{ value: 0, label: '是' }, { value: 1, label: '否' }],\n    rules: [\n      { required: true },\n    ],\n  },\n};\n\nexport const simpleFieldConf = [\n  fieldToken,\n  fieldAppGroupName,\n  fieldAppName,\n  fieldAppDesc,\n  fieldClassId,\n  // fieldUiFramework,\n  fieldAppGitRepoUrl,\n];\n\nexport const detailFieldConf = [\n  fieldToken,\n  fieldAppGroupName,\n  fieldAppName,\n  fieldAppCnName,\n  fieldAppDesc,\n  fieldClassId,\n  // fieldUiFramework,\n  fieldAppGitRepoUrl,\n  fieldAppOwners,\n  fieldAppEnableGray,\n  fieldAppEnablePipeline,\n  fieldAppGrayUsers,\n  fieldAppIsLocalRender,\n  fieldAppRenderHost,\n];\n\nexport default detailFieldConf;\n","/* eslint-disable no-unused-vars */\n/** @typedef {'test'|'prod'} FormCreateMode*/\n// 基础表单页\nimport React from 'react';\nimport { Card, Modal, message, Tooltip, Tag, Button, Radio, Alert } from 'antd';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport { cst } from 'concent';\nimport { HEL_CHARGER } from 'configs/constant';\nimport * as subAppService from 'services/subApp';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport EasyForm from 'components/EasyForm';\nimport Blank, { NormalSpanBlank } from 'components/dumb/Blank';\nimport * as objUtil from 'utils/object';\nimport regs from 'utils/regs';\nimport { getDefaultValues, simpleFieldConf, detailFieldConf, getNewToken } from './fieldConf';\n\nconst stDemoLink = {\n  borderRadius: '3px',\n  backgroundColor: 'white',\n  padding: '0 3px',\n  margin: '0 3px',\n};\n\nconst validNameTip = '合法的应用名形如：@xx-scope/xx-name（带scope）, xx-name（不带scope）';\n\nconst formUiTypeOptions = [\n  { label: '简单', value: 'simple' },\n  { label: '详细', value: 'detail' },\n];\n\nconst SmallCircle = () => <div style={{\n  display: 'inline-block', width: '8px', height: '8px', borderRadius: '4px', backgroundColor: 'var(--lra-theme-color)',\n}}></div>;\n\nfunction getFormDefaultValues(subApp) {\n  const demoValues = getDefaultValues();\n  let values = demoValues;\n  if (!objUtil.isNull(subApp)) {\n    values = {};\n    Object.keys(demoValues).forEach(key => values[key] = subApp[key]);\n  }\n  values.token = getNewToken();\n  return values;\n}\n\nconst setup = (c) => {\n  const ctx = typeCtxM(cst.MODULE_DEFAULT, {}, c);\n  const { initState, emit } = ctx;\n  const { subApp, mode, hasAct = false } = ctx.props;\n  const defaultValues = getFormDefaultValues(subApp);\n  /** @type {FormCreateMode} */\n  const formCreateMode = mode || 'prod';\n  if (formCreateMode === 'prod') {\n    defaultValues.app_group_name = defaultValues.name;\n    defaultValues.is_test = 0;\n  } else {\n    defaultValues.is_test = 1;\n  }\n\n  const ins = initState({\n    defaultValues,\n    toCommitValues: {},\n    actKey: '', // 活动选择\n    hasAct,\n    formUiType: 'simple',\n    formCreateMode,\n    confirmCreateModalVisible: false,\n  });\n  const { state } = ins;\n\n  const cancelFormBtnLoading = () => {\n    setTimeout(() => {\n      emit('cancelFormBtnLoading');\n    }, 300);\n  };\n\n  let isTokenNeedRefresh = false;\n\n  const settings = {\n    insState: state,\n    onValuesChange: (changed, /** @type {import('antd/lib/form').FormInstance} */form) => {\n      const values = form.getFieldsValue();\n      const { defaultValues } = state;\n      if (objUtil.hasProperty(changed, 'name') && state.formCreateMode === 'prod') {\n        form.setFieldsValue({ app_group_name: changed.name });\n        Object.assign(defaultValues, values, { app_group_name: changed.name });\n      } else {\n        Object.assign(defaultValues, values);\n      }\n\n      if (objUtil.hasProperty(changed, 'name') && isTokenNeedRefresh) {\n        isTokenNeedRefresh = false;\n        form.setFieldsValue({ token: getNewToken() });\n      }\n\n      ins.setState({ defaultValues });\n    },\n    onFormFinish: async (formValues) => {\n      const warn = (str) => {\n        message.warn(str);\n        cancelFormBtnLoading();\n      };\n      /** @type {typeof state.defaultValues} */\n      const toCommitValues = objUtil.safeAssign(state.defaultValues, formValues);\n      objUtil.ensureArr(toCommitValues, 'owners');\n      objUtil.ensureArr(toCommitValues, 'gray_users');\n      if (toCommitValues.enable_gray && toCommitValues.gray_users.length === 0) {\n        return warn('当前应用开启了灰度功能，请设置灰度用户名单');\n      }\n      if (toCommitValues.owners.length > 50) {\n        return warn('负责人不能大于 50');\n      }\n      if (toCommitValues.gray_users.length > 50) {\n        return warn('灰度名单不能大于 50');\n      }\n\n      const { is_local_render, render_app_host, name } = toCommitValues;\n      if (is_local_render === false) {\n        if (!render_app_host) {\n          return warn('应用选择了不在当前平台渲染，请填写【应用的渲染域名】');\n        }\n        if (!regs.url.test(render_app_host)) {\n          return warn('填写的应用渲染域名不合法');\n        }\n      }\n\n      const chars = name.split('');\n      const atIdx = name.indexOf('@');\n      const slashIdx = name.indexOf('/');\n      const lastIdx = chars.length - 1;\n      const slashCount = chars.filter(v => v === '/').length;\n      const atCount = chars.filter(v => v === '@').length;\n      if (\n        // '/a/a'\n        slashCount > 1\n        // '@a@a'\n        || atCount > 1\n        // aa@a\n        || (atCount === 1 && !name.startsWith('@'))\n        // @aa\n        || (atCount === 1 && name.startsWith('@') && slashCount === 0)\n        // @/aa\n        || (atCount === 1 && name.startsWith('@') && slashCount === 1 && slashIdx === atIdx + 1)\n        // @aa/\n        || (atCount === 1 && name.startsWith('@') && slashCount === 1 && slashIdx === lastIdx)\n      ) {\n        return warn(`应用名不合法，请重新填写，${validNameTip}`);\n      }\n\n      ins.setState({ toCommitValues, confirmCreateModalVisible: true });\n    },\n    getUiTitle: () => {\n      return (\n        <div>\n          新建&nbsp;&nbsp;\n          {state.formCreateMode === 'prod' ? <Tag color=\"#f50\">正式</Tag> : <Tag color=\"gray\">测试</Tag>}\n          应用\n          <Blank width=\"8px\" />\n          <Tooltip\n            title={<>欢迎到hel创建你的专属应用，点击访问示例：\n              <a href=\"https://unpkg.com/hel-tpl-remote-vue-comps@1.5.3/hel_dist/index.html\" target=\"blink\" rel='noopener' style={stDemoLink}>vue2x-demo</a>，\n              如创建应用遇到问题，可联系&nbsp;<Tag color=\"#f50\">{HEL_CHARGER}</Tag>\n            </>}\n          >\n            <QuestionCircleOutlined />\n          </Tooltip>\n          <Blank />\n          <Radio.Group options={formUiTypeOptions} value={state.formUiType} onChange={ins.syncer.formUiType} />\n          {\n            state.hasAct && <Button data-key=\"join_hel_lib\" onClick={settings.selAct} style={{ float: 'right' }}\n              type={state.actKey === 'join_hel_lib' ? 'primary' : 'default'}>\n              Hel函数模块活动\n            </Button>\n          }\n        </div>\n      );\n    },\n    getFieldConf() {\n      return state.formUiType === 'simple' ? simpleFieldConf : detailFieldConf;\n    },\n    selAct(e) {\n      ctx.setState({ actKey: e.currentTarget.dataset.key });\n      const valuesCopy = { ...state.defaultValues };\n      valuesCopy.name = 'hlib-yourRtx';\n      valuesCopy.app_group_name = 'hlib-yourRtx';\n      valuesCopy.cnname = 'hel函数模块';\n      valuesCopy.git_repo_url = 'https://github.com/hel-eco/hel-activity/my-first-hel-lib';\n      valuesCopy.enable_gray = 0;\n      valuesCopy.ui_framework = 'lib';\n      valuesCopy.desc = '这是我的第一个hel函数模块，他将被多个项目远程动态加载';\n      message.info('欢迎━(*｀∀´*)ノ 参加创建hel函数模块活动');\n      ctx.emit('fillFormValues', valuesCopy);\n    },\n    async createApp(createOne = true) {\n      const { toCommitValues, formCreateMode } = ins.state;\n      const values = objUtil.clone(toCommitValues);\n      if (!values.ui_framework) {\n        values.ui_framework = 'lib';\n      }\n      if (!values.class_key) {\n        values.class_key = '';\n      }\n\n      values.cnname = values.cnname || values.name;\n\n      try {\n        ins.setState({ confirmCreateModalVisible: false });\n        await subAppService.createSubApp(values);\n        const label = formCreateMode === 'prod' ? '正式' : '测试';\n        message.success(`${label}应用[${values.name}]创建成功！`);\n        // 一定是创建一个正式与一个测试，第二个创建的是测试应用\n        if (!createOne) {\n          const testApp = objUtil.clone(values);\n          testApp.name = `${testApp.name}-test`;\n          testApp.is_test = 1;\n          testApp.token = getNewToken();\n          await subAppService.createSubApp(testApp);\n          isTokenNeedRefresh = true;\n          message.success(`测试应用[${testApp.name}]创建成功！`);\n        }\n      } catch (err) {\n        message.error(err.message);\n      } finally {\n        cancelFormBtnLoading();\n      }\n    },\n    closeConfirmModal() {\n      ins.setState({ confirmCreateModalVisible: false });\n      cancelFormBtnLoading();\n    },\n    getModalTitle() {\n      if (state.formCreateMode === 'prod') {\n        return '请选择创建应用模式';\n      }\n      return '创建应用二次确认提示';\n    },\n    getModalFooter() {\n      if (state.formCreateMode === 'prod') {\n        return [\n          <Button key=\"1\" onClick={settings.closeConfirmModal}>取消</Button>,\n          <Button key=\"2\" type=\"primary\" onClick={() => settings.createApp(false)}>创建正式与测试</Button>,\n          <Button key=\"3\" type=\"primary\" onClick={() => settings.createApp(true)}>仅创建正式</Button>,\n        ];\n      }\n      return [\n        <Button key=\"1\" onClick={settings.closeConfirmModal}>取消</Button>,\n        <Button key=\"2\" type=\"primary\" onClick={() => settings.createApp(true)}>创建</Button>,\n      ];\n    },\n    getModalContent() {\n      if (state.formCreateMode === 'prod') {\n        return <div>\n          <h4><SmallCircle /><NormalSpanBlank />创建正式与测试</h4>\n          <p>\n            为应用所属组 {state.defaultValues.app_group_name} 同时再创建一个测试应用 <Tag color=\"green\">{state.defaultValues.name}-test</Tag>\n          </p>\n          <h4><SmallCircle /><NormalSpanBlank />仅创建正式</h4>\n          <p>\n            只创建正式应用，后续可以在应用商店查到当前应用后并点击【同组复制】达到再次创建测试应用效果\n          </p>\n        </div>;\n      }\n      return <div>\n        确认为应用组 {state.defaultValues.app_group_name} 创建新测试应用 {state.defaultValues.name} 吗？\n      </div>;\n    },\n  };\n\n  return settings;\n};\n\nexport default React.memo((props) => {\n  const { settings } = useC2Mod(cst.MODULE_DEFAULT, { setup, props });\n  const { insState } = settings;\n\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <Alert\n        style={{ width: '1110px', margin: '0 auto 12px auto' }}\n        type=\"info\"\n        message={<>如需填写【灰度名单】、【负责人】等信息，可选择详细选项，或等到创建完毕后到应用详情里做二次修改</>}\n      />\n      <Card title={settings.getUiTitle()} style={{ width: '1110px', margin: '0 auto', textAlign: 'left' }}>\n        <EasyForm\n          key={insState.formUiType}\n          onValuesChange={settings.onValuesChange}\n          onFinish={settings.onFormFinish}\n          layout=\"vertical\"\n          fields={settings.getFieldConf()}\n          submitBtnLabel=\"提交\"\n          fillValues={insState.defaultValues}\n        />\n      </Card>\n      <Modal\n        title={settings.getModalTitle()}\n        onCancel={settings.closeConfirmModal}\n        visible={insState.confirmCreateModalVisible}\n        footer={settings.getModalFooter()}\n      >\n        {settings.getModalContent()}\n      </Modal>\n    </div>\n  );\n});\n","/* eslint-disable no-unused-vars */\n// 基础表单页\nimport React from 'react';\nimport SubAppCreateForm from 'components/SubAppCreateForm';\n\nexport default React.memo(() => {\n  return <SubAppCreateForm mode=\"prod\" hasAct={true} />;\n});\n","import React from 'react';\nimport * as commonService from 'services/common';\n\nconst stPath = { color: 'red' };\n\nexport default function NotFound() {\n  return (\n    <h1>404 not found, page <span style={stPath}>/{commonService.getCurrentPage()} </span>is watting to be added!</h1>\n  );\n}\n","/* eslint-disable */\nimport React from 'react';\nimport { Input, Button, Tooltip, Radio, message, Result } from 'antd';\nimport { useConcent } from 'concent';\nimport { VerticalBlank, NormalBlank } from 'components/dumb/Blank';\nimport { syncStaff } from 'services/staff';\nimport { getModelComputed } from 'services/concent';\n\n\n/** @typedef {import('types/store').CtxDe} CtxPre */\n\nfunction setup(/** @type CtxPre */ ctx) {\n  const ins = ctx.initState({\n    loading: false,\n    syncType: 'corsProxy',\n  });\n\n  const settings = {\n    ins,\n    inputRef: React.createRef(),\n    async submit() {\n      const { syncType } = ins.state;\n      const inputIns = settings.inputRef.current;\n      if (!inputIns || !syncType) {\n        return;\n      }\n\n      ins.setState({ loading: true });\n      const staffStr = inputIns.resizableTextArea.textArea.value;\n      if (syncType === 'corsProxy' && !staffStr.startsWith('{\"code\":0,\"data\":[{')) {\n        ins.setState({ loading: false });\n        return message.warn('提交数据不合法，可访问 http://xxx-cors.com 参考返回的数据格式');\n      }\n      if (syncType === 'wsdUsers' && !staffStr.startsWith('var _arrusers = [[')) {\n        ins.setState({ loading: false });\n        return message.warn('提交数据不合法，可访问 http://xxx-users.com 参考返回的数据格式');\n      }\n\n      await syncStaff(staffStr, syncType);\n      ins.setState({ loading: false });\n    },\n  };\n  return settings;\n}\n\n/** @typedef {import('types/store').CtxDe<{}, ReturnType<typeof setup>} Ctx */\n\nexport default React.memo(() => {\n  /** @type Ctx */\n  const { settings } = useConcent({ setup }, 'SyncStaff');\n  const { inputRef, ins } = settings;\n  const isAdmin = getModelComputed('portal').isAdmin;\n\n  if (!isAdmin) {\n    return <Result title=\"403\" />;\n  }\n\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <Input.TextArea rows={25} ref={inputRef} style={{ backgroundColor: '#fcfafa' }} />\n      <VerticalBlank />\n      <Radio.Group onChange={ins.syncer.syncType} value={ins.state.syncType}>\n        <Tooltip title=\"数据来自 http://xxx-cors/api/v1/getStaff\">\n          <Radio value=\"corsProxy\">corsProxy数据</Radio>\n        </Tooltip>\n        <Tooltip title=\"数据来自 http://xxx-wsd-users/js/users.js\">\n          <Radio value=\"wsdUsers\">wsdUsers数据</Radio>\n        </Tooltip>\n      </Radio.Group>\n      <NormalBlank />\n      <Button loading={ins.state.loading} type=\"primary\" onClick={settings.submit}>\n        开始同步\n      </Button>\n    </div>\n  );\n});\n","/* eslint-disable */\nimport React from 'react';\nimport { Button, message, Result, Spin, Tag } from 'antd';\nimport copy from 'copy-to-clipboard';\nimport { useConcent } from 'concent';\nimport { VerticalBlank, NormalBlank } from 'components/dumb/Blank';\nimport * as allowedAppSrv from 'services/allowedApp';\nimport { getModelComputed } from 'services/concent';\nimport s from 'styles/common.module.css';\n\n/** @typedef {import('types/store').CtxDe} CtxPre */\n\nfunction setup(/** @type CtxPre */ ctx) {\n  const ins = ctx.initState({\n    loading: false,\n    wrapLoading: false,\n    list: [],\n  });\n\n  const initAllowedApps = async () => {\n    try {\n      ins.setState({ wrapLoading: true });\n      const list = await allowedAppSrv.getAllowedApps();\n      ins.setState({ wrapLoading: false, list });\n    } catch (err) {\n      ins.setState({ wrapLoading: false });\n      message.error(err.message);\n    }\n  };\n\n  ctx.effect(() => {\n    initAllowedApps();\n  }, []);\n\n  const settings = {\n    ins,\n    async submit() {\n      try {\n        ins.setState({ loading: true });\n        const list = await allowedAppSrv.refreshAllowedApps();\n        ins.setState({ list, loading: false });\n        message.success(`同步成功，当前外网可访问应用共计 ${list.length} 个`);\n      } catch (err) {\n        ins.setState({ loading: false });\n        message.error(err.message);\n      }\n    },\n\n    copy() {\n      message.success('复制应用白名单成功！');\n      copy(ins.state.list.join(','));\n    },\n\n    copyJson() {\n      message.success('复制应用白名单Json成功！');\n      copy(JSON.stringify(ins.state.list));\n    },\n  };\n  return settings;\n}\n\n/** @typedef {import('types/store').CtxDe<{}, ReturnType<typeof setup>} Ctx */\n\nexport default React.memo(() => {\n  /** @type Ctx */\n  const { settings } = useConcent({ setup }, 'SyncStaff');\n  const { ins } = settings;\n  const isAdmin = getModelComputed('portal').isAdmin;\n\n  if (!isAdmin) {\n    return <Result title=\"403\" />;\n  }\n\n  return (\n    <div style={{ textAlign: 'center', padding: '100px 0' }}>\n      <Spin spinning={ins.state.wrapLoading}>\n        <h3>外网可访问白名单：</h3>\n        <div style={{ textAlign: 'left' }}>\n          {ins.state.list.map(v => <Tag key={v} style={{ marginBottom: '3px' }}>{v}</Tag>)}\n        </div>\n      </Spin>\n      <VerticalBlank />\n      <Button loading={ins.state.loading} type=\"primary\" onClick={settings.submit}>\n        开始同步\n      </Button>\n      <NormalBlank />\n      <Button onClick={settings.copy}>\n        复制\n      </Button>\n      <NormalBlank />\n      <Button onClick={settings.copyJson}>\n        复制Json\n      </Button>\n      <div style={{ marginTop: '12px' }}>\n        <span className={s.tipLabelWrap}>\n          点击【开始同步】按钮，将同步数据里的应用外网访问白名单到各个后台服务实例节点中\n        </span>\n      </div>\n    </div>\n  );\n});\n","\nimport { getModelState } from 'services/concent';\nimport http from 'services/http';\nimport { signUrlByName } from 'services/shared/sign';\n\nexport async function changeAllowed(name, isAllowed) {\n  const timestamp = Date.now();\n  let url = `/api/v1/allowed-app/${isAllowed ? 'addAllowed' : 'delAllowed'}?name=${name}&timestamp=${timestamp}`;\n  url = signUrlByName(url, name, timestamp);\n\n  const result = await http.get(url);\n  return result;\n}\n\nexport async function getIsAppAllowed(name) {\n  const timestamp = Date.now();\n  let url = `/api/v1/allowed-app/isAllowed?name=${name}&timestamp=${timestamp}`;\n  url = signUrlByName(url, name, timestamp);\n\n  const result = await http.get(url);\n  return result;\n}\n\nexport async function refreshAllowedApps() {\n  const user = getModelState('portal').userInfo.user;\n  const timestamp = Date.now();\n  let url = `/api/v1/allowed-app/refresh?user=${user}&timestamp=${timestamp}`;\n  url = signUrlByName(url, user, timestamp);\n\n  const result = await http.get(url);\n  return result;\n}\n\nexport async function getAllowedApps() {\n  const user = getModelState('portal').userInfo.user;\n  const timestamp = Date.now();\n  let url = `/api/v1/allowed-app/getList?user=${user}&timestamp=${timestamp}`;\n  url = signUrlByName(url, user, timestamp);\n\n  const result = await http.get(url);\n  return result;\n}\n","import React from 'react';\nimport { MyClassIdMgr } from 'components/ClassIdDropdownSelect';\n\nexport default React.memo(() => {\n  return <MyClassIdMgr />;\n});\n","\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport * as page from 'configs/constant/page';\nimport LatestVisit from 'pages/LatestVisit';\nimport StarList from 'pages/StarList';\nimport CreatedList from 'pages/CreatedList';\nimport AppStore from 'pages/AppStore';\nimport Top from 'pages/Top';\nimport NewApp from 'pages/NewApp';\nimport NotFound from 'pages/NotFound';\nimport Welcome from 'pages/Welcome';\nimport SyncStaff from 'pages/SyncStaff';\nimport SyncAllowedApps from 'pages/SyncAllowedApps';\nimport ClassManagement from 'pages/ClassManagement';\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route exact path={page.STAR} component={StarList} />\n      <Route exact path={page.CREATED} component={CreatedList} />\n      <Route exact path={page.STORE} component={AppStore} />\n      <Route exact path={page.TOP} component={Top} />\n      <Route exact path={page.NEW_APP} component={NewApp} />\n      <Route exact path={page.LATEST_VISIT} component={LatestVisit} />\n      <Route exact path={page.INTRO} component={Welcome} />\n      <Route exact path={page.SYNC_STAFF} component={SyncStaff} />\n      <Route exact path={page.SYNC_ALLOWED_APPS} component={SyncAllowedApps} />\n      <Route exact path={page.CLASS_MGR} component={ClassManagement} />\n      {/* <Route exact path=\"/\" component={LatestVisit} /> */}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","import styled, { css } from 'styled-components';\n\nexport const Mask = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0,0,0,0.3);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999999999;\n`;\n\nexport const ModalWrap = styled.div`\n  width: 416px;\n  height: 170px;\n  background-color: white;\n`;\n\nexport const ModalHead = styled.div`\n  height: 52px;\n  line-height: 52px;\n  text-align: center;\n  font-size: 22px;\n  font-weight: 400;\n  border-bottom: 1px solid #f0f0f0;\n`;\n\nexport const ModalBody = styled.div`\n  padding: 18px;\n  border: 1px solid #f0f0f0;\n  font-size: 14px;\n  color: grey;\n`;\n\nexport const ModalFoot = styled.div`\n  float: right;\n  padding: 18px;\n`;\n\nexport const ModalBtn = styled.button`\n  margin: 0 6px;\n  width: 80px;\n  ${props => css`border:1px solid ${props.primary ? '#007acd' : 'lightgrey'}`};\n  ${props => css`background-color:${props.primary ? '#007acd' : 'white'}`};\n  ${props => css`color:${props.primary ? 'white' : 'black'}`};\n`;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useConcent } from 'concent';\nimport { HUB_APP_MODAL } from 'configs/constant/nodeSelector';\nimport { CLOSE_MODAL, OPEN_MODAL } from 'configs/constant/event';\nimport { Mask, ModalWrap, ModalHead, ModalBody, ModalFoot, ModalBtn } from './styled';\n\nfunction setup(ctx) {\n  ctx.initState({ show: false, title: '', content: '' });\n  const closeModal = () => ctx.set('show', false);\n\n  let extra = {};\n  ctx.on(CLOSE_MODAL, () => {\n    if (extra.onCancel) return extra.onCancel(closeModal);// as next\n    closeModal();\n  });\n\n  ctx.on(OPEN_MODAL, ({ title, content, onOk, onCancel }) => {\n    extra = { onOk, onCancel };\n    ctx.setState({ show: true, title, content });\n  });\n\n  return {\n    closeModal,\n    handleOk: () => {\n      if (extra.onOk) return extra.onOk(closeModal);// as next\n      closeModal();\n    },\n  };\n}\n\nfunction ModalContent() {\n  const { state, settings } = useConcent({ setup });\n  if (!state.show) return '';\n\n  return (\n    <Mask>\n      <ModalWrap>\n        <ModalHead>{state.title}</ModalHead>\n        <ModalBody>{state.content}</ModalBody>\n        <ModalFoot>\n          <ModalBtn className=\"gHover\" onClick={settings.closeModal}>取消</ModalBtn>\n          <ModalBtn primary className=\"gHover\" onClick={settings.handleOk}>确认</ModalBtn>\n        </ModalFoot>\n      </ModalWrap>\n    </Mask>\n  );\n}\n\nexport default class ModalContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    const mountNode = document.getElementById(HUB_APP_MODAL);\n    this.mountNode = mountNode;\n  }\n  componentDidMount() {\n    document.body.appendChild(this.mountNode);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.mountNode);\n  }\n\n  render() {\n    if (this.mountNode) {\n      return ReactDOM.createPortal(\n        <ModalContent />,\n        this.mountNode,\n      );\n    } else {\n      return <ModalContent />;\n    }\n  }\n}\n","\nexport const HUB_APP_MODAL = 'app-manager-modal';\n","import { useSetup, typeCtxDe } from 'services/concent';\nimport { getSubAppToken } from 'services/subApp';\nimport { Button, message } from 'antd';\nimport React from 'react';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  return {\n    tryGetToken: () => {\n      ctx.emit('tryGetToken', async (appName) => {\n        message.info(`应用 [${appName}] token 获取中...`, 1);\n        try {\n          const appToken = await getSubAppToken(appName);\n          ctx.emit('tokenGot', { appName, appToken });\n        } catch (err) {\n          message.error(err.message, 1);\n        }\n      });\n    },\n  };\n}\n\nexport default React.memo(function TokenViewer(props) {\n  const se = useSetup(setup);\n\n  return (\n    <div>\n      {props.children}\n      <Button size=\"small\" type=\"primary\" onClick={se.tryGetToken}>查看token</Button>\n    </div>\n  );\n});\n","import React from 'react';\nimport { Tooltip, Tag } from 'antd';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport { appNameTip, appTokenTip, appGroupNameTip, isLocalRender, appRenderHostTip } from 'configs/constant/formTip';\nimport { APP_NAME_RULE } from 'configs/constant/share';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport TokenViewer from './components/TokenViewer';\nimport {\n  fieldAppEnablePipeline, fieldAppCnName, fieldAppDesc, fieldAppEnableGray, fieldAppOwners, fieldAppGrayUsers,\n  fieldIsTest, defaultValues, fieldClassId,\n} from '../SubAppCreateForm/fieldConf';\nimport * as helUtil from 'utils/hel';\n\nconst commonRules = [\n  { pattern: APP_NAME_RULE, message: '必需是英文、数字、下划线、中划线的组合，注意不要包含空格' },\n  { max: 64, type: 'string', message: '长度不能大于30' },\n];\n\nconst stTooltip = { zIndex: 9999999992 };\n\nconst fields = [\n  {\n    type: 'input',\n    options: {\n      name: 'token',\n      label: <TokenViewer>\n        <span>应用token\n          <Tooltip style={stTooltip} title={appTokenTip} color=\"blue\" getTooltipContainer={helUtil.getAppBodyContainer}>\n            <QuestionCircleOutlined />\n          </Tooltip>\n        </span>\n        <NormalBlank />\n      </TokenViewer>,\n      disabled: true,\n      placeholder: 'input app token',\n      rules: [\n        { required: true, message: '请输入应用token' },\n      ],\n    },\n  },\n  {\n    type: 'input',\n    options: {\n      name: 'app_group_name',\n      disabled: true,\n      label: <span>\n        应用所属组名称 <Tooltip style={stTooltip} title={appGroupNameTip} color=\"blue\" getTooltipContainer={helUtil.getAppBodyContainer}><QuestionCircleOutlined /></Tooltip>\n        <NormalBlank /><Tag color=\"blue\">一个组名可对应多个应用名，表示应用对应的多种环境(例如不同的分支)</Tag>\n      </span>,\n      placeholder: 'input app group name',\n      rules: [\n        { required: true, message: '请输入应用组名称' },\n        ...commonRules,\n      ],\n    },\n  },\n  {\n    type: 'input',\n    options: {\n      name: 'name',\n      disabled: true,\n      label: <span>\n        应用名称 <Tooltip style={stTooltip} title={appNameTip} color=\"blue\" getTooltipContainer={helUtil.getAppBodyContainer}><QuestionCircleOutlined /></Tooltip>\n      </span>,\n      placeholder: 'input app name',\n      rules: [\n        { required: true, message: '请输入应用名称' },\n        ...commonRules,\n      ],\n    },\n  },\n  fieldIsTest,\n  fieldAppCnName,\n  fieldAppDesc,\n  fieldClassId,\n  fieldAppOwners,\n  fieldAppEnableGray,\n  fieldAppGrayUsers,\n  fieldAppEnablePipeline,\n  {\n    type: 'radioGroup',\n    options: {\n      name: 'is_local_render',\n      initValue: defaultValues.is_local_render,\n      options: [{ value: 1, label: '是' }, { value: 0, label: '否' }],\n      label: <span>是否在平台底座下渲染 <Tooltip style={stTooltip} title={isLocalRender} color=\"blue\" getTooltipContainer={helUtil.getAppBodyContainer}><QuestionCircleOutlined /></Tooltip></span>,\n    },\n  },\n  {\n    type: 'input',\n    options: {\n      name: 'render_app_host',\n      label: <span>\n        应用渲染路径 <Tooltip style={stTooltip} title={appRenderHostTip} color=\"blue\" getTooltipContainer={helUtil.getAppBodyContainer}><QuestionCircleOutlined /></Tooltip>\n        <NormalBlank /><Tag color=\"blue\">{appRenderHostTip}</Tag>\n      </span>,\n    },\n  },\n  {\n    type: 'input',\n    options: {\n      name: 'git_repo_url',\n      label: <span>\n        git仓库地址 <NormalBlank />\n        <Tag color=\"blue\">建议填写，方便从helpack可以跳转到你的代码仓库</Tag>\n      </span>,\n      placeholder: 'input git repo url',\n    },\n  },\n];\n\nexport const disabledFields = fields.map(item => {\n  const itemCopy = { type: item.type, options: { ...item.options, disabled: true } };\n  return itemCopy;\n});\n\nexport default fields;\n","/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport { Modal, Input, message, Alert } from 'antd';\nimport React from 'react';\nimport { useSetup, typeCtxDe, ccReducer, getModelState } from 'services/concent';\nimport { VerticalBlank } from 'components/dumb/Blank';\nimport * as subAppSrv from 'services/subApp';\nimport { PORTAL, VERSION_LIST } from 'configs/constant/ccModule';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    mode: 'user',\n    visible: false,\n    desc: '',\n    loading: false,\n    title: '添加标记描述',\n    alertDesc: '',\n    appVerData: null,\n    markData: null,\n  });\n\n  ctx.on('openMarkInfoModal', (/** @type {SubAppVersion} */appVerData, mode) => {\n    const { userMarkedList } = getModelState(PORTAL);\n    const { globalMarkedList } = getModelState(VERSION_LIST);\n    if (mode === 'user') {\n      const markData = userMarkedList.find(item => item.ver === appVerData.sub_app_version);\n      const title = markData ? '修改个人标记描述' : '添加个人标记描述';\n      const desc = markData ? markData.desc : '';\n      const alertDesc = `你正在为应用版本 ${appVerData.sub_app_version} 添加个人标记，方便你以后可快速筛选个人关心的版本数据`;\n      ins.setState({ visible: true, appVerData, desc, markData, title, alertDesc, mode });\n      return;\n    }\n\n    const markData = globalMarkedList.find(item => item.ver === appVerData.sub_app_version);\n    const title = markData ? '修改全局标记描述' : '添加全局标记描述';\n    const desc = markData ? markData.desc : '';\n    const alertDesc = `你正在为应用版本 ${appVerData.sub_app_version} 添加全局标记，方便以后所有人都可快速筛选相关版本数据`;\n    ins.setState({ visible: true, appVerData, desc, markData, title, alertDesc, mode });\n  });\n\n  return {\n    ins,\n    close() {\n      ins.setState({ visible: false, loading: false });\n    },\n    async submit() {\n      const { appVerData, desc, mode, title } = ins.state;\n      if (!appVerData) {\n        return;\n      }\n      ins.setState({ loading: true });\n      const { sub_app_name: name } = appVerData;\n      const verTag = appVerData.version_tag || appVerData.sub_app_version;\n\n      try {\n        if (mode === 'user') {\n          await subAppSrv.updateAppUserMarkInfo({ name, ver: verTag, desc });\n          await ccReducer.portal.initUserExtendData();\n        } else {\n          await subAppSrv.updateAppGlobalMarkInfo({ name, ver: verTag, desc });\n          await ccReducer.VersionList.freshSubAppGlobalMarkInfo(name);\n        }\n\n        message.success(`${title}成功`);\n        ccReducer.VersionList.refreshTableCurPage();\n        ins.setState({ loading: false, visible: false });\n      } catch (err) {\n        message.error(err.message);\n        ins.setState({ loading: false });\n      }\n    },\n  };\n}\n\nexport default React.memo(function () {\n  const settings = useSetup(setup);\n  const { ins: { state, syncer } } = settings;\n\n  return <Modal visible={state.visible} onCancel={settings.close} width=\"800px\"\n    title={state.title} onOk={settings.submit} confirmLoading={state.loading}\n    okText=\"确认\" cancelText=\"取消\"\n  >\n    <Input value={state.desc} onChange={syncer.desc} placeholder=\"（可选）请输入描述\" />\n    <VerticalBlank />\n    <Alert message={state.alertDesc} type=\"info\" showIcon />\n  </Modal>;\n});\n","/* eslint-disable  no-unused-vars,quote-props */\n/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport { Alert, Drawer, message, Spin } from 'antd';\nimport { CopyOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport MonacoEditor from 'react-monaco-editor';\nimport copy from 'copy-to-clipboard';\nimport { useSetup, typeCtxDe } from 'services/concent';\nimport * as subAppSrv from 'services/subApp';\nimport { HEL_CHARGER } from 'configs/constant';\nimport { VerticalBlank, NormalSpanBlank } from 'components/dumb/Blank';\nimport { getMetaApiUrl, getNoHtmlContentMetaApiUrl } from 'utils/url';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    dataStr: '',\n    visible: false,\n    mode: 'av',\n    ver: '',\n    name: '',\n    loading: false,\n  });\n\n  ctx.on('openMetaDataDrawer', async (appVerData) => {\n    const { sub_app_version: verIndex, version_tag: verTag, sub_app_name: name } = appVerData;\n    const ver = verTag || verIndex;\n    ins.setState({ visible: true, loading: true, name, ver });\n    const data = await subAppSrv.getSubAppAndItsFullVersion(name, ver);\n    ins.setState({ dataStr: JSON.stringify(data, null, 2), loading: false });\n  });\n  const settings = {\n    ins,\n    close() {\n      ins.setState({ visible: false, dataStr: '', loading: false });\n    },\n    getInterfaceUrl(isOut) {\n      const { name, ver } = ins.state;\n      return getMetaApiUrl(name, { isOut, version: ver });\n    },\n    getInterfaceUrlNoHC(isOut) {\n      const { name, ver } = ins.state;\n      return getNoHtmlContentMetaApiUrl(name, { isOut, version: ver });\n    },\n    copyUrl() {\n      message.success('复制接口成功');\n      copy(settings.getInterfaceUrl());\n    },\n    copyUrlNoHC() {\n      message.success('复制接口（无html_content）成功');\n      copy(settings.getInterfaceUrlNoHC());\n    },\n    copyOutUrl() {\n      message.success('复制外网接口成功');\n      copy(settings.getInterfaceUrl(true));\n    },\n    copyOutUrlNoHC() {\n      message.success('复制外网接口（无html_content）成功');\n      copy(settings.getInterfaceUrlNoHC(true));\n    },\n  };\n\n  return settings;\n}\n\nexport const MetaDataDrawer = React.memo(function () {\n  const settings = useSetup(setup);\n  const { ins: { state, syncer } } = settings;\n\n  return <Drawer\n    title=\"查看（应用、版本）元数据\" bodyStyle={{ paddingTop: '8px' }}\n    visible={state.visible} width=\"1160px\" onClose={settings.close}\n  >\n    <a href={settings.getInterfaceUrl()} target=\"_blink\">接口</a>\n    <CopyOutlined onClick={settings.copyUrl} />\n    <NormalSpanBlank width=\"19px\" />\n    <a href={settings.getInterfaceUrlNoHC()} target=\"_blink\">接口(无html_content)</a>\n    <CopyOutlined onClick={settings.copyUrlNoHC} />\n    <NormalSpanBlank width=\"19px\" />\n    <a href={settings.getInterfaceUrlNoHC(true)} target=\"_blink\">外网接口</a>\n    <CopyOutlined onClick={settings.copyOutUrl} />\n    <NormalSpanBlank width=\"19px\" />\n    <a href={settings.getInterfaceUrlNoHC(true)} target=\"_blink\">外网接口(无html_content)</a>\n    <CopyOutlined onClick={settings.copyOutUrlNoHC} />\n    <VerticalBlank height=\"8px\" />\n    <Alert message={`外网接口不能直接访问，目前可联系 ${HEL_CHARGER} 加入白名单后即可正常使用（注：外网接口返回数据做了一定的脱敏处理，如git信息等不再返回）`}\n      type=\"info\" showIcon\n    />\n    <VerticalBlank height=\"8px\" />\n    <Spin spinning={state.loading}>\n      <MonacoEditor\n        width=\"100%\"\n        height=\"calc(100vh - 130px)\"\n        language=\"json\"\n        theme=\"vs-dark\"\n        value={state.dataStr}\n        options={{ selectOnLineNumbers: true }}\n        onChange={syncer.dataStr}\n      />\n    </Spin>\n  </Drawer>;\n});\n\nexport default MetaDataDrawer;\n","/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport { Modal, message, Alert } from 'antd';\nimport React from 'react';\nimport { useSetup, typeCtxDe, ccReducer } from 'services/concent';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    visible: false,\n    verID: '',\n    /** 版本对应的应用名称 */\n    verAppName: '',\n    alertDesc: '',\n    loading: false,\n  });\n\n  ctx.on('openResetVerModal', (/** @type {SubAppVersion} */appVerData) => {\n    const { sub_app_version: verID, sub_app_name: verAppName } = appVerData;\n    const alertDesc = `你正在尝试刷新应用版本 ${verID} 的缓存数据，此功能仅当数据库的应用版本有变更时，点击此按钮才有意义`;\n    ins.setState({ visible: true, verID, verAppName, alertDesc });\n  });\n\n  return {\n    ins,\n    close() {\n      ins.setState({ visible: false, loading: false, verID: '', verAppName: '' });\n    },\n    async submit() {\n      const { verID, verAppName } = ins.state;\n      if (!verID || !verAppName) {\n        return;\n      }\n      ins.setState({ loading: true });\n      try {\n        await ccReducer.VersionList.resetVerCache({ verAppName, verID });\n        message.success(`刷新${verAppName} ${verID}缓存成功`);\n        ccReducer.VersionList.refreshTableCurPage();\n        ins.setState({ loading: false, visible: false });\n      } catch (err) {\n        message.error(err.message);\n        ins.setState({ loading: false });\n      }\n    },\n  };\n}\n\nexport default React.memo(function () {\n  const settings = useSetup(setup);\n  const { ins: { state } } = settings;\n\n  return <Modal visible={state.visible} onCancel={settings.close} width=\"800px\"\n    title=\"刷新缓存\" onOk={settings.submit} confirmLoading={state.loading}\n    okText=\"确认\" cancelText=\"取消\"\n  >\n    <Alert message={state.alertDesc} type=\"info\" showIcon />\n  </Modal>;\n});\n","/* eslint-disable no-unused-vars,semi,react/prop-types */\n/** @typedef {import('types/domain').SubApp} SubApp */\n/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport React from 'react';\nimport { Card, Tag, message, Button, Popover, Tooltip, Modal, Col, Alert } from 'antd';\nimport {\n  CopyOutlined, BugOutlined, WindowsOutlined, SettingOutlined, GithubOutlined, BranchesOutlined,\n} from '@ant-design/icons';\nimport { emit } from 'concent';\nimport styled from 'styled-components';\nimport copy from 'copy-to-clipboard';\nimport { ICON_GITCODE, ICON_HEL, ICON_PIPELINE } from 'configs/constant';\nimport { VERSION_LIST, PORTAL } from 'configs/constant/ccModule';\nimport { getModelState, ccReducer } from 'services/concent';\nimport { getAppPipelineBuildUrl } from 'services/common';\nimport { evNames } from 'components/GeneralTable';\nimport { NormalSpanBlank, VerticalBlank } from 'components/dumb/Blank';\nimport * as helUtil from 'utils/hel';\nimport * as dateUtil from 'utils/date';\n\nconst tipPluginOld = (e) => {\n  ste(e);\n  e.preventDefault();\n  message.warn('当前构建数据版本过旧，没记录流水线其他数据(git、pipeline等)，请访问最新构建的版本或者重新构建一个新版本', 2);\n};\n\nconst stHashWrap = {\n  display: 'inline-block',\n  backgroundColor: '#f2f6fd',\n  padding: '0px 12px',\n  marginRight: '3px',\n};\n\nexport const cardBgColors = {\n  online: '#fff2e8',\n  gray: '#f0f0f0',\n  globalMarked: '#f0f5ff',\n  userMarked: '#f9f0ff',\n};\nexport const tagColors = {\n  online: '#f50',\n  gray: 'gray',\n  globalMarked: '#2f54eb',\n  userMarked: '#722ed1',\n};\n\nconst OnlineVersionCard = styled(Card)`\n  .ant-card-actions{\n    background-color: ${cardBgColors.online};\n  }\n`;\nconst GrayVersionCard = styled(Card)`\n  .ant-card-actions{\n    background-color: ${cardBgColors.gray};\n  }\n`;\nconst GlobalMarkCard = styled(Card)`\n  .ant-card-actions{\n    background-color: ${cardBgColors.globalMarked};\n  }\n`;\nconst UserMarkCard = styled(Card)`\n  .ant-card-actions{\n    background-color: ${cardBgColors.userMarked};\n  }\n`;\n\nconst stPopBtn = { marginBottom: '5px' };\n\nconst inner = {\n  buildSwitchTip(toChangeListMode, titleUiMode = 'hasTitle') {\n    const color = toChangeListMode === 'tag' ? tagColors.globalMarked : tagColors.online;\n    const toChangeLabel = toChangeListMode === 'tag' ? '已标记' : '全部';\n    const curLabel = toChangeListMode === 'tag' ? '全部' : '已标记';\n    const clickTopTip = titleUiMode === 'hasTitle' ? '，或点击顶部【全部】/【已标记】单选按钮组来切换列表模式' : '';\n\n    return <Alert type=\"info\" showIcon description={<>\n      当前构建版本列表是{curLabel}模式，你可以点击\n      <Tag\n        color={color} className=\"gHover\"\n        onClick={() => ccReducer.VersionList.changeListMode(toChangeListMode)}\n      >\n        {toChangeLabel}\n      </Tag>\n      切换列表为{toChangeLabel}模式{clickTopTip}\n      <VerticalBlank height=\"16px\" />\n      <span style={{ color: 'grey', fontWeight: 300 }}>\n        <p>全部列表：展示流水线构建的所有版本数据</p>\n        <p>已标记列表：仅展示带有线上、灰度、个人、全局 4种标记的版本数据</p>\n      </span>\n    </>} />;\n  },\n};\n\nexport function ste(e) {\n  // 当前项目暂未支持可选链\n  if (e && e.stopPropagation) {\n    e.stopPropagation();\n  }\n  return true;\n};\n\nexport function buildConnerAndStCard(/** @type {SubAppVersion} */record, options) {\n  const { stTitle, stCol } = options;\n  const { subApp, globalMarkedList } = getModelState(VERSION_LIST);\n  const { userMarkedList } = getModelState(PORTAL);\n  const verTag = record.version_tag || record.sub_app_version;\n\n  // 渲染角标 与 card 样式\n  let CardComp = Card;\n  const stCard = { border: '1px solid lightgrey', backgroundColor: '' };\n  const isGrayVer = subApp.is_in_gray && subApp.build_version === verTag;\n  const isOnlineVer = subApp.online_version === verTag;\n  const globalMarkedData = globalMarkedList.find(item => item.ver === verTag);\n  const userMarkedData = userMarkedList.find(item => item.ver === verTag);\n\n  if (isOnlineVer) {\n    stCard.border = `1px solid ${tagColors.online}`;\n    stCard.backgroundColor = cardBgColors.online;\n    CardComp = OnlineVersionCard;\n  } else if (isGrayVer) {\n    stCard.border = `1px solid ${tagColors.gray}`;\n    stCard.backgroundColor = cardBgColors.gray;\n    CardComp = GrayVersionCard;\n  } else if (globalMarkedData) {\n    stCard.border = `1px solid ${tagColors.globalMarked}`;\n    stCard.backgroundColor = cardBgColors.globalMarked;\n    CardComp = GlobalMarkCard;\n  } else if (userMarkedData) {\n    stCard.border = `1px solid ${tagColors.userMarked}`;\n    stCard.backgroundColor = cardBgColors.userMarked;\n    CardComp = UserMarkCard;\n  }\n\n  let uiConnerOnlineTag = '';\n  let uiConnerGrayTag = '';\n  let uiConnerGlobalMarkTag = '';\n  let uiConnerUserMarkTag = '';\n  let uiGlobalMarkDesc = '';\n  let uiUserMarkDesc = '';\n  if (isGrayVer) {\n    uiConnerGrayTag = <Tag color={tagColors.gray}>灰度</Tag>;\n  }\n  if (isOnlineVer) {\n    uiConnerOnlineTag = <Tag color={tagColors.online}>线上</Tag>;\n  }\n\n  const stTime = { color: '#838383de' }\n  if (globalMarkedData) {\n    uiConnerGlobalMarkTag = <Tag color={tagColors.globalMarked}>全局</Tag>;\n    const { desc, userName, time } = globalMarkedData;\n    if (desc) {\n      const stColGlobal = {\n        ...stCol,\n        backgroundColor: 'rgb(47, 84, 235, 10%)',\n        border: '1px dashed rgb(47, 84, 235, 60%)',\n        paddingLeft: '3px',\n      };\n      uiGlobalMarkDesc = <Col span=\"24\" style={stColGlobal}>\n        <span style={stTitle}>全局标记描述：</span>\n        {desc}<span style={stTime}> ({userName} {dateUtil.formatLocaleString(new Date(time).toLocaleString())})</span>\n      </Col>;\n    }\n  }\n  // rgba(131, 131, 131, 0.87)\n  if (userMarkedData) {\n    uiConnerUserMarkTag = <Tag color={tagColors.userMarked}>个人</Tag>;\n    const { desc, time } = userMarkedData;\n    const stColUserMark = {\n      ...stCol,\n      backgroundColor: 'rgb(114, 46, 209, 10%)',\n      border: '1px dashed rgb(114, 46, 209, 60%)',\n      paddingLeft: '3px',\n      marginTop: !!globalMarkedData ? '6px' : '0px',\n    };\n    if (desc) {\n      uiUserMarkDesc = <Col span=\"24\" style={stColUserMark}>\n        <span style={stTitle}>个人标记描述：</span>\n        <span style={{ wordBreak: 'break-all' }}>{desc}</span>\n        <span style={stTime}> ({dateUtil.formatLocaleString(new Date(time).toLocaleString())})</span>\n      </Col>;\n    }\n  }\n\n  return {\n    uiConner: <div style={{ position: 'absolute', right: '-12px', top: '-10px' }}>\n      {uiConnerOnlineTag}{uiConnerGrayTag}{uiConnerGlobalMarkTag}{uiConnerUserMarkTag}\n    </div>,\n    uiGlobalMarkDesc,\n    uiUserMarkDesc,\n    stCard,\n    CardComp,\n  };\n}\n\n\nexport function buildCardActions(/** @type {SubAppVersion} */record, setCardLoading, titleUiMode = 'hasTitle') {\n  const state = getModelState(VERSION_LIST);\n  const { userInfo: { user }, userMarkedList } = getModelState(PORTAL);\n  const { globalMarkedList, subApp } = state;\n  const owners = subApp.owners || [];\n  const validUsers = owners.concat(subApp.create_by);\n  const buildUrl = getAppPipelineBuildUrl(record);\n  const git_repo_url = record.git_repo_url || '';\n  const stRed = { color: 'red' };\n  const { sub_app_version: recordVer, sub_app_name: appName } = record;\n  const verTag = record.version_tag || record.sub_app_version;\n\n  const isAppOwner = validUsers.includes(user);\n  let disableGlobalMark = false;\n  let globalMarkWarnTip = '';\n  if (!isAppOwner) {\n    disableGlobalMark = true;\n    globalMarkWarnTip = <span style={stRed}>（注：你不是当前应用负责人）</span>;\n  } else if (globalMarkedList.length >= 100) {\n    disableGlobalMark = true;\n    globalMarkWarnTip = <span style={stRed}>（注：当前应用已超过100个全局标记版本，请尝试删除一些其他的已标记数据）</span>;\n  }\n\n  let resetVerTip = '';\n  let disableResetVer = false;\n  if (!isAppOwner) {\n    disableResetVer = true;\n    resetVerTip = <span style={stRed}>（注：你不是当前应用负责人）</span>;\n  } else {\n    resetVerTip = <span style={stRed}>（注：此功能仅当数据库的应用版本有变更时点击此按钮才有意义）</span>;\n  }\n\n  let disableMarkUser = false;\n  let markUserWarnTip = '';\n  let isUserMarked = false;\n  let isGlobalMarked = false;\n  if (userMarkedList.length >= 60) {\n    disableMarkUser = true;\n    markUserWarnTip = <span style={stRed}>（注：你的个人标记数据已超过60条，请尝试删除一些其他的已标记数据）</span>;\n  }\n  const userMarkedData = userMarkedList.find(item => item.ver === recordVer);\n  if (userMarkedData) {\n    isUserMarked = true;\n  }\n  const globalMarkedData = globalMarkedList.find(item => item.ver === recordVer);\n  if (globalMarkedData) {\n    isGlobalMarked = true;\n  }\n\n  const uiVisitBuildDetailLink = buildUrl\n    ? <a key=\"pipeline\" href={buildUrl} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e => ste(e)}>\n      <img width=\"20px\" height=\"20px\" src={ICON_PIPELINE} /> 查看流水线</a>\n    : <a key=\"pipeline\" onClick={tipPluginOld} rel=\"noopener noreferrer\">\n      <img width=\"20px\" height=\"20px\" src={ICON_PIPELINE} /> 查看流水线</a>;\n  const uiVisitGitLink = git_repo_url\n    ? <a key=\"git\" href={`${git_repo_url}`} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e => ste(e)}>\n      <img width=\"22px\" height=\"20px\" src={ICON_GITCODE} /> 查看git</a>\n    : <a key=\"git\" onClick={tipPluginOld} rel=\"noopener noreferrer\">\n      <img width=\"22px\" height=\"20px\" src={ICON_GITCODE} /> 查看git</a>;\n\n  let appRenderHref = '';\n  if (state.subApp.is_local_render) {\n    appRenderHref = `${window.top.location.origin}/page/${record.sub_app_name}?ver=${verTag}`;\n  } else {\n    appRenderHref = `${state.subApp.render_app_host}?_appv=${verTag}` || '';\n  }\n\n  const switchVer = async (changeMode) => {\n    setCardLoading(true);\n    const res = await ccReducer.VersionList.updateAppVersion({ inputVersion: verTag, changeMode });\n    setCardLoading(false);\n    if (res && res.subApp) {\n      const label = changeMode === 'online' ? '线上' : '灰度';\n      message.success(`切换版本 ${verTag} 为${label}成功`);\n      emit([evNames.refreshTableCurPage, 'vTable']);\n      ccReducer.appStore.initAllPage();\n    }\n  };\n  const switchToOnline = (e) => (ste(e) && switchVer('online'));\n  const switchToGray = (e) => (ste(e) && switchVer('gray'));\n  const delUserMark = (e) => {\n    ste(e);\n    ccReducer.VersionList.delAppUserMark({ appName, ver: recordVer });\n  };\n  const delGlobalMark = (e) => {\n    ste(e);\n    ccReducer.VersionList.delAppGlobalMark({ appName, ver: recordVer });\n  };\n\n  let actions = [];\n  if (titleUiMode === 'hasTitle') {\n    actions = [\n      <a key=\"visit\" href={appRenderHref} target=\"_blank\" rel=\"noopener noreferrer\">\n        <img width=\"20px\" height=\"20px\" src={ICON_HEL} />访问应用\n      </a>,\n      uiVisitBuildDetailLink,\n      uiVisitGitLink,\n      <Tooltip key=\"online\" title=\"切换当前版本为线上版本\">\n        <span onClick={switchToOnline}><WindowsOutlined /><NormalSpanBlank />切为线上</span>\n      </Tooltip>,\n    ];\n    if (state.subApp.enable_gray === 1) {\n      actions.push(<Tooltip key=\"gray\" title=\"切换当前版本为灰度版本\">\n        <span onClick={switchToGray}><BugOutlined /><NormalSpanBlank />切为灰度</span>\n      </Tooltip>);\n    }\n  } else { // noTitle 模式，服务于【项目与版本】模块的选择功能\n    const selectAsProjVer = (e) => (ste(e) && emit('selectAsProjVer', record, 'online'));\n    const selectAsProjVer2 = (e) => (ste(e) && emit('selectAsProjVer', record, 'build'));\n    const selectAsProjVer3 = (e) => (ste(e) && emit('selectAsProjVer', record, 'ol_bu'));\n    actions = [\n      <Tooltip key=\"online\" title=\"选择当前版本为项目对应的【线上版本】\">\n        <span onClick={selectAsProjVer}><BranchesOutlined /><NormalSpanBlank />线上</span>\n      </Tooltip>,\n      <Tooltip key=\"build\" title=\"选择当前版本为项目对应【灰度版本】\">\n        <span onClick={selectAsProjVer2}><BranchesOutlined /><NormalSpanBlank />灰度</span>\n      </Tooltip>,\n      <Tooltip key=\"ol_bu\" title=\"选择当前版本为项目对应【线上版本】和【灰度版本】\">\n        <span onClick={selectAsProjVer3}><BranchesOutlined /><NormalSpanBlank />线上与灰度</span>\n      </Tooltip>,\n    ];\n  }\n\n  actions.push(<Popover placement=\"top\" content={<div style={{ width: '268px' }}>\n    <Tooltip title={<span>当前版本的元数据</span>}>\n      <Button style={stPopBtn} onClick={(e) => (ste(e) && emit('openMetaDataDrawer', record))}>元数据</Button>\n    </Tooltip>\n    <NormalSpanBlank />\n    <Tooltip title={<span>为当前版本添加个人标记，方便自己查看。{markUserWarnTip}</span>}>\n      <Button style={stPopBtn} disabled={disableMarkUser}\n        onClick={(e) => (ste(e) && emit('openMarkInfoModal', record, 'user'))}\n      >\n        个人标记\n      </Button>\n    </Tooltip>\n    <NormalSpanBlank />\n    <Tooltip title={<span>为当前版本添加全局标记，方便所有人查看。{globalMarkWarnTip}</span>}>\n      <Button style={stPopBtn} disabled={disableGlobalMark}\n        onClick={(e) => (ste(e) && emit('openMarkInfoModal', record, 'global'))}\n      >\n        全局标记\n      </Button>\n    </Tooltip>\n    <Tooltip title={<span>刷新版本缓存。{resetVerTip}</span>} placement=\"bottom\">\n      <Button style={stPopBtn} disabled={disableResetVer}\n        onClick={(e) => (ste(e) && emit('openResetVerModal', record))}\n      >\n        刷新缓存\n      </Button>\n    </Tooltip>\n    {isUserMarked && <>\n      <Tooltip title={<span>删除当前版本的个人标记</span>} placement=\"bottom\">\n        <Button style={stPopBtn} onClick={delUserMark}>个人标记删除</Button>\n      </Tooltip>\n      <NormalSpanBlank />\n    </>}\n    {(isAppOwner && isGlobalMarked) && <>\n      <Tooltip title={<span>删除当前版本的全局标记</span>} placement=\"bottom\">\n        <Button style={stPopBtn} onClick={delGlobalMark}>全局标记删除</Button>\n      </Tooltip>\n      <NormalSpanBlank />\n    </>}\n  </div>}>\n    <span onClick={ste}><SettingOutlined /><NormalSpanBlank />更多</span>\n  </Popover>);\n\n  return actions;\n}\n\n\nexport function buildUiGitHashLinks(/** @type {SubAppVersion} */record) {\n  let uiGitHashLinks = '';\n  const git_repo_url = record.git_repo_url || '';\n  const pureGitRepoUrl = git_repo_url.endsWith('.git') ? git_repo_url.substr(0, git_repo_url.length - 4) : git_repo_url;\n\n  const gitHashList = (record.git_hashes || '').split(',').filter(item => !!item);\n  const len = gitHashList.length;\n  if (len > 0) {\n    const contentAll = gitHashList.map((str, i) => {\n      return <div key={i} style={{ marginBottom: '6px' }}>\n        <a style={stHashWrap} target=\"_blank\" rel=\"noopener noreferrer\" href={`${pureGitRepoUrl}/commit/${str}`}>{str}</a>\n        <NormalSpanBlank /> <CopyOutlined onClick={() => {\n          copy(str);\n          message.success(`复制提交hash值 ${str} 成功`, 2);\n        }} />\n      </div>;\n    });\n\n    const seeAllHash = (e) => {\n      ste(e);\n      const stContent = { paddingTop: '12px', transform: 'translateX(-28px)', maxHeight: '600px', overflowY: 'auto' };\n      Modal.confirm({\n        title: <span>当前构建版本共包含<NormalSpanBlank /><Tag color=\"#87d068\">{len}</Tag>条提交记录</span>,\n        content: <div style={stContent}>{contentAll}</div>,\n        width: '520px',\n        getContainer: helUtil.getAppBodyContainer,\n        type: 'info',\n        cancelButtonProps: { style: { display: 'none' } },\n        okText: '确认',\n      });\n    };\n    const gitCheckoutStr = `git checkout -b hotfix/${gitHashList[0].substr(0, 8)} ${gitHashList[0]}`;\n    const copyGitCheckoutCmd = () => {\n      copy(gitCheckoutStr);\n      message.success(`检出命令复制成功：${gitCheckoutStr}`);\n    };\n\n    uiGitHashLinks = <>\n      <a style={stHashWrap} target=\"_blank\" rel=\"noopener noreferrer\"\n        href={`${pureGitRepoUrl}/commit/${gitHashList[0]}`} onClick={ste}\n      >\n        {gitHashList[0]}\n      </a>\n      <Tooltip title={<span>共<NormalSpanBlank /><Tag color=\"#87d068\">{len}</Tag>条提交记录，点击可查看</span>}>\n        <Tag color=\"#87d068\" onClick={seeAllHash} className=\"gHover\">{len}</Tag>\n      </Tooltip>\n      <Tooltip title={'点击复制基于此hash分支检出新分支的git命令'}>\n        <Tag onClick={copyGitCheckoutCmd} className=\"gHover\"> <GithubOutlined /></Tag>\n      </Tooltip>\n    </>;\n  }\n  return { pureGitRepoUrl, uiGitHashLinks };\n}\n\n\nexport function buildSwitchMarkTip(listMode = 'hasTitle') {\n  return inner.buildSwitchTip('tag', listMode);\n}\n\n\nexport function buildSwitchAllTip(listMode = 'hasTitle') {\n  return inner.buildSwitchTip('all', listMode);\n}\n\n\nexport function buildHelModCreationTutorialTip() {\n  return <Alert type=\"warning\" showIcon description={<>\n    当前应用还未发布过新版本，可参考以下资料学习：<br />\n    1. 发布远程js库<a target='blank' href=\"https://www.bilibili.com/video/BV15t4y1u7i5\">视频</a>\n    与<a target='blank' href=\"https://tencent.github.io/hel/docs/tutorial/helmod-dev\">文档</a>\n    <br />\n    2. 文章分享<a target='blank' href=\"https://juejin.cn/post/7139379656825765918\">模块联邦新革命</a>\n  </>} />;\n}\n","/* eslint-disable no-unused-vars,semi,react/prop-types */\n/** @typedef {import('types/domain').SubApp} SubApp */\n/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport React from 'react';\nimport { Row, Col, Tag, message, Button, Input, Divider, Spin, Radio, Alert, Tooltip } from 'antd';\nimport {\n  CloseCircleOutlined, CheckCircleOutlined, ExclamationCircleOutlined, SmileOutlined,\n  CopyOutlined, ArrowRightOutlined, BugOutlined, WindowsOutlined,\n} from '@ant-design/icons';\nimport copy from 'copy-to-clipboard';\nimport { useC2Mod, typeCtxM, getModelState } from 'services/concent';\nimport GeneralTable from 'components/GeneralTable';\nimport { NormalBlank, NormalSpanBlank, VerticalBlank } from 'components/dumb/Blank';\nimport { VERSION_LIST } from 'configs/constant/ccModule';\nimport { getAppPipelineProjSpace } from 'services/common';\nimport * as dateUtil from 'utils/date';\nimport * as helper from './logic/helper';\n\nconst stTitle = {\n  color: 'rgba(0,0,0,.7)',\n  verticalAlign: 'top',\n};\nconst stCol = { minHeight: '26px' };\n\nconst listModeOptions = [\n  { label: '全部', value: 'all' },\n  { label: '已标记', value: 'tag' },\n];\n\nconst Label = (props) => <span style={{ color: '#838383de' }}>{props.children}</span>;\n\nconst Title = React.memo(() => {\n  const { state, syncer, sync, mr } = useC2Mod(VERSION_LIST, { tag: 'VTableTitle' });\n  const placeholder = state.changeMode === 'gray' ? '请输入欲修改的灰度版本' : '请输入欲修改的线上版本';\n  const inputTitle = state.changeMode === 'gray'\n    ? <><BugOutlined /><NormalBlank /><span style={{ color: 'grey' }}>灰度版本: </span></>\n    : <><WindowsOutlined /><NormalBlank /><span style={{ color: 'blue' }}>线上版本:  </span></>;\n  const uiGrayEnabled = state.subApp.enable_gray === 1\n    ? <span>灰度功能：<Label>已启用</Label> <CheckCircleOutlined style={{ color: 'green' }} /><Divider type=\"vertical\" /></span>\n    : <span>灰度功能：<Label>未启用</Label> <CloseCircleOutlined style={{ color: 'red' }} /><Divider type=\"vertical\" /></span>;\n\n  let uiGrayStatus = '';\n  let uiGrayUsers = '';\n  if (state.subApp.enable_gray === 1) {\n    uiGrayStatus = <span>\n      灰度版本：<Label>{state.subApp.build_version}</Label> <Divider type=\"vertical\" />\n      灰度状态： {state.subApp.is_in_gray\n        ? <><Label>灰度中</Label> <ExclamationCircleOutlined style={{ color: 'red' }} /></>\n        : <><Label>已通过</Label> <SmileOutlined style={{ color: 'green' }} /></>\n      }\n    </span>\n    uiGrayUsers = <div style={{ wordBreak: 'break-all', wordWrap: 'break-word' }}>\n      灰度名单：<Label>{state.subApp.gray_users.join(',')}</Label>\n    </div>\n  }\n\n  let uiChangeGrayVerBtn = '';\n  if (state.subApp.enable_gray === 1) {\n    uiChangeGrayVerBtn = <>\n      <Button onClick={mr.showChangeGrayInput} danger>切换灰度版本</Button>\n      <NormalBlank />\n    </>;\n  }\n\n  let uiAgreeGray = '';\n  // 只要处于灰度中，就显示灰度通过按钮\n  if (state.subApp.is_in_gray) {\n    uiAgreeGray = <>\n      <Button loading={state.grayBtnLoading} type=\"primary\" onClick={mr.clickAgreeGrayBtn}>灰度通过</Button>\n      <NormalBlank />\n    </>\n  }\n\n  const { user } = getModelState('portal').userInfo;\n  return <div>\n    <div>你好，亲爱的用户{user}，\n      Hel 已为该应用一共构建了 <Tag color={helper.tagColors.online}>{state.buildTotal}</Tag>个版本\n      （包含 <Tag color={helper.tagColors.globalMarked}>{state.markTotal}</Tag>个标记版本）\n    </div>\n    <div>线上版本：<Label>{state.subApp.online_version}</Label></div>\n    <div>{uiGrayEnabled}{uiGrayStatus}</div>\n    {uiGrayUsers}\n    <div style={{ float: 'right', margin: '12px 12px 0 0' }}>\n      <Radio.Group options={listModeOptions} onChange={e => mr.changeListMode(e.target.value)}\n        value={state.listMode} style={{ width: '150px' }}\n      />\n      <NormalBlank />\n      {uiAgreeGray}\n      {uiChangeGrayVerBtn}\n      <Tooltip title=\"注入指定版本作为在线版本，并点击确认按钮来完成切换\">\n        <Button onClick={mr.showChangeOnlineInput} danger>切换在线版本</Button>\n      </Tooltip>\n      <NormalBlank />\n      <Button onClick={mr.freshSubAppAssociateAndTable}>刷新</Button>\n    </div>\n    {state.showInput\n      ? <div style={{ float: 'right', marginRight: '12px', width: '100%' }}>\n        <VerticalBlank height=\"12px\" />\n        <div style={{ float: 'right' }}>\n          {inputTitle}\n          <Input style={{ width: '360px' }} value={state.inputVersion} onChange={syncer.inputVersion} placeholder={placeholder} />\n          <NormalBlank />\n          <Button loading={state.updateLoading} type=\"primary\" onClick={mr.clickUpdateVersionBtn}>确认</Button>\n          <NormalBlank />\n          <Button onClick={sync('showInput', false)}>取消</Button>\n        </div>\n      </div>\n      : ''\n    }\n  </div>\n});\n\nconst renderVersion = (record, tableCtx, titleUiMode = 'hasTitle') => {\n  const [cardLoading, setCardLoading] = React.useState(false);\n  const { hasTopPagination, total, uiPagination } = tableCtx;\n  const { $uiType } = record;\n  if ($uiType === 'topPagination') { // 加一个顶部的分页组件\n    return hasTopPagination && total > 5 && uiPagination;\n  }\n  if ($uiType === 'switchAllTip' || $uiType === 'switchMarkTip') {\n    if (total === 0) {\n      return helper.buildHelModCreationTutorialTip(titleUiMode);\n    }\n    return $uiType === 'switchAllTip'\n      ? helper.buildSwitchAllTip(titleUiMode)\n      : helper.buildSwitchMarkTip(titleUiMode);\n  }\n\n  // 以下开始正常渲染逻辑\n  const {\n    uiConner, stCard, CardComp, uiGlobalMarkDesc, uiUserMarkDesc,\n  } = helper.buildConnerAndStCard(record, { stTitle, stCol });\n  const actions = helper.buildCardActions(record, setCardLoading, titleUiMode);\n  const { pureGitRepoUrl, uiGitHashLinks } = helper.buildUiGitHashLinks(record);\n  const verStr = record.version_tag || record.sub_app_version;\n\n  const copyVersion = (e) => {\n    helper.ste(e);\n    copy(verStr);\n    message.success(`复制版本号 ${verStr} 成功`, 1);\n  };\n  const copyGitBranch = (e) => {\n    helper.ste(e);\n    copy(record.git_branch);\n    message.success(`复制分支 ${record.git_branch} 成功`, 1);\n  };\n\n  return <Spin spinning={cardLoading}>\n    <CardComp actions={actions} style={stCard} hoverable={true}>\n      <Row gutter={5} style={{ position: 'relative' }}>\n        <Col span=\"13\" style={stCol}><span style={stTitle}>版本号：</span>{verStr} <CopyOutlined onClick={copyVersion} /></Col>\n        <Col span=\"11\" style={stCol}><span style={stTitle}>构建时间：</span>{dateUtil.tryGetLocaleStrOfISOStr(record.create_at)}</Col>\n        <Col span=\"13\" style={stCol}>\n          <span style={stTitle}>触发者：</span>\n          {record.create_by}\n        </Col>\n        <Col span=\"11\" style={{ ...stCol, verticalAlign: 'top' }}>\n          <span style={stTitle}>构建分支：</span> {record.git_branch} <NormalSpanBlank />\n          <CopyOutlined onClick={copyGitBranch} /><NormalSpanBlank />\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={`${pureGitRepoUrl}/tree/${record.git_branch}`} onClick={helper.ste}>\n            <ArrowRightOutlined />\n          </a>\n        </Col>\n        <Col span=\"13\" style={stCol}><span style={stTitle}>git 提交 hash：</span>{uiGitHashLinks}</Col>\n        <Col span=\"11\" style={stCol}>\n          <span style={stTitle}>蓝盾项目空间：</span>{record.project_name}<NormalSpanBlank />\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={getAppPipelineProjSpace(record)} onClick={helper.ste}>\n            <ArrowRightOutlined />\n          </a>\n        </Col>\n        <Col span=\"24\" style={stCol}><span style={stTitle}>git提交描述：</span>{record.desc}</Col>\n        {uiGlobalMarkDesc}\n        {uiUserMarkDesc}\n        {uiConner}\n      </Row>\n    </CardComp>\n  </Spin>;\n};\n\n\n/** @type {()=>import('antd/lib/table/interface').ColumnsType<SubAppVersion>} */\nconst getColumns = (tableCtx) => [\n  {\n    key: 'op',\n    title: () => <Title />,\n    render: (val, record) => renderVersion(record, tableCtx),\n  },\n];\n\nconst titleTip = \"请从以下版本列表里选择一版作为项目id的对应版本，注意需点击版本卡片底部的【线上】、【灰度】、【线上与灰度】按钮来完成选择操作\";\nconst getNoTitleColumns = (tableCtx) => [\n  {\n    key: 'op',\n    title: () => <Alert type=\"info\" message={titleTip} />,\n    render: (val, record) => renderVersion(record, tableCtx, 'noTitle'),\n  },\n];\n\n\nfunction setup(c) {\n  const ctx = typeCtxM(VERSION_LIST, {}, c);\n  const ins = ctx.initState({ pFetchSubAppEnd: false });\n\n  ctx.mr.freshSubAppAssociate(ctx.props.name).then(() => {\n    ins.setState({ pFetchSubAppEnd: true });\n  });\n\n  return {\n    ins,\n    fetchFn: ctx.mr.fetchVersionList,\n    pageSizeOptions: ['10', '20', '30'],\n  };\n}\n\nfunction AppVersionList(props) {\n  const { titleUiMode = 'hasTitle' } = props;\n  const { settings } = useC2Mod(VERSION_LIST, { setup, props, tag: 'AppVersionList' });\n  const getColumnsFn = titleUiMode === 'hasTitle' ? getColumns : getNoTitleColumns;\n  const { state } = settings.ins;\n\n  return (\n    <>\n      {state.pFetchSubAppEnd && (\n        <GeneralTable tid=\"vTable\" fetchFn={settings.fetchFn} getColumns={getColumnsFn}\n          pageSizeOptions={settings.pageSizeOptions} hasTopPagination={true}\n        />\n      )}\n    </>\n  );\n}\n\nAppVersionList.displayName = 'AppVersionList';\n\nexport default React.memo(AppVersionList);\n","/* eslint-disable no-unused-vars,semi,react/prop-types */\n/** @typedef {import('types/domain').SubApp} SubApp */\n/** @typedef {import('types/domain').IServerModStat} IServerModStat */\nimport React from 'react';\nimport { Row, Card, Col, Tag, message, Button, Radio } from 'antd';\nimport { CopyOutlined } from '@ant-design/icons';\nimport copy from 'copy-to-clipboard';\nimport { useC2Mod, typeCtxM, getModelState } from 'services/concent';\nimport GeneralTable from 'components/GeneralTable';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport { SERVER_MOD_LIST } from 'configs/constant/ccModule';\nimport * as dateUtil from 'utils/date';\nimport * as helper from './logic/helper';\nimport styles from './styles.module.css';\n\nconst stTitle = {\n  color: 'rgba(0,0,0,.7)',\n  verticalAlign: 'top',\n};\nconst stCol = { minHeight: '26px' };\n\nconst listModeOptions = [\n  { label: '卡片', value: 'card' },\n  { label: '表格', value: 'table' },\n];\n\nconst MyCol = (props) => {\n  const { span = \"12\", colStyle = stCol, titleStyle = stTitle, title, label } = props;\n  const copyLabel = (e) => {\n    helper.ste(e);\n    copy(label);\n    message.success(`复制${title} ${label} 成功`, 1);\n  };\n\n  return (\n    <Col span={span} style={colStyle}>\n      <span style={titleStyle}>{title}：</span>\n      {label} <CopyOutlined onClick={copyLabel} />\n    </Col>\n  )\n};\n\nconst Head = React.memo(() => {\n  const { state, mr } = useC2Mod(SERVER_MOD_LIST, { tag: 'SMHead' });\n  const { user } = getModelState('portal').userInfo;\n\n  return <div>\n    <div>你好，亲爱的用户\n      {user}，\n      当前模块共运行在 <Tag color={helper.tagColors.online}>{state.total}</Tag>个Node服务上\n    </div>\n    <div style={{ float: 'right', margin: '12px 12px 0 0' }}>\n      列表模式：\n      <Radio.Group options={listModeOptions} onChange={e => mr.changeListMode(e.target.value)}\n        value={state.listMode} style={{ width: '150px' }}\n      />\n      <NormalBlank />\n      <Button onClick={mr.refreshTableCurPage}>刷新</Button>\n    </div>\n  </div>\n});\n\nconst renderCard = (/** @type {IServerModStat} */ record) => {\n  const loadAt = dateUtil.tryGetLocaleStrOfISOStr(record.load_at);\n  return <Card className={styles.srvModCardWrap} hoverable={true}>\n    <div className={styles.srvModJsLogo} />\n    <Row gutter={5} style={{ position: 'relative' }}>\n      <MyCol title=\"模块版本\" label={record.mod_version} />\n      <MyCol title=\"载入时间\" label={loadAt} />\n      <MyCol title=\"环境\" label={record.env_name} />\n      <MyCol title=\"容器名称\" label={record.container_name} />\n      <MyCol title=\"容器ip\" label={record.container_ip} />\n      <MyCol title=\"pod名称\" label={record.pod_name} />\n      <MyCol title=\"镜像名称\" label={record.img_version} />\n      <MyCol title=\"城市\" label={record.city} />\n    </Row>\n  </Card>;\n};\n\n/** @type {()=>import('antd/lib/table/interface').ColumnsType<IServerModStat>} */\nconst getCardColumns = () => [\n  {\n    key: 'op',\n    title: () => <span />,\n    render: (val, record) => renderCard(record),\n  },\n];\n\nconst getColumns = () => [\n  { dataIndex: 'mod_version', title: '模块版本' },\n  { dataIndex: 'load_at', title: '载入时间', render: val => dateUtil.tryGetLocaleStrOfISOStr(val) },\n  { dataIndex: 'env_name', title: '环境' },\n  { dataIndex: 'container_name', title: '容器名称' },\n  { dataIndex: 'container_ip', title: '容器ip' },\n  { dataIndex: 'pod_name', title: 'pod名称' },\n  { dataIndex: 'img_version', title: '镜像名称' },\n  { dataIndex: 'city', title: '城市' },\n];\n\nfunction setup(c) {\n  const ctx = typeCtxM(SERVER_MOD_LIST, {}, c);\n  ctx.setState({ subAppName: ctx.props.name });\n\n  return {\n    fetchFn: ctx.mr.fetchDataList,\n    pageSizeOptions: ['10', '20', '30'],\n  };\n}\n\nfunction ServerModList(props) {\n  const { settings, state } = useC2Mod(SERVER_MOD_LIST, { setup, props, tag: 'ServerModList' });\n  const isCard = state.listMode === 'card';\n  const getColumnsFn = isCard ? getCardColumns : getColumns;\n\n  return (\n    <>\n      <Head />\n      <GeneralTable tid=\"smTable\" fetchFn={settings.fetchFn} getColumns={getColumnsFn}\n        pageSizeOptions={settings.pageSizeOptions} hasTopPagination={true} noTableHead={isCard}\n      />\n    </>\n  );\n}\n\nServerModList.displayName = 'ServerModList';\n\nexport default React.memo(ServerModList);\n","/* eslint-disable no-unused-vars,semi,react/prop-types */\n/** @typedef {import('types/domain').SubApp} SubApp */\n/** @typedef {import('types/domain').SubAppVersion} SubAppVersion */\nimport React from 'react';\nimport { Alert, Button, Card, message, Radio, Spin } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { useC2Mod, typeCtxM, getModelComputed, getModelState } from 'services/concent';\nimport * as allowedAppSrv from 'services/allowedApp';\nimport { APP_STORE } from 'configs/constant/ccModule';\nimport { VerticalBlank, NormalBlank } from 'components/dumb/Blank';\nimport * as objUtil from 'utils/object';\nimport { getMetaApiUrl } from 'utils/url';\nimport s from 'styles/common.module.css';\n\nconst allowedOptions = [{ value: true, label: '是' }, { value: false, label: '否' }];\n\nfunction setup(c) {\n  const ctx = typeCtxM(APP_STORE, {}, c);\n  const ins = ctx.initState({\n    pSubApp: ctx.props.subApp || {},\n    pResetAppInfoBtnLoading: false,\n    pAllowOutAccessBtnLoading: false,\n    pAllowOutAccessCardLoading: false,\n    isAllowed: false,\n    isAllowedOri: false,\n  });\n\n  const getName = () => {\n    const { name } = ins.state.pSubApp;\n    if (!name) {\n      throw new Error('缺失应用名');\n    }\n    return name;\n  };\n\n  const initAllowedData = async () => {\n    try {\n      ins.setState({ pAllowOutAccessCardLoading: true });\n      const name = getName();\n      const isAllowed = await allowedAppSrv.getIsAppAllowed(name);\n      ins.setState({ pAllowOutAccessCardLoading: false, isAllowed, isAllowedOri: isAllowed });\n    } catch (err) {\n      message.error(err.message);\n      ins.setState({ pAllowOutAccessBtnLoading: false });\n    }\n  };\n\n  ctx.effect(() => {\n    initAllowedData();\n  }, []);\n\n  const settings = {\n    ins,\n    isUserAdmin() {\n      const isAdmin = getModelComputed('portal').isAdmin;\n      return isAdmin;\n    },\n    getCanNotEditTip() {\n      const { owners = [], create_by: createBy } = ins.state.pSubApp;\n      const allOwners = owners.slice();\n      objUtil.noDupPush(allOwners, createBy);\n      return `暂不能修改设置，请联系${allOwners.join(',')}`;\n    },\n    canEdit() {\n      const user = getModelState('portal').userInfo.user;\n      const { owners = [], create_by: createBy } = ins.state.pSubApp;\n      return settings.isUserAdmin() || owners.includes(user) || createBy === user;\n    },\n    async resetAppInfo() {\n      try {\n        const name = getName();\n        ins.setState({ pResetAppInfoBtnLoading: true });\n        await ctx.mr.resetAppInfoCache(name);\n        message.success(`刷新应用 ${name} 缓存成功`);\n        ins.setState({ pResetAppInfoBtnLoading: false });\n      } catch (err) {\n        message.error(err.message);\n        ins.setState({ pResetAppInfoBtnLoading: false });\n      }\n    },\n    async changeAllowed() {\n      try {\n        if (!settings.canEdit()) {\n          return message.error(settings.getCanNotEditTip());\n        }\n\n        const name = getName();\n        const { isAllowed } = ins.state;\n        ins.setState({ pAllowOutAccessBtnLoading: true });\n        await allowedAppSrv.changeAllowed(name, isAllowed);\n        message.success(`修改应用 ${name} 允许外网访问设置成功`);\n        ins.setState({ pAllowOutAccessBtnLoading: false, isAllowed, isAllowedOri: isAllowed });\n      } catch (err) {\n        message.error(err.message);\n        console.trace(err);\n        ins.setState({ pAllowOutAccessBtnLoading: false, isAllowed: ins.state.isAllowedOri });\n      }\n    },\n    onAllowedChanged(e) {\n      ins.setState({ isAllowed: e.target.value });\n    },\n  };\n\n  return settings;\n}\n\nfunction Setting(props) {\n  const { settings } = useC2Mod(APP_STORE, { setup, props });\n  const { state } = settings.ins;\n\n  return (\n    <>\n      {settings.isUserAdmin() && (\n        <Alert type=\"info\" message=\"你正在以超管身份修改应用设置\" />\n      )}\n      {!settings.canEdit() && (\n        <Alert type=\"warning\" message={settings.getCanNotEditTip()} />\n      )}\n      <Card>\n        <Button type=\"primary\"\n          disabled={!settings.canEdit()}\n          onClick={settings.resetAppInfo}\n          loading={state.pResetAppInfoBtnLoading}\n        >\n          刷新应用缓存\n        </Button>\n        <VerticalBlank height=\"8px\" />\n        <span className={s.tipLabelWrap}>\n          <ExclamationCircleOutlined />\n          <NormalBlank />\n          刷新 app_info 数据，仅当修改了数据库里的 app_info 数据时，点击此按钮才有意义\n        </span>\n      </Card>\n      <VerticalBlank />\n      <Card>\n        <Spin spinning={state.pAllowOutAccessCardLoading}>\n          <div>\n            <Button type=\"link\">允许外网访问</Button>\n            <NormalBlank />\n            <Radio.Group options={allowedOptions} value={state.isAllowed} onChange={settings.onAllowedChanged} />\n            <Button type=\"primary\"\n              disabled={!settings.canEdit()}\n              onClick={settings.changeAllowed}\n              loading={state.pAllowOutAccessBtnLoading}\n            >\n              确认修改\n            </Button>\n          </div>\n        </Spin>\n        <VerticalBlank height=\"8px\" />\n        <span className={s.tipLabelWrap}>\n          <ExclamationCircleOutlined />\n          <NormalBlank />\n          开启此功能后，元数据获取<a href={getMetaApiUrl(state.pSubApp.name)} target=\"_blank\" rel=\"noopener noreferrer\">外网接口</a>才可用\n        </span>\n      </Card>\n    </>\n  );\n}\n\nSetting.displayName = 'Setting';\n\nexport default React.memo(Setting);\n","/* eslint-disable */\nimport React from 'react';\nimport { Drawer } from 'antd';\nimport { useC2Mod, typeCtxDe } from 'services/concent';\nimport { VERSION_LIST } from 'configs/constant/ccModule';\nimport AppVersionList from '../AppVersionList';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    subApp: null,\n    visible: false,\n  });\n  ctx.on('openSelectVersionLayer', (subApp) => {\n    ins.setState({ subApp, visible: true });\n  });\n  ctx.on('closeSelectVersionLayer', () => {\n    ins.setState({ visible: false });\n  });\n\n  const settings = {\n    ins,\n    close() {\n      ins.setState({ visible: false });\n    },\n  };\n  return settings;\n}\n\nfunction SelectVersionLayer(props) {\n  const { settings } = useC2Mod(VERSION_LIST, { setup });\n  const { ins } = settings;\n\n  return <Drawer visible={ins.state.visible} width=\"1200px\" onClose={settings.close}>\n    <AppVersionList subApp={ins.state.subApp} titleUiMode=\"noTitle\" />\n  </Drawer>\n}\n\nSelectVersionLayer.displayName = 'SelectVersionLayer';\n\nexport default SelectVersionLayer;","/* eslint-disable */\n/** @typedef {import('hel-types').ISubAppVersion} ISubAppVersion*/\n/** @typedef {import('hel-types').ISubApp} ISubApp*/\nimport React from 'react';\nimport { Row, Col, Form, Button, Input, Alert, Empty, Tag, Popover, Tooltip, Spin, Switch } from 'antd';\nimport {\n  PlusOutlined, CheckOutlined, CopyOutlined, CloseCircleOutlined, FileSyncOutlined, ReloadOutlined,\n  ExclamationOutlined,\n} from '@ant-design/icons';\nimport { useC2Mod, typeCtxM } from 'services/concent';\nimport * as message from 'services/message';\nimport { VERSION_LIST } from 'configs/constant/ccModule';\nimport { VerticalBlank, NormalSpanBlank } from 'components/dumb/Blank';\nimport { nodupStrPush } from 'utils/array';\nimport { clone } from 'utils/object';\nimport regs from 'utils/regs';\nimport SelectVersionLayer from './SelectVersionLayer';\nimport styles from '../styles.module.css';\n\nconst ITEM_LIMIT = 36;\n\nlet seed = 1;\nfunction getLineId() {\n  seed += 1;\n  return seed;\n}\n\nfunction IdInput(props) {\n  const color = '#00000073';\n  let curLenColor = color;\n  const valueLen = props.value.length;\n  if (valueLen > 30) {\n    curLenColor = 'red';\n  }\n  return <span>\n    <Input value={props.value} onChange={props.onChange} style={props.style} />\n    <span style={{ color, paddingLeft: '8px' }}><span style={{ color: curLenColor }}>{valueLen}</span>/30</span>\n  </span>;\n}\n\nfunction VersionInput(props) {\n  const { value: versionId, allowManualInput, syncer } = props;\n  return <span>\n    <Input\n      value={versionId}\n      disabled={!allowManualInput}\n      placeholder=\"点【选择】录入版本号\"\n      style={props.style}\n      onChange={syncer}\n    />\n    <Popover content={<div>\n      <Alert message={<div>\n        复制规则说明：\n        <VerticalBlank height=\"14px\" />\n        <span style={{ color: 'grey', fontWeight: 300 }}>\n          <p>横向复制: 将此单元格的版本号值复制到同一行其他单元格</p>\n          <p>纵向复制: 将此单元格的版本号值复制到同一列其他单元格</p>\n          <p>全方向复制: 将此单元格的版本号值复制到剩余的所有单元格</p>\n        </span>\n      </div>}></Alert>\n      <div style={{ textAlign: 'center', marginTop: '12px' }}>\n        <Button onClick={() => props.copyToRow(versionId, props.uiId)}>横向复制</Button>\n        <NormalSpanBlank />\n        <Button onClick={() => props.copyToCol(versionId, props.verKey)}>纵向复制</Button>\n        <NormalSpanBlank />\n        <Button onClick={() => props.copyToAll(versionId)}>全方向复制</Button>\n      </div>\n    </div>}>\n      <NormalSpanBlank />\n      <CopyOutlined style={{ color: 'grey' }} />\n    </Popover>\n    <NormalSpanBlank />\n    <Tooltip title=\"点击清除当前单元格选择的版本号\">\n      <CloseCircleOutlined onClick={() => props.delCellVer(props.uiId, props.verKey)} style={{ color: 'grey' }} />\n    </Tooltip>\n  </span>;\n}\n\nfunction OpLine(props) {\n  const { onlineVerIdSyncer, buildVerIdSyncer, item } = props;\n  const { id, onlineVerId, buildVerId } = item;\n  const inputStyle = { width: '82%' };\n\n  return <Row style={{ marginBottom: '12px' }}>\n    <Col span={7} style={{ textAlign: 'center' }}>\n      <Tag style={{ color: '#00000073' }}>{props.idx + 1}</Tag>\n      <IdInput value={id} onChange={props.syncer} style={{ width: '73%' }} />\n    </Col>\n    <Col span={7} style={{ textAlign: 'center' }}>\n      <VersionInput {...props} value={onlineVerId} syncer={onlineVerIdSyncer} verKey=\"onlineVerId\" style={inputStyle} />\n    </Col>\n    <Col span={7} style={{ textAlign: 'center' }}>\n      <VersionInput {...props} value={buildVerId} syncer={buildVerIdSyncer} verKey=\"buildVerId\" style={inputStyle} />\n    </Col>\n    <Col span={3} style={{ textAlign: 'center' }}>\n      <Button onClick={props.selectVersion} type=\"link\" style={{ padding: '2px' }}>选择</Button>\n      <NormalSpanBlank />\n      <Button onClick={props.addItem} type=\"link\" style={{ padding: '2px' }}>增加</Button>\n      <NormalSpanBlank />\n      <Button onClick={props.delItem} type=\"link\" style={{ padding: '2px' }} danger>删除</Button>\n    </Col>\n  </Row>;\n}\n\nfunction setup(c) {\n  const ctx = typeCtxM(VERSION_LIST, {}, c);\n  const getDataList = (map) => {\n    const dataList = [];\n    Object.keys(map).forEach(key => {\n      const { o = '', b = '' } = map[key];\n      dataList.push({ id: key, uiId: getLineId(), onlineVerId: o, buildVerId: b });\n    });\n    return dataList;\n  }\n  const getInitialState = (pFetchSubAppEnd = true) => {\n    return {\n      pLineDataList: [],\n      mapBackup: null,\n      pFetchSubAppEnd,\n      pAllowManualInput: false,\n      idx: 0, // 修改的是第几行数据\n    };\n  };\n  const gerProjVerMap = (/** @type {ISubApp} */subApp) => {\n    const projVer = subApp.proj_ver || {};\n    const map = projVer.map || {};\n    const mapBackup = clone(map);;\n    return mapBackup;\n  };\n\n  const ins = ctx.initState(getInitialState(false));\n  ctx.mr.freshSubAppAssociate(ctx.props.name).then(() => {\n    const mapBackup = gerProjVerMap(ctx.state.subApp);\n    ins.setState({ pFetchSubAppEnd: true, mapBackup, pLineDataList: getDataList(mapBackup) });\n  });\n\n  ctx.on('selectAsProjVer', (/** @type ISubAppVersion */selVersion, selType) => {\n    const { pLineDataList, idx } = ins.state;\n    const { sub_app_version, version_tag } = selVersion;\n    const verStr = version_tag || sub_app_version;\n    const item = pLineDataList[idx];\n    if (item) {\n      if (selType === 'online') {\n        item.onlineVerId = verStr;\n      } else if (selType === 'build') {\n        item.buildVerId = verStr;\n      } else if (selType === 'ol_bu') {\n        item.onlineVerId = verStr;\n        item.buildVerId = verStr;\n      } else {\n        alert(`unknown selType ${selType}`);\n        return;\n      }\n\n      const lineNo = idx + 1;\n      const tipNoId = !item.id ? '，请注意当前行数还未录入【项目id】数据' : '';\n      message.info(`选择版本号 [${verStr}] 录入到第${lineNo}行${tipNoId}`, 1);\n      ins.setState({ pLineDataList });\n    }\n    ctx.emit('closeSelectVersionLayer');\n  });\n\n  const settings = {\n    ins,\n    recover() {\n      const map = clone(ins.state.mapBackup || {});\n      ins.setState({ pLineDataList: getDataList(map) });\n    },\n    submit() {\n      const { pLineDataList } = ins.state;\n\n      const nameList = [];\n      let hasEmptyId = false;\n      let hasEmptyVersionId = false;\n      let idInvalidTip = '';\n      let idTooLongTip = '';\n      let checkTip = '';\n      pLineDataList.forEach((item, idx) => {\n        const { id, onlineVerId } = item;\n        const tmpCheckTip = `请检查第${idx + 1}项！`;\n\n        if (!id) {\n          hasEmptyId = true;\n          checkTip = tmpCheckTip;\n        } else if (!regs.letterOrNum.test(id)) {\n          idInvalidTip = `${tmpCheckTip}id命名只能是包含大小写字母、数字、中横线、下横线 四种符号的组合`;\n        }\n        if (id.length > 30) {\n          idTooLongTip = `${tmpCheckTip}id命名长度不能大于30个字符`;\n        }\n        if (!onlineVerId) {\n          checkTip = tmpCheckTip;\n          hasEmptyVersionId = true;\n        }\n        nodupStrPush(nameList, id);\n      });\n\n      if (idInvalidTip) {\n        return message.error(idInvalidTip);\n      }\n      if (idTooLongTip) {\n        return message.error(idTooLongTip);\n      }\n      if (hasEmptyVersionId) {\n        return message.error(`存在有未选择版本号的配置项，${checkTip}`);\n      }\n      if (hasEmptyId) {\n        return message.error(`存在有未填写的项目id，${checkTip}`);\n      }\n      if (nameList.length < pLineDataList.length) {\n        return message.error(`存在有重复的项目id，请检查`);\n      }\n\n      ctx.mr.updateProjVer(pLineDataList);\n    },\n    selectVersion(idx) {\n      ins.setState({ idx });\n      ctx.emit('openSelectVersionLayer', ctx.state.subApp);\n    },\n    delItem(idx) {\n      const { pLineDataList } = ins.state;\n      pLineDataList.splice(idx, 1);\n      message.warn('删除成功，注意需点击【确认】按钮后才会生效');\n      ins.setState({ pLineDataList });\n    },\n    addItem(idx) {\n      const { pLineDataList } = ins.state;\n      if (pLineDataList.length === ITEM_LIMIT) {\n        return message.warn(`最多只能添加${ITEM_LIMIT}组映射关系`);\n      }\n      pLineDataList.splice(idx, 0, { uiId: getLineId(), id: '', onlineVerId: '', buildVerId: '' })\n      ins.setState({ pLineDataList });\n    },\n    copyToRow(versionId, uiId) {\n      const { pLineDataList } = ins.state;\n      const item = pLineDataList.find(item => item.uiId === uiId);\n      if (item) {\n        if (!versionId) {\n          return message.warn('横向复制失败，请先为单元格选择一个版本号');\n        }\n        item.onlineVerId = versionId;\n        item.buildVerId = versionId;\n        message.warn('横向复制成功，注意需点击【确认】按钮后才会生效');\n        ins.setState({ pLineDataList: pLineDataList.slice() });\n      }\n    },\n    copyToCol(versionId, verKey) {\n      if (!versionId) {\n        return message.warn('纵向复制失败，请先为单元格选择一个版本号');\n      }\n      const { pLineDataList } = ins.state;\n      pLineDataList.forEach(item => item[verKey] = versionId);\n      message.warn('纵向复制成功，注意需点击【确认】按钮后才会生效');\n      ins.setState({ pLineDataList });\n    },\n    copyToAll(versionId) {\n      if (!versionId) {\n        return message.warn('全方向复制失败，请先为单元格选择一个版本号');\n      }\n      const { pLineDataList } = ins.state;\n      pLineDataList.forEach(item => {\n        item.onlineVerId = versionId;\n        item.buildVerId = versionId;\n      });\n      message.warn('全方向复制成功，注意需点击【确认】按钮后才会生效');\n      ins.setState({ pLineDataList });\n    },\n    delCellVer(uiId, verKey) {\n      const { pLineDataList } = ins.state;\n      const item = pLineDataList.find(item => item.uiId === uiId);\n      if (item) {\n        const versionId = item[verKey];\n        if (!versionId) {\n          return message.warn('清除无效，当前单元格无版本号');\n        }\n        item[verKey] = '';\n        message.warn('清除成功');\n        ins.setState({ pLineDataList });\n      }\n    },\n    async refresh() {\n      ctx.setState({ projVerAreaLoading: true });\n      await ctx.mr.freshSubAppAssociate();\n      const mapBackup = gerProjVerMap(ctx.state.subApp);\n      const initial = getInitialState();\n      await ctx.setState({\n        ...initial,\n        projVerAreaLoading: false,\n        mapBackup,\n        pLineDataList: getDataList(mapBackup),\n      });\n    }\n  };\n  return settings;\n}\n\nfunction ProjVerMap(props) {\n  const { settings: se, state } = useC2Mod(VERSION_LIST, { setup, props, tag: 'ProjVerMap' });\n  const { ins } = se;\n  const list = ins.state.pLineDataList;\n\n  return <div>\n    <div className={styles.controlLine}>\n      <div className={styles.controlArea}>\n        <Tooltip\n          title={(<>\n            <ExclamationOutlined style={{ color: 'red', fontWeight: 900 }} />\n            手动录入版本，用户需自己承担录错版本号带来的异常结果\n          </>\n          )}\n        >\n          <Switch checkedChildren=\"手动录入\" unCheckedChildren=\"手动录入\"\n            checked={ins.state.pAllowManualInput} onChange={ins.syncer.pAllowManualInput}\n          />\n        </Tooltip>\n        <NormalSpanBlank />\n        <Tooltip title=\"刷新项目id与版本映射关系\">\n          <Button type=\"primary\" size=\"small\" className={`gHover ${styles.controlItem}`}\n            onClick={se.refresh} icon={<ReloadOutlined />}\n          >刷新</Button>\n        </Tooltip>\n      </div>\n    </div>\n    <Alert showIcon type=\"info\" message=\"通过自定义【项目id】与【版本号】的映射关系，可以支持让不同项目里的 hel-micro sdk \n      拉取同一个应用的不同时期的构建版本号（注：目前只支持添加最多36组映射关系）。\"\n    />\n    <VerticalBlank />\n    <Row style={{ marginBottom: '12px', backgroundColor: '#f4f5f5', padding: '6px' }}>\n      <Col span={7} style={{ textAlign: 'center', borderRight: '1px solid lightgrey' }}>\n        项目id<NormalSpanBlank /><Tag color=\"blue\" style={{ verticalAlign: 'bottom' }}>必须</Tag>\n      </Col>\n      <Col span={7} style={{ textAlign: 'center', borderRight: '1px solid lightgrey' }}>\n        线上版本号<NormalSpanBlank /><Tag color=\"blue\" style={{ verticalAlign: 'bottom' }}>必须</Tag>\n      </Col>\n      <Col span={7} style={{ textAlign: 'center', borderRight: '1px solid lightgrey' }}>\n        灰度版本号<NormalSpanBlank /><Tag style={{ verticalAlign: 'bottom' }}>选填</Tag>\n      </Col>\n      <Col span={3} style={{ textAlign: 'center' }}>\n        操作\n      </Col>\n    </Row>\n    <Spin spinning={state.projVerAreaLoading || !ins.state.pFetchSubAppEnd}>\n      <Form>\n        {list.map((item, idx) => {\n          return <OpLine item={item} key={item.uiId} idx={idx} uiId={item.uiId}\n            syncer={ins.sync(`pLineDataList.${idx}.id`)}\n            buildVerIdSyncer={ins.sync(`pLineDataList.${idx}.buildVerId`)}\n            onlineVerIdSyncer={ins.sync(`pLineDataList.${idx}.onlineVerId`)}\n            selectVersion={() => se.selectVersion(idx)}\n            delItem={() => se.delItem(idx)}\n            addItem={() => se.addItem(idx + 1)}\n            copyToRow={se.copyToRow}\n            copyToCol={se.copyToCol}\n            copyToAll={se.copyToAll}\n            delCellVer={se.delCellVer}\n            allowManualInput={ins.state.pAllowManualInput}\n          />;\n        })}\n      </Form>\n      {!list.length && <>\n        <Empty description=\"暂无配置，请点击新增\" />\n        <VerticalBlank />\n      </>}\n      <div style={{ textAlign: 'center' }}>\n        <Button onClick={() => se.addItem(list.length)}><PlusOutlined />新增</Button>\n        <NormalSpanBlank />\n        <Button onClick={se.recover}><FileSyncOutlined />恢复</Button>\n        <NormalSpanBlank />\n        <Button type=\"primary\" onClick={se.submit} loading={state.updateLoading}><CheckOutlined />确认</Button>\n      </div>\n    </Spin>\n    <SelectVersionLayer />\n  </div>;\n}\n\nProjVerMap.displayName = 'ProjVerMap';\n\nexport default ProjVerMap;","/** @typedef {import('types/domain').SubApp} SubApp*/\nimport React from 'react';\nimport { Drawer, Radio, message, Tag, Alert } from 'antd';\nimport { useSetup, typeCtxDe, ccReducer, getModelState } from 'services/concent';\nimport { AppstoreOutlined, DatabaseOutlined, LinkOutlined, BranchesOutlined, SettingOutlined, CloudServerOutlined } from '@ant-design/icons';\nimport EasyForm from 'components/EasyForm';\nimport { NormalBlank } from 'components/dumb/Blank';\nimport { OPEN_SUB_APP_DRAWER, CANCEL_FORM_BTN_LOADING } from 'configs/constant/event';\nimport * as helUtil from 'utils/hel';\nimport fieldConf, { disabledFields } from './fieldConf';\nimport MarkInfoModal from './components/MarkInfoModal';\nimport MetaDataDrawer from './components/MetaDataDrawer';\nimport ResetVerModal from './components/ResetVerModal';\nimport AppVersionList from './AppVersionList';\nimport ServerModList from './ServerModList';\nimport Setting from './Setting';\nimport ProjVerMap from './ProjVerMap';\n\nconst { Group, Button } = Radio;\nlet key = 1;\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    owners: [], disableEdit: true, visible: false, subApp: {},\n    selTab: 'application', key: Date.now(),\n  });\n  const { state } = ins;\n\n  ctx.on('tryGetToken', (cb) => {\n    cb(ins.state.subApp.name);\n  });\n  ctx.on('tokenGot', ({ appName, appToken }) => {\n    if (ins.state.subApp.name === appName) {\n      message.success(`应用 [${appName}] token 获取成功...`, 1);\n      ctx.emit('fillFormValues', { token: appToken });\n    }\n  });\n\n  ctx.on(OPEN_SUB_APP_DRAWER, (/** @type SubApp*/subApp, selTab = 'application') => {\n    const user = getModelState('portal').userInfo.user;\n    const createUser = subApp.create_by;\n    const owners = subApp.owners || [];\n    const disableEdit = !(owners.includes(user) || createUser === user);\n    const subAppCopy = { proj_ver: { map: {} }, ...subApp };\n    const allOwners = owners.slice();\n    if (!allOwners.includes(createUser)) allOwners.push(createUser);\n    key += 1;\n    ccReducer.VersionList.setState({ subApp: subAppCopy });\n    ins.setState({ key, owners: allOwners, disableEdit, visible: true, subApp: subAppCopy, selTab });\n    settings.switchTab(selTab);\n  });\n\n  const settings = {\n    onClose: () => {\n      ins.setState({ visible: false, selTab: 'application' });\n      ccReducer.VersionList.clear();\n    },\n    onFormFinish: (values) => {\n      const toUpdate = { id: state.subApp.id, ...values };\n      if (!Array.isArray(toUpdate.owners)) toUpdate.owners = [toUpdate.owners];\n      if (!Array.isArray(toUpdate.gray_users)) toUpdate.gray_users = [toUpdate.gray_users];\n\n      if (toUpdate.owners.length > 50) {\n        ctx.emit(CANCEL_FORM_BTN_LOADING);\n        return message.warn('负责人不能大于 50');\n      }\n      if (toUpdate.gray_users.length > 50) {\n        ctx.emit(CANCEL_FORM_BTN_LOADING);\n        return message.warn('灰度名单不能大于 50');\n      }\n      if (!toUpdate.cnname) {\n        toUpdate.cnname = toUpdate.name;\n      }\n      if (toUpdate.cnname.length > 128) {\n        ctx.emit(CANCEL_FORM_BTN_LOADING);\n        return message.warn('中文名称不能大于128位');\n      }\n\n      const { token, ...rest } = toUpdate;\n      rest.render_app_host = rest.render_app_host || ''; // 防止提交 null 到后台\n\n      ccReducer.appStore.updateSubApp(rest)\n        .then((ret) => {\n          if (ret) {\n            message.info('更新成功');\n            ins.setState({ subApp: { ...state.subApp, ...toUpdate } });\n          }\n        })\n        .catch(err => message.warn(err.message))\n        .finally(() => ctx.emit(CANCEL_FORM_BTN_LOADING));\n    },\n    getFieldConf: () => state.disableEdit ? disabledFields : fieldConf,\n    getUiExtraBtns: () => state.disableEdit\n      ? [<Alert key=\"1\" type=\"warning\" style={{ marginTop: '12px' }} message={`无权限修改,请联系 ${state.owners.join(',')}`} />]\n      : [],\n    switchTab: (selTab) => {\n      const appName = ins.state.subApp.name;\n      ins.setState({ selTab });\n      if (!appName) {\n        message.warn('缺失 appName 参数');\n        return;\n      }\n\n      if (selTab === 'visit') {\n        ctx.emit('openConfirmVisitAppModal', appName, ins.state.subApp);\n      }\n    },\n    state: state,\n  };\n\n  return settings;\n}\n\nfunction SubAppDrawer() {\n  const settings = useSetup(setup);\n  const { subApp, selTab, visible, disableEdit, key } = settings.state;\n  const { name } = subApp;\n\n  const title = <div>\n    应用 <span style={{ color: 'var(--lra-theme-color)' }}>{name}</span><NormalBlank />\n    <Group value={selTab} onChange={e => settings.switchTab(e.target.value)}>\n      <Button value={'application'}>\n        <AppstoreOutlined /> 编辑应用\n      </Button>\n      <Button value={'version'}>\n        <DatabaseOutlined /> 版本列表\n      </Button>\n      <Button value={'server_mod'}>\n        <CloudServerOutlined /> 服务端列表 <Tag color=\"#cd201f\">new</Tag>\n      </Button>\n      <Button value={'proj_ver'}>\n        <BranchesOutlined /> 项目与版本\n      </Button>\n      <Button value={'visit'}>\n        <LinkOutlined /> 访问应用\n      </Button>\n      <Button value={'setting'} style={{ width: '105px', textAlign: 'center' }}>\n        <SettingOutlined /> 设置\n      </Button>\n    </Group>\n  </div>;\n\n  let UIDrawerContent = '';\n  if (selTab === 'application') {\n    UIDrawerContent = (\n      <EasyForm\n        key={key}\n        onFinish={settings.onFormFinish}\n        layout=\"vertical\"\n        fields={settings.getFieldConf()}\n        submitBtnLabel=\"提交\"\n        fillBtn=\"重置\"\n        showSelfBtn={!disableEdit}\n        extraBtns={settings.getUiExtraBtns()}\n        fillValues={subApp}\n      />\n    );\n  } else if (selTab === \"proj_ver\") {\n    UIDrawerContent = <ProjVerMap name={name} />;\n  } else if (selTab === \"setting\") {\n    UIDrawerContent = <Setting subApp={subApp} />;\n  } else if (selTab === \"server_mod\") {\n    UIDrawerContent = <ServerModList name={name} />;\n  } else {\n    UIDrawerContent = <AppVersionList name={name} />;\n  }\n\n  return (\n    <Drawer\n      width=\"1180px\"\n      title={title}\n      placement=\"right\"\n      closable={true}\n      onClose={settings.onClose}\n      visible={visible}\n      zIndex={200}\n      getContainer={helUtil.getAppBodyContainer}\n    >\n      {UIDrawerContent}\n      <MarkInfoModal />\n      <MetaDataDrawer />\n      <ResetVerModal />\n    </Drawer>\n  );\n}\n\nexport default React.memo(SubAppDrawer);\n","/** @typedef {import('hel-types').ISubApp} SubApp*/\nimport React from 'react';\nimport { Drawer, Tag } from 'antd';\nimport { useSetup, typeCtxDe } from 'services/concent';\nimport { OPEN_COPY_SUB_APP_LAYER } from 'configs/constant/event';\nimport * as helUtil from 'utils/hel';\nimport SubAppCreateForm from 'components/SubAppCreateForm';\n\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    mode: 'prod',\n    /** @type {SubApp} */\n    subApp: {},\n    visible: false,\n  });\n  const { state } = ins;\n\n  ctx.on(OPEN_COPY_SUB_APP_LAYER, (/** @type SubApp*/subApp, mode = 'prod') => {\n    ins.setState({ mode, subApp, visible: true });\n  });\n\n  const settings = {\n    state,\n    onClose() {\n      ins.setState({ visible: false });\n    },\n    getTitle() {\n      if (state.mode === 'prod') {\n        return <>以应用 {state.subApp.name} 为模板复制一个新应用组的新应用</>;\n      }\n      return <>以应用\n        {state.subApp.name} 为模板复制一个同应用组 <Tag color=\"var(--lra-theme-color)\">{state.subApp.app_group_name}</Tag>\n        的新应用</>;\n    },\n  };\n\n  return settings;\n}\n\nfunction SubAppCopyLayer() {\n  const settings = useSetup(setup);\n  const { subApp, mode, visible } = settings.state;\n\n  return (\n    <Drawer\n      width=\"1180px\"\n      title={settings.getTitle()}\n      placement=\"right\"\n      closable={true}\n      onClose={settings.onClose}\n      visible={visible}\n      zIndex={200}\n      getContainer={helUtil.getAppBodyContainer}\n    >\n      <SubAppCreateForm key={`${subApp.name}_${mode}`} subApp={subApp} mode={mode} />\n    </Drawer>\n  );\n}\n\nexport default React.memo(SubAppCopyLayer);\n","import React from 'react';\nimport { Card, Radio, Popover, Col, Row, Tag } from 'antd';\nimport {\n  FileOutlined, StarOutlined, CloudOutlined, FileTextOutlined, FileAddOutlined, DatabaseOutlined,\n  PlusSquareOutlined, LikeOutlined, ThunderboltOutlined, EllipsisOutlined, QuestionOutlined,\n} from '@ant-design/icons';\nimport { useConcent } from 'concent';\nimport { getUrlChangedEvName } from 'react-router-concent';\nimport * as commonService from 'services/common';\nimport { getModelComputed } from 'services/concent';\nimport * as page from 'configs/constant/page';\n\nconst { LATEST_VISIT, STAR, CREATED, STORE, INTRO, NEW_APP, TOP, SYNC_STAFF, SYNC_ALLOWED_APPS, CLASS_MGR } = page;\nconst pagePaths = Object.values(page);\nconst { Group, Button } = Radio;\nconst U_CENTER = 'uCenter';\nconst path2conf = {\n  [CREATED]: { label: '我的创建', icon: <FileAddOutlined /> },\n  [LATEST_VISIT]: { label: '最近访问', icon: <FileOutlined /> },\n  [SYNC_STAFF]: { label: '同步员工', icon: <FileOutlined /> },\n  [SYNC_ALLOWED_APPS]: { label: '同步应用白名单', icon: <FileOutlined /> },\n};\n\nfunction getBtnKey(path) {\n  let radioBtnKey = '';\n  let dropBtnKey = '';\n  let subMenuKey = '';\n\n  if (path2conf[path]) {\n    dropBtnKey = U_CENTER;\n    subMenuKey = path;\n  } else {\n    radioBtnKey = path;\n    subMenuKey = CREATED;\n  }\n  return { radioBtnKey, dropBtnKey, subMenuKey };\n}\n\nconst stLine = { padding: '6px 12px', width: '100%' };\nfunction Line(props) {\n  return <div className=\"gHoverTransToBlue\" style={stLine} onClick={props.onClick}>{props.children}</div>;\n}\n\nfunction getInitialState() {\n  let path = commonService.getRouteRelativePath();\n  if (path === '/') {\n    path = LATEST_VISIT;\n  } else if (!pagePaths.includes(path)) {\n    path = '';\n  }\n  return { open: false, path, ...getBtnKey(path) };\n}\n\nfunction setup(ctx) {\n  const ins = ctx.initState(getInitialState());\n\n  ctx.on(getUrlChangedEvName(), (action) => {\n    const path = action.pathname;\n    ctx.setState({ path, ...getBtnKey(path) });\n  });\n\n  const settings = {\n    ins,\n    handleRadioBtnClick: e => {\n      const path = e.target.value;\n      commonService.historyPush(path);\n      ctx.setState({ radioBtnKey: path, dropBtnKey: '', path });\n    },\n    handleDropBtnClick: () => {\n      const { subMenuKey } = ins.state;\n      commonService.historyPush(subMenuKey);\n      ctx.setState({ dropBtnKey: U_CENTER, path: subMenuKey, radioBtnKey: '' });\n    },\n    clickSubMenu(e) {\n      const path = e.key;\n      commonService.historyPush(path);\n      ctx.setState({ dropBtnKey: U_CENTER, radioBtnKey: '', path, subMenuKey: path });\n    },\n    renderMenu() {\n      const isAdmin = getModelComputed('portal').isAdmin;\n      return <div>\n        <Row gutter={16}>\n          <Col>\n            <Card size=\"small\" title={<Tag color=\"#87d068\">个人中心</Tag>} style={{ width: 150 }}>\n              <Line onClick={() => settings.clickSubMenu({ key: CREATED })}><FileAddOutlined /> 我的创建</Line>\n              <Line onClick={() => settings.clickSubMenu({ key: LATEST_VISIT })}><FileOutlined /> 最近访问</Line>\n            </Card>\n          </Col>\n          <Col>\n            <Card size=\"small\" title={<Tag color=\"#87d068\">其他设置</Tag>} style={{ width: 150, height: '100%' }}>\n              {isAdmin && <Line onClick={() => settings.clickSubMenu({ key: SYNC_STAFF })}><span>同步员工</span></Line>}\n              {isAdmin && (\n                <Line onClick={() => settings.clickSubMenu({ key: SYNC_ALLOWED_APPS })}><span>同步应用白名单</span></Line>\n              )}\n              <Line onClick={() => alert('待实现')}><QuestionOutlined /> <span style={{ color: 'grey' }}>thinking...</span></Line>\n            </Card>\n          </Col>\n        </Row>\n      </div>;\n    },\n  };\n  return settings;\n}\n\n/** @typedef {import('types/store').CtxDe<{}, import('concent').SettingsType<typeof setup>>} Ctx*/\nexport default React.memo(() => {\n  /** @type Ctx */\n  const { state, settings } = useConcent({ setup });\n  const { subMenuKey, radioBtnKey, dropBtnKey } = state;\n  const { label, icon } = path2conf[subMenuKey];\n\n  return (\n    <Card style={{ position: 'sticky', top: 0, zIndex: 99 }} bodyStyle={{ padding: '12px 24px' }}>\n      <Group value={radioBtnKey} onChange={settings.handleRadioBtnClick} buttonStyle=\"solid\">\n        <Button value={STORE} style={{ width: '110px' }}>\n          <CloudOutlined /> 应用商店\n        </Button>\n        <Button value={NEW_APP} style={{ width: '110px' }}>\n          <PlusSquareOutlined /> 新建应用\n        </Button>\n        <Button value={TOP} style={{ width: '110px' }}>\n          <LikeOutlined /> 置顶推荐\n        </Button>\n        <Button value={INTRO} style={{ width: '110px' }}>\n          <ThunderboltOutlined /> 关于海拉\n        </Button>\n        <Button value={CLASS_MGR} style={{ width: '110px' }}>\n          <DatabaseOutlined /> 我的分类\n        </Button>\n        <Button value={STAR} style={{ width: '110px' }}>\n          <StarOutlined /> 我的收藏\n        </Button>\n      </Group>\n      {/* 经测试，当前版本antd 在这里写 Button type=\"primary\" 无效，故换为 Group 套 Button 写法 */}\n      {/* <Button type={path2conf[path] ? 'primary' : 'normal'}>{icon}{label}</Button> */}\n      <Group value={dropBtnKey} buttonStyle=\"solid\">\n        <Button value={U_CENTER} onClick={settings.handleDropBtnClick}>{icon}{label}</Button>\n      </Group>\n      <Popover content={settings.renderMenu()} placement=\"bottomLeft\">\n        <Button onMouseEnter={settings.ins.sync('open', true)}><EllipsisOutlined /></Button>\n      </Popover>\n      <div style={{ float: 'right', display: 'inline-block' }}>\n        <a rel=\"noopener noreferrer\" href=\"https://tencent.github.io/hel/\" target=\"_blank\">\n          <FileTextOutlined /> 文档\n        </a>\n      </div>\n    </Card>\n  );\n});\n","import React from 'react';\n\nexport default function LatestVisit() {\n  return <svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"file\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z\"></path></svg>;\n}\n","import React from 'react';\n\nexport default function Star() {\n  return <svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"star\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z\"></path></svg>;\n}\n","\nimport React from 'react';\n\nexport default function Home() {\n  return <svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"home\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z\"></path></svg>;\n}\n","// import React from 'react';\n\nexport default function ({ setIf, t = '', f = '' }) {\n  return setIf ? t : f;\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { ICON_HEL } from 'configs/constant';\n\n\nexport default function Logo({ onClick }) {\n  return <img className=\"gHover\" witdh=\"36\" height=\"36\" alt=\"logo\" onClick={onClick} src={ICON_HEL} />;\n}\n","import styled, { css } from 'styled-components';\n\nexport const Wrap = styled.div`\n  overflow: hidden;\n  z-index: 199;\n  position: fixed;\n  background-color: #041528;\n  width: 60px;\n  height: 100vh;\n  padding-top: 10px;\n  text-align: center;\n  top: 0;\n  right: 0;\n`;\n\nexport const MenuBox = styled.div`\n  position: fixed;\n  ${props => css`display:${props.show ? 'block' : 'none'}`};\n  right: 60px;\n  ${props => css`top:${props.top || '60px'}`};\n  width: 280px;\n  padding: 6px 6px;\n  min-height: 100px;\n  background-color: rgb(4, 21, 40);\n  border-left: 3px solid white;\n  border-top: 1px solid white;\n  border-bottom: 1px solid white;\n  border-right: 1px solid white;\n  color: white;\n`;\n\nexport const MenuItem = styled.div`\n  line-height: 33px;\n  height: 33px;\n  text-align: left;\n  padding-left: 12px;\n  margin: 3px 0;\n  font-size: 14px;\n`;\n\nexport const MenuText = styled.div`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const IconWrap = styled.div`\n  font-size: 16px;\n  margin-bottom: 3px;\n`;\n\nexport const Avatar = styled.div`\n  position: absolute;\n  border: 1px solid white;\n  width: 36px;\n  height: 36px;\n  ${props => css`background-image: url(${props.src})`};\n  background-size: contain;\n  margin-left: 12px;\n  border-radius: 18px;\n  bottom: 12px;\n`;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { IconWrap } from './styled';\n\nconst st = { color: 'white', margin: '12px', fontSize: '14px' };\n\n/**\n * @param {object} props\n * @param {(e:React.MouseEvent)=void} props.onMouseEnter\n * @param {(e:React.MouseEvent)=void} props.onMouseLeave\n */\nexport default function BarItem({ onMouseEnter, onMouseLeave, icon, label, ...rest }) {\n  return (\n    <div className=\"gHover\"\n      {...rest}\n      style={st}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      <IconWrap>{icon}</IconWrap>\n      {label}\n    </div>\n  );\n}\n","/* eslint-disable no-param-reassign,react/prop-types */\nimport React from 'react';\n\nexport default function Discover({ style = {} }) {\n  return <svg style={style} t=\"1595129903573\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1794\" width=\"20\" height=\"20\"><path d=\"M514.9 68.6c-245.5 0-445.3 199.8-445.3 445.3s199.8 445.3 445.3 445.3 445.3-199.8 445.3-445.3c0-245.6-199.7-445.3-445.3-445.3z m399.4 445.3c0 220.2-179.2 399.4-399.4 399.4S115.5 734.1 115.5 513.9s179.2-399.4 399.4-399.4 399.4 179.2 399.4 399.4z\" fill=\"#ffffff\" p-id=\"1795\"></path><path d=\"M702.5 304.1L432.1 422.4c-3.9 1.7-7 4.8-8.7 8.7L305.2 701.5c-2.3 5.3-1.9 11.1 1.3 15.9 3.2 4.8 8.4 7.7 14 7.7 2.3 0 4.6-0.5 6.8-1.4l270.4-118.3c3.9-1.7 7-4.8 8.7-8.7l118.3-270.4c2.3-5.3 1.9-11.1-1.3-15.9-4.5-6.8-13.3-9.6-20.9-6.3z m-34.5 73L566.4 580.2c-1.4 2.8-3.8 5.1-6.8 6.3l-165.1 66c-5.9 2.4-12.5 0.1-15.8-5.1-2.4-3.7-2.7-8.3-0.9-12.4l84.8-186.5c1.3-2.9 3.6-5.2 6.5-6.5L651 359.4c1.8-0.8 3.6-1.2 5.5-1.2 4.4 0 8.6 2.4 11.1 6.3 2.3 3.8 2.4 8.4 0.4 12.6z\" fill=\"#ffffff\" p-id=\"1796\"></path><path d=\"M514.9 474.8c-21.5 0-39 17.5-39 39s17.5 39 39 39c13.9 0 26.9-7.5 33.8-19.5 7-12 7-27 0-39-6.9-12-19.9-19.5-33.8-19.5z\" fill=\"#ffffff\" p-id=\"1797\"></path></svg>;\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport Discover from 'components/icon/Discover';\n\nconst stBox = { padding: '32px', color: 'white' };\nconst stKeyword = { color: '#007acd' };\nconst stBtnBox = { lineHeight: '26px', border: 'dashed 1px white' };\nconst stBtnLabel = { transform: 'translateY(4px)' };\n\nexport default function ({ keyword = '', onClick, ...rest }) {\n  return (\n    <div style={stBox} {...rest}>\n      暂无<span style={stKeyword}>{keyword}</span><br />去应用市场逛一逛吧^_^\n      <div className=\"gMenuItemHoverBlue\"\n        onClick={onClick}\n        style={stBtnBox}>\n        <Discover style={stBtnLabel} /> 开始探索\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { emit, useConcent } from 'concent';\nimport {\n  FileOutlined, StarOutlined, CloudOutlined, PlusSquareOutlined, LikeOutlined,\n  // PlusSquareOutlined, LikeOutlined, ThunderboltOutlined,\n} from '@ant-design/icons';\n\nimport { WELCOME, STORE, STAR, LATEST_VISIT, NEW_APP, TOP } from 'configs/constant/page';\nimport { GOTO_PAGE } from 'configs/constant/event';\nimport IconLatestVisit from 'components/icon/LatestVisit';\nimport IconStar from 'components/icon/Star';\nimport IconHome from 'components/icon/Home';\nimport Condition from 'components/util/Condition';\n\nimport Logo from '../_dumb/Logo';\nimport BarItem from './BarItem';\nimport NoAppFoundTip from './NoAppFoundTip';\nimport { Wrap, MenuBox, MenuItem, Avatar, MenuText } from './styled';\n\nfunction gotoWelcomePage() {\n  emit(GOTO_PAGE, WELCOME);\n}\n\nconst iState = () => ({ showLatestVisitMenu: false, showStarMenu: false, showHomeMenu: false });\n\n/** @typedef {import('types/store').CtxMS<{}, 'portal', ReturnType<typeof iState>} CtxPre */\n\nfunction setup(/** @type CtxPre*/ctx) {\n  ctx.initState(iState());\n\n  return {\n    handleLeave: (/** @type React.MouseEvent*/e) => {\n      const { clientY, target } = e.nativeEvent;\n      const { y, height } = target.getBoundingClientRect();\n      const startY = y;\n      const endY = y + height;\n\n      if (clientY <= startY || clientY >= endY) {\n        ctx.setState(iState());\n      }\n    },\n    handleItemClick: (/** @type React.MouseEvent*/e) => {\n      e.stopPropagation();\n      // 不加这个stopPropagation，加载子应用，操作元素时会出现错误 Failed to execute 'contains' on 'Node': parameter 1 is not of type 'Node'.\n      // 类似问题：https://stackoverflow.com/questions/37542901/typeerror-failed-to-execute-contains-on-node-parameter-1-is-not-of-type-n\n      const appName = e.target.dataset.name;\n      ctx.mr.changeSubApp({ appName });\n    },\n    gotoPage: (e) => {\n      const { path } = e.target.dataset;\n      ctx.setState(iState());\n      ctx.emit(GOTO_PAGE, path);\n    },\n  };\n}\n\n/** @typedef {import('types/store').CtxMS<{}, 'portal', ReturnType<typeof iState>,\n * import('concent').SettingsType<typeof setup>>} Ctx */\n\nexport default function SiderBarConcent({ hideSideBar }) {\n  /** @type Ctx */\n  const { state, settings, sync } = useConcent({ module: 'portal', setup });\n  const { starAppNames, visitAppNames, userInfo } = state;\n\n  return (\n    <Wrap>\n      <Avatar className=\"gHover\" src={userInfo.icon} onClick={hideSideBar} />\n      <Logo onClick={gotoWelcomePage} />\n      <BarItem icon={<IconLatestVisit />} label=\"最近\"\n        onMouseEnter={sync('showLatestVisitMenu', true)}\n        onMouseLeave={settings.handleLeave}\n      />\n      <MenuBox top=\"60px\" show={state.showLatestVisitMenu} onMouseLeave={sync('showLatestVisitMenu', false)}>\n        {visitAppNames.map(name => (\n          <MenuItem key={name} className=\"gMenuItemHoverBlue\">\n            <MenuText data-name={name} onClick={settings.handleItemClick}>{name}</MenuText>\n          </MenuItem>\n        ))}\n        <Condition\n          setIf={visitAppNames.length === 0}\n          t={<NoAppFoundTip data-path={STORE} keyword=\"最近访问\" onClick={settings.gotoPage} />}\n          f={\n            <MenuItem data-path={LATEST_VISIT} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n              更多 ...\n            </MenuItem>\n          }\n        />\n      </MenuBox>\n\n      <BarItem icon={<IconStar />} label=\"收藏\"\n        onMouseEnter={sync('showStarMenu', true)}\n        onMouseLeave={settings.handleLeave}\n      />\n      <MenuBox top=\"120px\" show={state.showStarMenu} onMouseLeave={sync('showStarMenu', false)}>\n        {starAppNames.map(name => (\n          <MenuItem key={name} className=\"gMenuItemHoverBlue\">\n            <MenuText data-name={name} onClick={settings.handleItemClick}>{name}</MenuText>\n          </MenuItem>\n        ))}\n        <Condition\n          setIf={starAppNames.length === 0}\n          t={<NoAppFoundTip data-path={STORE} keyword=\"我的收藏\" onClick={settings.gotoPage} />}\n          f={\n            <MenuItem data-path={STAR} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n              更多 ...\n            </MenuItem>\n          }\n        />\n      </MenuBox>\n\n      <BarItem icon={<IconHome />} label=\"主页\"\n        onMouseEnter={sync('showHomeMenu', true)}\n        onMouseLeave={settings.handleLeave}\n      />\n      <MenuBox top=\"180px\" show={state.showHomeMenu} onMouseLeave={sync('showHomeMenu', false)}>\n        <MenuItem data-path={LATEST_VISIT} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n          <FileOutlined /> 最近访问\n        </MenuItem>\n        <MenuItem data-path={STAR} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n          <StarOutlined /> 我的收藏\n        </MenuItem>\n        <MenuItem data-path={STORE} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n          <CloudOutlined /> 应用商店\n        </MenuItem>\n        <MenuItem data-path={TOP} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n          <LikeOutlined /> 置顶推荐\n        </MenuItem>\n        <MenuItem data-path={NEW_APP} className=\"gMenuItemHoverBlue\" onClick={settings.gotoPage}>\n          <PlusSquareOutlined /> 新建应用\n        </MenuItem>\n      </MenuBox>\n\n    </Wrap>\n  );\n}\n","import React from 'react';\n\nconst stFooter = {\n  textAlign: 'center',\n  padding: '5px',\n  height: '45px'\n};\n\nconst Footer = () => {\n  const year = new Date().getFullYear();\n  return <div style={stFooter}>\n    Copyright @ {year} 腾讯微前端oteam,\n    Powered by <a href=\"https://github.com/tnfe/hel\" target=\"_blank\" rel=\"noopener noreferrer\">hel-micro</a>、\n    <a href=\"https://github.com/concentjs/concent\" target=\"_blank\" rel=\"noopener noreferrer\">concent</a>、\n    <a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"noopener noreferrer\">react</a>\n  </div>;\n};\n\nexport default React.memo(Footer);\n","import React from 'react';\nimport { Modal, Alert, Button, Tag } from 'antd';\nimport { useSetup, typeCtxDe, emit, getModelComputed, ccReducer } from 'services/concent';\nimport { getBackendRenderPath } from 'services/shared/appPath';\nimport { OPEN_SUB_APP_DRAWER } from 'configs/constant/event';\n\nfunction setup(c) {\n  const ctx = typeCtxDe({}, c);\n  const ins = ctx.initState({\n    visible: false,\n    appName: '',\n    renderAppPath: '',\n    isLocalRender: true,\n    subApp: null,\n  });\n  ctx.on('openConfirmVisitAppModal', (appName, subApp) => {\n    const { is_local_render = true } = subApp;\n    const renderAppPath = subApp.render_app_host || getBackendRenderPath(appName);\n    ins.setState({ appName, visible: true, isLocalRender: is_local_render, subApp, renderAppPath });\n  });\n\n  const settings = {\n    ins,\n    cancel() {\n      ins.setState({ visible: false });\n    },\n    ok(noNewTab) {\n      const { appName, isLocalRender, renderAppPath } = ins.state;\n      settings.cancel();\n      ccReducer.portal.changeSubApp({ appName, isLocalRender, noNewTab, renderAppPath });\n    },\n    seeVersion() {\n      settings.cancel();\n      if (ins.state.subApp) {\n        emit(OPEN_SUB_APP_DRAWER, ins.state.subApp, 'version');\n      }\n    },\n    seeApp() {\n      settings.cancel();\n      if (ins.state.subApp) {\n        emit(OPEN_SUB_APP_DRAWER, ins.state.subApp, 'application');\n      }\n    },\n  };\n  return settings;\n}\n\nfunction ConfirmVisitAppModal() {\n  const settings = useSetup(setup);\n  const isAdmin = getModelComputed('portal').isAdmin;\n  const { ins: { state } } = settings;\n  const footer = [\n    <Button key=\"1\" onClick={settings.cancel}>取消</Button>,\n    <Button key=\"2\" onClick={settings.seeApp}>查看应用</Button>,\n    <Button key=\"3\" onClick={settings.seeVersion}>查看版本</Button>,\n    isAdmin ? <Button key=\"4\" onClick={() => settings.ok(true)}>访问(当前页签打开)</Button> : null,\n    <Button key=\"5\" type=\"primary\" onClick={() => settings.ok()}>确认访问</Button>,\n  ].filter(Boolean);\n\n  return (\n    <Modal\n      width={680}\n      visible={state.visible}\n      onCancel={settings.cancel}\n      footer={footer}\n      title={`确认访问应用 ${state.appName}`}\n    >\n      <Alert message={<div>\n        <p>\n          如果当前应用 {state.appName} 并非UI渲染型应用（仅是一个函数库），\n          或发布者未提供具体的跳转链接，你可能访问到<Tag color=\"#cd201f\">白屏页面</Tag>。\n        </p>\n        <p>\n          点击下方【查看应用】按钮进入应用详情页，进一步编辑跳转链接、灰度名单、负责人等信息。\n        </p>\n        <p>\n          点击下方【查看版本】按钮进入应用的版本列表页，使用灰度、回滚、查看元数据等功能。\n        </p>\n      </div>} type=\"info\" />\n    </Modal>\n  );\n}\n\nexport default React.memo(ConfirmVisitAppModal);\n","import React from 'react';\nimport styled, { StyleSheetManager } from 'styled-components';\nimport { register } from 'concent';\nimport { Layout, Spin } from 'antd';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { ConnectRouter } from 'react-router-concent';\n\nimport Welcome from 'pages/Welcome';\nimport Routes from 'components/Routes';\nimport LeaveSubAppModal from 'components/LeaveSubAppModal';\nimport SubAppDrawer from 'components/SubAppDrawer';\nimport SubAppCopyLayer from 'components/SubAppCopyLayer';\nimport * as commonService from 'services/common';\nimport { GOTO_PAGE, OPEN_MODAL } from 'configs/constant/event';\nimport { WELCOME } from 'configs/constant/page';\nimport * as helUtil from 'utils/hel';\n\nimport Header from './Header';\nimport SiderBar from './SiderBar';\nimport Footer from './Footer';\nimport ConfirmVisitAppModal from './ConfirmVisitAppModal';\n\n// 整体布局\nconst StLayout = styled(Layout)`\n  height: 100vh;\n  overflow: hidden;\n  z-index: 999999999;\n`;\n\n\nclass App extends React.Component {\n  /** @type {import('types/store').RootState['portal']} */\n  state = {};\n\n  /** @type {import('types/store').CtxM<{}, 'portal'>} */\n  ctx = {};\n\n  componentDidMount() {\n    this.ctx.mr.login()\n      .then(this.resetSubAppMargin)\n      .catch(this.resetSubAppMargin);\n  }\n\n  componentDidUpdate() {\n    this.resetSubAppMargin();\n  }\n\n  $$setup() {\n    const { on } = this.ctx;\n    on(GOTO_PAGE, (path) => {\n      const { activeApp, contentVisible } = this.ctx.state;\n      const doJump = () => {\n        if (!contentVisible) {\n          this.setState({ sideBarVisible: true, contentVisible: true, activeApp: null });\n        }\n        commonService.historyPush(path);\n      };\n\n      if (activeApp) {\n        // todo 通知子应用即将离开\n        this.ctx.emit(OPEN_MODAL, {\n          title: `离开应用 ${activeApp}`,\n          content: '是否确认离开当前子应用',\n          onOk: () => {\n            // 替换浏览地址为空路径的主域名，保持路径语义正确\n            window.top.history.replaceState({}, commonService.getTitle(), '/');\n            window.top.location.reload(window.top.location.origin);\n          },\n        });\n      } else {\n        doJump();\n      }\n    });\n  }\n\n  resetSubAppMargin = (e) => {\n    if (e instanceof Error) {\n      console.error(e);\n    }\n    const mcu = this.ctx.moduleComputed;\n\n    const subAppContainer = window.top.document.querySelector('#leah-sub-app-container');\n    if (subAppContainer) {\n      if (mcu.displaySubAppWithSideBar) {\n        if (subAppContainer.style.marginLeft !== '60px') {\n          subAppContainer.style.marginLeft = '60px';\n        }\n      } else if (mcu.displaySubAppOnly) {\n        if (subAppContainer.style.marginLeft !== '0px') {\n          subAppContainer.style.marginLeft = '0px';\n        }\n      }\n    }\n  }\n\n  hideSideBar = () => {\n    this.setState({ sideBarVisible: false, ballVisible: true });\n  }\n\n  renderFullPage = () => {\n    const { loading } = this.state;\n    return (\n      <Spin spinning={loading}>\n        <StLayout>\n          {this.renderContent()}\n          <Layout.Sider collapsed={true} collapsedWidth={60}>\n            {this.renderSideBar()}\n          </Layout.Sider>\n        </StLayout>\n      </Spin>\n    );\n  }\n\n  renderSideBar = () => (\n    <SiderBar hideSideBar={this.hideSideBar} />\n  )\n\n  renderContent = () => {\n    const { basicDataReady } = this.state;\n\n    return (\n      <Layout.Content style={{ overflowY: 'auto' }}>\n        <Header />\n        {basicDataReady\n          ? (\n            <div style={{ margin: '24px', padding: '24px', backgroundColor: 'white' }}>\n              <Routes />\n              <ConfirmVisitAppModal />\n            </div>\n          ) : ''}\n        <SubAppDrawer />\n        <SubAppCopyLayer />\n        <Footer />\n      </Layout.Content>\n    );\n  }\n\n  renderAppHub = () => {\n    const { sideBarVisible, contentVisible } = this.state;\n\n    if (commonService.getRouteRelativePath() === WELCOME) {\n      return '';\n    }\n\n    // 两者都为true，才渲染整个基座的页面（包括边栏和内容）\n    if (sideBarVisible && contentVisible) {\n      return this.renderFullPage();\n      // return this.renderSideBar();\n    } if (sideBarVisible) {\n      return this.renderSideBar();\n    } if (contentVisible) {\n      return this.renderContent();\n    }\n    return '';\n  }\n\n  renderMainContent = () => (\n    <>\n      {this.renderAppHub()}\n    </>\n  )\n\n  render() {\n    console.log(`%c HelApp BuildTime : ${process.env.REACT_APP_BUILD_TIME}`, 'color:purple;border:6px solid purple;');\n\n    return <BrowserRouter basename=\"__hub\">\n      <ConnectRouter>\n        <Switch>\n          <Route exact path={WELCOME} component={Welcome} />\n          <Route exact path=\"/\" component={Welcome} />\n          <Route render={this.renderMainContent} />\n        </Switch>\n        <LeaveSubAppModal />\n      </ConnectRouter>\n    </BrowserRouter>;\n  }\n}\n\nconst AppWrap = register('portal')(App);\n\nexport default class extends React.Component {\n  render() {\n    helUtil.setMicroAppProps(this.props);\n\n    if (helUtil.isRenderByHelMicro()) {\n      const shadowRoot = helUtil.getAppRootContainer();\n      // 方便 styled-components 插入 css 到shadow-dom 内部\n      if (shadowRoot) { // 当前项目环境暂未支持可选链\n        const styleContainer = document.createElement(\"div\");\n        shadowRoot.appendChild(styleContainer);\n\n        return <StyleSheetManager target={styleContainer}>\n          <AppWrap />\n        </StyleSheetManager>;\n      }\n    }\n\n    return <AppWrap />;\n  }\n};\n","import 'styles/appStyles.css';\nimport 'configs/before-init';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { message } from 'antd';\nimport AppRoot from 'components/AppRoot';\nimport { HEL_CHARGER } from 'configs/constant';\n\nmessage.config({\n  duration: 2,\n  top: 38,\n});\n\nasync function main() {\n  ReactDOM.render(<AppRoot />, document.getElementById('app-manager-root'));\n}\n\nmain().catch((err) => {\n  console.error(err);\n  alert(`err: ${err.message}, contact ${HEL_CHARGER}`);\n});\n"],"sourceRoot":""}